/*! For license information please see main.838923ba.js.LICENSE.txt */
!function(){"use strict";var e={110:function(e,t,n){var r=n(309),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},u={};function s(e){return r.isMemo(e)?o:u[e.$$typeof]||i}u[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},u[r.Memo]=o;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var o=l(n);f&&(o=o.concat(f(n)));for(var u=s(t),v=s(n),m=0;m<o.length;++m){var y=o[m];if(!a[y]&&(!r||!r[y])&&(!v||!v[y])&&(!u||!u[y])){var g=h(n,y);try{c(t,y,g)}catch(b){}}}}return t}},746:function(e,t){var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,u=n?Symbol.for("react.profiler"):60114,s=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,g=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,k=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case a:case u:case o:case d:return e;default:switch(e=e&&e.$$typeof){case c:case h:case m:case v:case s:return e;default:return t}}case i:return t}}}function x(e){return w(e)===f}t.AsyncMode=l,t.ConcurrentMode=f,t.ContextConsumer=c,t.ContextProvider=s,t.Element=r,t.ForwardRef=h,t.Fragment=a,t.Lazy=m,t.Memo=v,t.Portal=i,t.Profiler=u,t.StrictMode=o,t.Suspense=d,t.isAsyncMode=function(e){return x(e)||w(e)===l},t.isConcurrentMode=x,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===s},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===h},t.isFragment=function(e){return w(e)===a},t.isLazy=function(e){return w(e)===m},t.isMemo=function(e){return w(e)===v},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===u},t.isStrictMode=function(e){return w(e)===o},t.isSuspense=function(e){return w(e)===d},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===f||e===u||e===o||e===d||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===v||e.$$typeof===s||e.$$typeof===c||e.$$typeof===h||e.$$typeof===g||e.$$typeof===b||e.$$typeof===k||e.$$typeof===y)},t.typeOf=w},309:function(e,t,n){e.exports=n(746)},463:function(e,t,n){var r=n(791),i=n(296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,u={};function s(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(u[e]=t,e=0;e<t.length;e++)o.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(d,e)&&(h.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var k=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),x=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),_=Symbol.for("react.provider"),T=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),P=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var D=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var O=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=O&&e[O]||e["@@iterator"])?e:null}var M,F=Object.assign;function V(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var U=!1;function j(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,u=a.length-1;1<=o&&0<=u&&i[o]!==a[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==a[u]){if(1!==o||1!==u)do{if(o--,0>--u||i[o]!==a[u]){var s="\n"+i[o].replace(" at new "," at ");return e.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",e.displayName)),s}}while(1<=o&&0<=u);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?V(e):""}function z(e){switch(e.tag){case 5:return V(e.type);case 16:return V("Lazy");case 13:return V("Suspense");case 19:return V("SuspenseList");case 0:case 2:case 15:return e=j(e.type,!1);case 11:return e=j(e.type.render,!1);case 1:return e=j(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case E:return"Fragment";case x:return"Portal";case I:return"Profiler";case S:return"StrictMode";case N:return"Suspense";case A:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case _:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case R:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case P:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function K(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function G(e){e._valueTracker||(e._valueTracker=function(e){var t=K(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function H(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=K(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function $(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function J(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function X(e,t){J(e,t);var n=W(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function ae(e,t){var n=W(t.value),r=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ue(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function se(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ue(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,fe=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var ye=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ke=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,Ee=null,Se=null;function Ie(e){if(e=bi(e)){if("function"!==typeof xe)throw Error(a(280));var t=e.stateNode;t&&(t=wi(t),xe(e.stateNode,e.type,t))}}function _e(e){Ee?Se?Se.push(e):Se=[e]:Ee=e}function Te(){if(Ee){var e=Ee,t=Se;if(Se=Ee=null,Ie(e),t)for(e=0;e<t.length;e++)Ie(t[e])}}function Ce(e,t){return e(t)}function Ne(){}var Ae=!1;function Re(e,t,n){if(Ae)return e(t,n);Ae=!0;try{return Ce(e,t,n)}finally{Ae=!1,(null!==Ee||null!==Se)&&(Ne(),Te())}}function Pe(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var De=!1;if(l)try{var Oe={};Object.defineProperty(Oe,"passive",{get:function(){De=!0}}),window.addEventListener("test",Oe,Oe),window.removeEventListener("test",Oe,Oe)}catch(le){De=!1}function Le(e,t,n,r,i,a,o,u,s){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Me=!1,Fe=null,Ve=!1,Ue=null,je={onError:function(e){Me=!0,Fe=e}};function ze(e,t,n,r,i,a,o,u,s){Me=!1,Fe=null,Le.apply(je,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(Be(e)!==e)throw Error(a(188))}function Ke(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return We(i),e;if(o===r)return We(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var u=!1,s=i.child;s;){if(s===n){u=!0,n=i,r=o;break}if(s===r){u=!0,r=i,n=o;break}s=s.sibling}if(!u){for(s=o.child;s;){if(s===n){u=!0,n=o,r=i;break}if(s===r){u=!0,r=o,n=i;break}s=s.sibling}if(!u)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?Ge(e):null}function Ge(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ge(e);if(null!==t)return t;e=e.sibling}return null}var He=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,$e=i.unstable_shouldYield,Ye=i.unstable_requestPaint,Je=i.unstable_now,Xe=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(ut(e)/st|0)|0},ut=Math.log,st=Math.LN2;var ct=64,lt=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var u=o&~i;0!==u?r=ft(u):0!==(a&=o)&&(r=ft(a))}else 0!==(o=n&~i)?r=ft(o):0!==a&&(r=ft(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function gt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function kt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,xt,Et,St,It,_t=!1,Tt=[],Ct=null,Nt=null,At=null,Rt=new Map,Pt=new Map,Dt=[],Ot="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":Nt=null;break;case"mouseover":case"mouseout":At=null;break;case"pointerover":case"pointerout":Rt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pt.delete(t.pointerId)}}function Mt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&xt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ft(e){var t=gi(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void It(e.priority,(function(){Et(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Vt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=$t(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&xt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);ke=r,n.target.dispatchEvent(r),ke=null,t.shift()}return!0}function Ut(e,t,n){Vt(e)&&n.delete(t)}function jt(){_t=!1,null!==Ct&&Vt(Ct)&&(Ct=null),null!==Nt&&Vt(Nt)&&(Nt=null),null!==At&&Vt(At)&&(At=null),Rt.forEach(Ut),Pt.forEach(Ut)}function zt(e,t){e.blockedOn===t&&(e.blockedOn=null,_t||(_t=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,jt)))}function Bt(e){function t(t){return zt(t,e)}if(0<Tt.length){zt(Tt[0],e);for(var n=1;n<Tt.length;n++){var r=Tt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ct&&zt(Ct,e),null!==Nt&&zt(Nt,e),null!==At&&zt(At,e),Rt.forEach(t),Pt.forEach(t),n=0;n<Dt.length;n++)(r=Dt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Dt.length&&null===(n=Dt[0]).blockedOn;)Ft(n),null===n.blockedOn&&Dt.shift()}var qt=k.ReactCurrentBatchConfig,Wt=!0;function Kt(e,t,n,r){var i=bt,a=qt.transition;qt.transition=null;try{bt=1,Ht(e,t,n,r)}finally{bt=i,qt.transition=a}}function Gt(e,t,n,r){var i=bt,a=qt.transition;qt.transition=null;try{bt=4,Ht(e,t,n,r)}finally{bt=i,qt.transition=a}}function Ht(e,t,n,r){if(Wt){var i=$t(e,t,n,r);if(null===i)Wr(e,t,r,Qt,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Ct=Mt(Ct,e,t,n,r,i),!0;case"dragenter":return Nt=Mt(Nt,e,t,n,r,i),!0;case"mouseover":return At=Mt(At,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Rt.set(a,Mt(Rt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Pt.set(a,Mt(Pt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Ot.indexOf(e)){for(;null!==i;){var a=bi(i);if(null!==a&&wt(a),null===(a=$t(e,t,n,r))&&Wr(e,t,r,Qt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Wr(e,t,r,null,n)}}var Qt=null;function $t(e,t,n,r){if(Qt=null,null!==(e=gi(e=we(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function Yt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Jt=null,Xt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Xt,r=n.length,i="value"in Jt?Jt.value:Jt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,un,sn,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=an(cn),fn=F({},cn,{view:0,detail:0}),hn=an(fn),dn=F({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:In,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sn&&(sn&&"mousemove"===e.type?(on=e.screenX-sn.screenX,un=e.screenY-sn.screenY):un=on=0,sn=e),on)},movementY:function(e){return"movementY"in e?e.movementY:un}}),pn=an(dn),vn=an(F({},dn,{dataTransfer:0})),mn=an(F({},fn,{relatedTarget:0})),yn=an(F({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=F({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=an(gn),kn=an(F({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},En={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=En[e])&&!!t[e]}function In(){return Sn}var _n=F({},fn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:In,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tn=an(_n),Cn=an(F({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Nn=an(F({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:In})),An=an(F({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Rn=F({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Pn=an(Rn),Dn=[9,13,27,32],On=l&&"CompositionEvent"in window,Ln=null;l&&"documentMode"in document&&(Ln=document.documentMode);var Mn=l&&"TextEvent"in window&&!Ln,Fn=l&&(!On||Ln&&8<Ln&&11>=Ln),Vn=String.fromCharCode(32),Un=!1;function jn(e,t){switch(e){case"keyup":return-1!==Dn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Kn(e,t,n,r){_e(r),0<(t=Gr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Gn=null,Hn=null;function Qn(e){Vr(e,0)}function $n(e){if(H(ki(e)))return e}function Yn(e,t){if("change"===e)return t}var Jn=!1;if(l){var Xn;if(l){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Xn=Zn}else Xn=!1;Jn=Xn&&(!document.documentMode||9<document.documentMode)}function tr(){Gn&&(Gn.detachEvent("onpropertychange",nr),Hn=Gn=null)}function nr(e){if("value"===e.propertyName&&$n(Hn)){var t=[];Kn(t,Hn,e,we(e)),Re(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Hn=n,(Gn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return $n(Hn)}function ar(e,t){if("click"===e)return $n(t)}function or(e,t){if("input"===e||"change"===e)return $n(t)}var ur="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function sr(e,t){if(ur(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!ur(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=lr(n,a);var o=lr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=l&&"documentMode"in document&&11>=document.documentMode,mr=null,yr=null,gr=null,br=!1;function kr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==mr||mr!==Q(r)||("selectionStart"in(r=mr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&sr(gr,r)||(gr=r,0<(r=Gr(yr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},Er={},Sr={};function Ir(e){if(Er[e])return Er[e];if(!xr[e])return e;var t,n=xr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Sr)return Er[e]=n[t];return e}l&&(Sr=document.createElement("div").style,"AnimationEvent"in window||(delete xr.animationend.animation,delete xr.animationiteration.animation,delete xr.animationstart.animation),"TransitionEvent"in window||delete xr.transitionend.transition);var _r=Ir("animationend"),Tr=Ir("animationiteration"),Cr=Ir("animationstart"),Nr=Ir("transitionend"),Ar=new Map,Rr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pr(e,t){Ar.set(e,t),s(t,[e])}for(var Dr=0;Dr<Rr.length;Dr++){var Or=Rr[Dr];Pr(Or.toLowerCase(),"on"+(Or[0].toUpperCase()+Or.slice(1)))}Pr(_r,"onAnimationEnd"),Pr(Tr,"onAnimationIteration"),Pr(Cr,"onAnimationStart"),Pr("dblclick","onDoubleClick"),Pr("focusin","onFocus"),Pr("focusout","onBlur"),Pr(Nr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function Fr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,u,s,c){if(ze.apply(this,arguments),Me){if(!Me)throw Error(a(198));var l=Fe;Me=!1,Fe=null,Ve||(Ve=!0,Ue=l)}}(r,t,void 0,e),e.currentTarget=null}function Vr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var u=r[o],s=u.instance,c=u.currentTarget;if(u=u.listener,s!==a&&i.isPropagationStopped())break e;Fr(i,u,c),a=s}else for(o=0;o<r.length;o++){if(s=(u=r[o]).instance,c=u.currentTarget,u=u.listener,s!==a&&i.isPropagationStopped())break e;Fr(i,u,c),a=s}}}if(Ve)throw e=Ue,Ve=!1,Ue=null,e}function Ur(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function jr(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var zr="_reactListening"+Math.random().toString(36).slice(2);function Br(e){if(!e[zr]){e[zr]=!0,o.forEach((function(t){"selectionchange"!==t&&(Mr.has(t)||jr(t,!1,e),jr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zr]||(t[zr]=!0,jr("selectionchange",!1,t))}}function qr(e,t,n,r){switch(Yt(t)){case 1:var i=Kt;break;case 4:i=Gt;break;default:i=Ht}n=i.bind(null,t,n,e),i=void 0,!De||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Wr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var u=r.stateNode.containerInfo;if(u===i||8===u.nodeType&&u.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var s=o.tag;if((3===s||4===s)&&((s=o.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;o=o.return}for(;null!==u;){if(null===(o=gi(u)))return;if(5===(s=o.tag)||6===s){r=a=o;continue e}u=u.parentNode}}r=r.return}Re((function(){var r=a,i=we(n),o=[];e:{var u=Ar.get(e);if(void 0!==u){var s=ln,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":s=Tn;break;case"focusin":c="focus",s=mn;break;case"focusout":c="blur",s=mn;break;case"beforeblur":case"afterblur":s=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=Nn;break;case _r:case Tr:case Cr:s=yn;break;case Nr:s=An;break;case"scroll":s=hn;break;case"wheel":s=Pn;break;case"copy":case"cut":case"paste":s=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=Cn}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==u?u+"Capture":null:u;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Pe(p,h))&&l.push(Kr(p,v,d)))),f)break;p=p.return}0<l.length&&(u=new s(u,c,null,n,i),o.push({event:u,listeners:l}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||n===ke||!(c=n.relatedTarget||n.fromElement)||!gi(c)&&!c[pi])&&(s||u)&&(u=i.window===i?i:(u=i.ownerDocument)?u.defaultView||u.parentWindow:window,s?(s=r,null!==(c=(c=n.relatedTarget||n.toElement)?gi(c):null)&&(c!==(f=Be(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(s=null,c=r),s!==c)){if(l=pn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Cn,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==s?u:ki(s),d=null==c?u:ki(c),(u=new l(v,p+"leave",s,n,i)).target=f,u.relatedTarget=d,v=null,gi(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,s&&c)e:{for(h=c,p=0,d=l=s;d;d=Hr(d))p++;for(d=0,v=h;v;v=Hr(v))d++;for(;0<p-d;)l=Hr(l),p--;for(;0<d-p;)h=Hr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Hr(l),h=Hr(h)}l=null}else l=null;null!==s&&Qr(o,u,s,l,!1),null!==c&&null!==f&&Qr(o,f,c,l,!0)}if("select"===(s=(u=r?ki(r):window).nodeName&&u.nodeName.toLowerCase())||"input"===s&&"file"===u.type)var m=Yn;else if(Wn(u))if(Jn)m=or;else{m=ir;var y=rr}else(s=u.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(m=ar);switch(m&&(m=m(e,r))?Kn(o,m,n,i):(y&&y(e,u,r),"focusout"===e&&(y=u._wrapperState)&&y.controlled&&"number"===u.type&&ee(u,"number",u.value)),y=r?ki(r):window,e){case"focusin":(Wn(y)||"true"===y.contentEditable)&&(mr=y,yr=r,gr=null);break;case"focusout":gr=yr=mr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,kr(o,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":kr(o,n,i)}var g;if(On)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Bn?jn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Fn&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Bn&&(g=en()):(Xt="value"in(Jt=i)?Jt.value:Jt.textContent,Bn=!0)),0<(y=Gr(r,b)).length&&(b=new kn(b,e,null,n,i),o.push({event:b,listeners:y}),g?b.data=g:null!==(g=zn(n))&&(b.data=g))),(g=Mn?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(Un=!0,Vn);case"textInput":return(e=t.data)===Vn&&Un?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!On&&jn(e,t)?(e=en(),Zt=Xt=Jt=null,Bn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Gr(r,"onBeforeInput")).length&&(i=new kn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}Vr(o,t)}))}function Kr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Gr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Pe(e,n))&&r.unshift(Kr(e,a,i)),null!=(a=Pe(e,t))&&r.push(Kr(e,a,i))),e=e.return}return r}function Hr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var u=n,s=u.alternate,c=u.stateNode;if(null!==s&&s===r)break;5===u.tag&&null!==c&&(u=c,i?null!=(s=Pe(n,a))&&o.unshift(Kr(n,s,u)):i||null!=(s=Pe(n,a))&&o.push(Kr(n,s,u))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var $r=/\r\n?/g,Yr=/\u0000|\uFFFD/g;function Jr(e){return("string"===typeof e?e:""+e).replace($r,"\n").replace(Yr,"")}function Xr(e,t,n){if(t=Jr(t),Jr(e)!==t&&n)throw Error(a(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(ui)}:ri;function ui(e){setTimeout((function(){throw e}))}function si(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Bt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Bt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),hi="__reactFiber$"+fi,di="__reactProps$"+fi,pi="__reactContainer$"+fi,vi="__reactEvents$"+fi,mi="__reactListeners$"+fi,yi="__reactHandles$"+fi;function gi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=li(e);null!==e;){if(n=e[hi])return n;e=li(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ki(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function wi(e){return e[di]||null}var xi=[],Ei=-1;function Si(e){return{current:e}}function Ii(e){0>Ei||(e.current=xi[Ei],xi[Ei]=null,Ei--)}function _i(e,t){Ei++,xi[Ei]=e.current,e.current=t}var Ti={},Ci=Si(Ti),Ni=Si(!1),Ai=Ti;function Ri(e,t){var n=e.type.contextTypes;if(!n)return Ti;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Pi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Di(){Ii(Ni),Ii(Ci)}function Oi(e,t,n){if(Ci.current!==Ti)throw Error(a(168));_i(Ci,t),_i(Ni,n)}function Li(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,q(e)||"Unknown",i));return F({},n,r)}function Mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ti,Ai=Ci.current,_i(Ci,e),_i(Ni,Ni.current),!0}function Fi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Li(e,t,Ai),r.__reactInternalMemoizedMergedChildContext=e,Ii(Ni),Ii(Ci),_i(Ci,e)):Ii(Ni),_i(Ni,n)}var Vi=null,Ui=!1,ji=!1;function zi(e){null===Vi?Vi=[e]:Vi.push(e)}function Bi(){if(!ji&&null!==Vi){ji=!0;var e=0,t=bt;try{var n=Vi;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Vi=null,Ui=!1}catch(i){throw null!==Vi&&(Vi=Vi.slice(e+1)),He(Ze,Bi),i}finally{bt=t,ji=!1}}return null}var qi=[],Wi=0,Ki=null,Gi=0,Hi=[],Qi=0,$i=null,Yi=1,Ji="";function Xi(e,t){qi[Wi++]=Gi,qi[Wi++]=Ki,Ki=e,Gi=t}function Zi(e,t,n){Hi[Qi++]=Yi,Hi[Qi++]=Ji,Hi[Qi++]=$i,$i=e;var r=Yi;e=Ji;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Yi=1<<32-ot(t)+i|n<<i|r,Ji=a+e}else Yi=1<<a|n<<i|r,Ji=e}function ea(e){null!==e.return&&(Xi(e,1),Zi(e,1,0))}function ta(e){for(;e===Ki;)Ki=qi[--Wi],qi[Wi]=null,Gi=qi[--Wi],qi[Wi]=null;for(;e===$i;)$i=Hi[--Qi],Hi[Qi]=null,Ji=Hi[--Qi],Hi[Qi]=null,Yi=Hi[--Qi],Hi[Qi]=null}var na=null,ra=null,ia=!1,aa=null;function oa(e,t){var n=Rc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ua(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==$i?{id:Yi,overflow:Ji}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Rc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function sa(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ca(e){if(ia){var t=ra;if(t){var n=t;if(!ua(e,t)){if(sa(e))throw Error(a(418));t=ci(n.nextSibling);var r=na;t&&ua(e,t)?oa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(sa(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function la(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function fa(e){if(e!==na)return!1;if(!ia)return la(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(sa(e))throw ha(),Error(a(418));for(;t;)oa(e,t),t=ci(t.nextSibling)}if(la(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?ci(e.stateNode.nextSibling):null;return!0}function ha(){for(var e=ra;e;)e=ci(e.nextSibling)}function da(){ra=na=null,ia=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var va=k.ReactCurrentBatchConfig;function ma(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ya=Si(null),ga=null,ba=null,ka=null;function wa(){ka=ba=ga=null}function xa(e){var t=ya.current;Ii(ya),e._currentValue=t}function Ea(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Sa(e,t){ga=e,ka=ba=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ku=!0),e.firstContext=null)}function Ia(e){var t=e._currentValue;if(ka!==e)if(e={context:e,memoizedValue:t,next:null},null===ba){if(null===ga)throw Error(a(308));ba=e,ga.dependencies={lanes:0,firstContext:e}}else ba=ba.next=e;return t}var _a=null;function Ta(e){null===_a?_a=[e]:_a.push(e)}function Ca(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ta(t)):(n.next=i.next,i.next=n),t.interleaved=n,Na(e,r)}function Na(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Aa=!1;function Ra(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Pa(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Da(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Oa(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Cs)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Na(e,n)}return null===(i=r.interleaved)?(t.next=t,Ta(r)):(t.next=i.next,i.next=t),r.interleaved=t,Na(e,n)}function La(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}function Ma(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Fa(e,t,n,r){var i=e.updateQueue;Aa=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,u=i.shared.pending;if(null!==u){i.shared.pending=null;var s=u,c=s.next;s.next=null,null===o?a=c:o.next=c,o=s;var l=e.alternate;null!==l&&((u=(l=l.updateQueue).lastBaseUpdate)!==o&&(null===u?l.firstBaseUpdate=c:u.next=c,l.lastBaseUpdate=s))}if(null!==a){var f=i.baseState;for(o=0,l=c=s=null,u=a;;){var h=u.lane,d=u.eventTime;if((r&h)===h){null!==l&&(l=l.next={eventTime:d,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var p=e,v=u;switch(h=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(d,f,h);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=v.payload)?p.call(d,f,h):p)||void 0===h)break e;f=F({},f,h);break e;case 2:Aa=!0}}null!==u.callback&&0!==u.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[u]:h.push(u))}else d={eventTime:d,lane:h,tag:u.tag,payload:u.payload,callback:u.callback,next:null},null===l?(c=l=d,s=f):l=l.next=d,o|=h;if(null===(u=u.next)){if(null===(u=i.shared.pending))break;u=(h=u).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===l&&(s=f),i.baseState=s,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Ms|=o,e.lanes=o,e.memoizedState=f}}function Va(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var Ua=(new r.Component).refs;function ja(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var za={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),a=Da(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Oa(e,a,i))&&(nc(t,e,i,r),La(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),a=Da(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Oa(e,a,i))&&(nc(t,e,i,r),La(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),i=Da(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Oa(e,i,r))&&(nc(t,e,r,n),La(t,e,r))}};function Ba(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!sr(n,r)||!sr(i,a))}function qa(e,t,n){var r=!1,i=Ti,a=t.contextType;return"object"===typeof a&&null!==a?a=Ia(a):(i=Pi(t)?Ai:Ci.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ri(e,i):Ti),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=za,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Wa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&za.enqueueReplaceState(t,t.state,null)}function Ka(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Ua,Ra(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Ia(a):(a=Pi(t)?Ai:Ci.current,i.context=Ri(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(ja(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&za.enqueueReplaceState(i,i.state,null),Fa(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Ga(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===Ua&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Ha(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Qa(e){return(0,e._init)(e._payload)}function $a(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Dc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function u(t){return e&&null===t.alternate&&(t.flags|=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===E?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===P&&Qa(a)===t.type)?((r=i(t,n.props)).ref=Ga(e,t,n),r.return=e,r):((r=Oc(n.type,n.key,n.props,null,e.mode,r)).ref=Ga(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Vc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Lc(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Fc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Oc(t.type,t.key,t.props,null,e.mode,n)).ref=Ga(e,null,t),n.return=e,n;case x:return(t=Vc(t,e.mode,n)).return=e,t;case P:return h(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Lc(t,e.mode,n,null)).return=e,t;Ha(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case x:return n.key===i?l(e,t,n,r):null;case P:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:f(e,t,n,r,null);Ha(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case x:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case P:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return f(t,e=e.get(n)||null,r,i,null);Ha(t,r)}return null}function v(i,a,u,s){for(var c=null,l=null,f=a,v=a=0,m=null;null!==f&&v<u.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var y=d(i,f,u[v],s);if(null===y){null===f&&(f=m);break}e&&f&&null===y.alternate&&t(i,f),a=o(y,a,v),null===l?c=y:l.sibling=y,l=y,f=m}if(v===u.length)return n(i,f),ia&&Xi(i,v),c;if(null===f){for(;v<u.length;v++)null!==(f=h(i,u[v],s))&&(a=o(f,a,v),null===l?c=f:l.sibling=f,l=f);return ia&&Xi(i,v),c}for(f=r(i,f);v<u.length;v++)null!==(m=p(f,i,v,u[v],s))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),a=o(m,a,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),ia&&Xi(i,v),c}function m(i,u,s,c){var l=L(s);if("function"!==typeof l)throw Error(a(150));if(null==(s=l.call(s)))throw Error(a(151));for(var f=l=null,v=u,m=u=0,y=null,g=s.next();null!==v&&!g.done;m++,g=s.next()){v.index>m?(y=v,v=null):y=v.sibling;var b=d(i,v,g.value,c);if(null===b){null===v&&(v=y);break}e&&v&&null===b.alternate&&t(i,v),u=o(b,u,m),null===f?l=b:f.sibling=b,f=b,v=y}if(g.done)return n(i,v),ia&&Xi(i,m),l;if(null===v){for(;!g.done;m++,g=s.next())null!==(g=h(i,g.value,c))&&(u=o(g,u,m),null===f?l=g:f.sibling=g,f=g);return ia&&Xi(i,m),l}for(v=r(i,v);!g.done;m++,g=s.next())null!==(g=p(v,i,m,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),u=o(g,u,m),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),ia&&Xi(i,m),l}return function e(r,a,o,s){if("object"===typeof o&&null!==o&&o.type===E&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var c=o.key,l=a;null!==l;){if(l.key===c){if((c=o.type)===E){if(7===l.tag){n(r,l.sibling),(a=i(l,o.props.children)).return=r,r=a;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===P&&Qa(c)===l.type){n(r,l.sibling),(a=i(l,o.props)).ref=Ga(r,l,o),a.return=r,r=a;break e}n(r,l);break}t(r,l),l=l.sibling}o.type===E?((a=Lc(o.props.children,r.mode,s,o.key)).return=r,r=a):((s=Oc(o.type,o.key,o.props,null,r.mode,s)).ref=Ga(r,a,o),s.return=r,r=s)}return u(r);case x:e:{for(l=o.key;null!==a;){if(a.key===l){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Vc(o,r.mode,s)).return=r,r=a}return u(r);case P:return e(r,a,(l=o._init)(o._payload),s)}if(te(o))return v(r,a,o,s);if(L(o))return m(r,a,o,s);Ha(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=Fc(o,r.mode,s)).return=r,r=a),u(r)):n(r,a)}}var Ya=$a(!0),Ja=$a(!1),Xa={},Za=Si(Xa),eo=Si(Xa),to=Si(Xa);function no(e){if(e===Xa)throw Error(a(174));return e}function ro(e,t){switch(_i(to,t),_i(eo,e),_i(Za,Xa),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:se(null,"");break;default:t=se(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ii(Za),_i(Za,t)}function io(){Ii(Za),Ii(eo),Ii(to)}function ao(e){no(to.current);var t=no(Za.current),n=se(t,e.type);t!==n&&(_i(eo,e),_i(Za,n))}function oo(e){eo.current===e&&(Ii(Za),Ii(eo))}var uo=Si(0);function so(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var co=[];function lo(){for(var e=0;e<co.length;e++)co[e]._workInProgressVersionPrimary=null;co.length=0}var fo=k.ReactCurrentDispatcher,ho=k.ReactCurrentBatchConfig,po=0,vo=null,mo=null,yo=null,go=!1,bo=!1,ko=0,wo=0;function xo(){throw Error(a(321))}function Eo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ur(e[n],t[n]))return!1;return!0}function So(e,t,n,r,i,o){if(po=o,vo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fo.current=null===e||null===e.memoizedState?uu:su,e=n(r,i),bo){o=0;do{if(bo=!1,ko=0,25<=o)throw Error(a(301));o+=1,yo=mo=null,t.updateQueue=null,fo.current=cu,e=n(r,i)}while(bo)}if(fo.current=ou,t=null!==mo&&null!==mo.next,po=0,yo=mo=vo=null,go=!1,t)throw Error(a(300));return e}function Io(){var e=0!==ko;return ko=0,e}function _o(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===yo?vo.memoizedState=yo=e:yo=yo.next=e,yo}function To(){if(null===mo){var e=vo.alternate;e=null!==e?e.memoizedState:null}else e=mo.next;var t=null===yo?vo.memoizedState:yo.next;if(null!==t)yo=t,mo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(mo=e).memoizedState,baseState:mo.baseState,baseQueue:mo.baseQueue,queue:mo.queue,next:null},null===yo?vo.memoizedState=yo=e:yo=yo.next=e}return yo}function Co(e,t){return"function"===typeof t?t(e):t}function No(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=mo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var u=i.next;i.next=o.next,o.next=u}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var s=u=null,c=null,l=o;do{var f=l.lane;if((po&f)===f)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var h={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(s=c=h,u=r):c=c.next=h,vo.lanes|=f,Ms|=f}l=l.next}while(null!==l&&l!==o);null===c?u=r:c.next=s,ur(r,t.memoizedState)||(ku=!0),t.memoizedState=r,t.baseState=u,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,vo.lanes|=o,Ms|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ao(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var u=i=i.next;do{o=e(o,u.action),u=u.next}while(u!==i);ur(o,t.memoizedState)||(ku=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Ro(){}function Po(e,t){var n=vo,r=To(),i=t(),o=!ur(r.memoizedState,i);if(o&&(r.memoizedState=i,ku=!0),r=r.queue,Wo(Lo.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==yo&&1&yo.memoizedState.tag){if(n.flags|=2048,Uo(9,Oo.bind(null,n,r,i,t),void 0,null),null===Ns)throw Error(a(349));0!==(30&po)||Do(n,t,i)}return i}function Do(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Oo(e,t,n,r){t.value=n,t.getSnapshot=r,Mo(t)&&Fo(e)}function Lo(e,t,n){return n((function(){Mo(t)&&Fo(e)}))}function Mo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ur(e,n)}catch(r){return!0}}function Fo(e){var t=Na(e,1);null!==t&&nc(t,e,1,-1)}function Vo(e){var t=_o();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Co,lastRenderedState:e},t.queue=e,e=e.dispatch=nu.bind(null,vo,e),[t.memoizedState,e]}function Uo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function jo(){return To().memoizedState}function zo(e,t,n,r){var i=_o();vo.flags|=e,i.memoizedState=Uo(1|t,n,void 0,void 0===r?null:r)}function Bo(e,t,n,r){var i=To();r=void 0===r?null:r;var a=void 0;if(null!==mo){var o=mo.memoizedState;if(a=o.destroy,null!==r&&Eo(r,o.deps))return void(i.memoizedState=Uo(t,n,a,r))}vo.flags|=e,i.memoizedState=Uo(1|t,n,a,r)}function qo(e,t){return zo(8390656,8,e,t)}function Wo(e,t){return Bo(2048,8,e,t)}function Ko(e,t){return Bo(4,2,e,t)}function Go(e,t){return Bo(4,4,e,t)}function Ho(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Qo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Bo(4,4,Ho.bind(null,t,e),n)}function $o(){}function Yo(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Eo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Jo(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Eo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Xo(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,ku=!0),e.memoizedState=n):(ur(n,t)||(n=vt(),vo.lanes|=n,Ms|=n,e.baseState=!0),t)}function Zo(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=ho.transition;ho.transition={};try{e(!1),t()}finally{bt=n,ho.transition=r}}function eu(){return To().memoizedState}function tu(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ru(e))iu(t,n);else if(null!==(n=Ca(e,t,n,r))){nc(n,e,r,ec()),au(n,t,r)}}function nu(e,t,n){var r=tc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ru(e))iu(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,u=a(o,n);if(i.hasEagerState=!0,i.eagerState=u,ur(u,o)){var s=t.interleaved;return null===s?(i.next=i,Ta(t)):(i.next=s.next,s.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Ca(e,t,i,r))&&(nc(n,e,r,i=ec()),au(n,t,r))}}function ru(e){var t=e.alternate;return e===vo||null!==t&&t===vo}function iu(e,t){bo=go=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function au(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}var ou={readContext:Ia,useCallback:xo,useContext:xo,useEffect:xo,useImperativeHandle:xo,useInsertionEffect:xo,useLayoutEffect:xo,useMemo:xo,useReducer:xo,useRef:xo,useState:xo,useDebugValue:xo,useDeferredValue:xo,useTransition:xo,useMutableSource:xo,useSyncExternalStore:xo,useId:xo,unstable_isNewReconciler:!1},uu={readContext:Ia,useCallback:function(e,t){return _o().memoizedState=[e,void 0===t?null:t],e},useContext:Ia,useEffect:qo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,zo(4194308,4,Ho.bind(null,t,e),n)},useLayoutEffect:function(e,t){return zo(4194308,4,e,t)},useInsertionEffect:function(e,t){return zo(4,2,e,t)},useMemo:function(e,t){var n=_o();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=_o();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=tu.bind(null,vo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},_o().memoizedState=e},useState:Vo,useDebugValue:$o,useDeferredValue:function(e){return _o().memoizedState=e},useTransition:function(){var e=Vo(!1),t=e[0];return e=Zo.bind(null,e[1]),_o().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=vo,i=_o();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Ns)throw Error(a(349));0!==(30&po)||Do(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,qo(Lo.bind(null,r,o,e),[e]),r.flags|=2048,Uo(9,Oo.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=_o(),t=Ns.identifierPrefix;if(ia){var n=Ji;t=":"+t+"R"+(n=(Yi&~(1<<32-ot(Yi)-1)).toString(32)+n),0<(n=ko++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=wo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},su={readContext:Ia,useCallback:Yo,useContext:Ia,useEffect:Wo,useImperativeHandle:Qo,useInsertionEffect:Ko,useLayoutEffect:Go,useMemo:Jo,useReducer:No,useRef:jo,useState:function(){return No(Co)},useDebugValue:$o,useDeferredValue:function(e){return Xo(To(),mo.memoizedState,e)},useTransition:function(){return[No(Co)[0],To().memoizedState]},useMutableSource:Ro,useSyncExternalStore:Po,useId:eu,unstable_isNewReconciler:!1},cu={readContext:Ia,useCallback:Yo,useContext:Ia,useEffect:Wo,useImperativeHandle:Qo,useInsertionEffect:Ko,useLayoutEffect:Go,useMemo:Jo,useReducer:Ao,useRef:jo,useState:function(){return Ao(Co)},useDebugValue:$o,useDeferredValue:function(e){var t=To();return null===mo?t.memoizedState=e:Xo(t,mo.memoizedState,e)},useTransition:function(){return[Ao(Co)[0],To().memoizedState]},useMutableSource:Ro,useSyncExternalStore:Po,useId:eu,unstable_isNewReconciler:!1};function lu(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function fu(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function hu(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var du="function"===typeof WeakMap?WeakMap:Map;function pu(e,t,n){(n=Da(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ws||(Ws=!0,Ks=r),hu(0,t)},n}function vu(e,t,n){(n=Da(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){hu(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){hu(0,t),"function"!==typeof r&&(null===Gs?Gs=new Set([this]):Gs.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function mu(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new du;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Ic.bind(null,e,t,n),t.then(e,e))}function yu(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function gu(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Da(-1,1)).tag=2,Oa(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var bu=k.ReactCurrentOwner,ku=!1;function wu(e,t,n,r){t.child=null===e?Ja(t,null,n,r):Ya(t,e.child,n,r)}function xu(e,t,n,r,i){n=n.render;var a=t.ref;return Sa(t,i),r=So(e,t,n,r,a,i),n=Io(),null===e||ku?(ia&&n&&ea(t),t.flags|=1,wu(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Wu(e,t,i))}function Eu(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Pc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Oc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Su(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:sr)(o,r)&&e.ref===t.ref)return Wu(e,t,i)}return t.flags|=1,(e=Dc(a,r)).ref=t.ref,e.return=t,t.child=e}function Su(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(sr(a,r)&&e.ref===t.ref){if(ku=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Wu(e,t,i);0!==(131072&e.flags)&&(ku=!0)}}return Tu(e,t,n,r,i)}function Iu(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},_i(Ds,Ps),Ps|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,_i(Ds,Ps),Ps|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,_i(Ds,Ps),Ps|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,_i(Ds,Ps),Ps|=r;return wu(e,t,i,n),t.child}function _u(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Tu(e,t,n,r,i){var a=Pi(n)?Ai:Ci.current;return a=Ri(t,a),Sa(t,i),n=So(e,t,n,r,a,i),r=Io(),null===e||ku?(ia&&r&&ea(t),t.flags|=1,wu(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Wu(e,t,i))}function Cu(e,t,n,r,i){if(Pi(n)){var a=!0;Mi(t)}else a=!1;if(Sa(t,i),null===t.stateNode)qu(e,t),qa(t,n,r),Ka(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,u=t.memoizedProps;o.props=u;var s=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ia(c):c=Ri(t,c=Pi(n)?Ai:Ci.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==r||s!==c)&&Wa(t,o,r,c),Aa=!1;var h=t.memoizedState;o.state=h,Fa(t,r,o,i),s=t.memoizedState,u!==r||h!==s||Ni.current||Aa?("function"===typeof l&&(ja(t,n,l,r),s=t.memoizedState),(u=Aa||Ba(t,n,u,r,h,s,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=s),o.props=r,o.state=s,o.context=c,r=u):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Pa(e,t),u=t.memoizedProps,c=t.type===t.elementType?u:ma(t.type,u),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(s=n.contextType)&&null!==s?s=Ia(s):s=Ri(t,s=Pi(n)?Ai:Ci.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==f||h!==s)&&Wa(t,o,r,s),Aa=!1,h=t.memoizedState,o.state=h,Fa(t,r,o,i);var p=t.memoizedState;u!==f||h!==p||Ni.current||Aa?("function"===typeof d&&(ja(t,n,d,r),p=t.memoizedState),(c=Aa||Ba(t,n,c,r,h,p,s)||!1)?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,s),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,s)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=s,r=c):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Nu(e,t,n,r,a,i)}function Nu(e,t,n,r,i,a){_u(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Fi(t,n,!1),Wu(e,t,a);r=t.stateNode,bu.current=t;var u=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Ya(t,e.child,null,a),t.child=Ya(t,null,u,a)):wu(e,t,u,a),t.memoizedState=r.state,i&&Fi(t,n,!0),t.child}function Au(e){var t=e.stateNode;t.pendingContext?Oi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Oi(0,t.context,!1),ro(e,t.containerInfo)}function Ru(e,t,n,r,i){return da(),pa(i),t.flags|=256,wu(e,t,n,r),t.child}var Pu,Du,Ou,Lu={dehydrated:null,treeContext:null,retryLane:0};function Mu(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fu(e,t,n){var r,i=t.pendingProps,o=uo.current,u=!1,s=0!==(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(u=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),_i(uo,1&o),null===e)return ca(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(s=i.children,e=i.fallback,u?(i=t.mode,u=t.child,s={mode:"hidden",children:s},0===(1&i)&&null!==u?(u.childLanes=0,u.pendingProps=s):u=Mc(s,i,0,null),e=Lc(e,i,n,null),u.return=t,e.return=t,u.sibling=e,t.child=u,t.child.memoizedState=Mu(n),t.memoizedState=Lu,e):Vu(t,s));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,u){if(n)return 256&t.flags?(t.flags&=-257,Uu(e,t,u,r=fu(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Mc({mode:"visible",children:r.children},i,0,null),(o=Lc(o,i,u,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&Ya(t,e.child,null,u),t.child.memoizedState=Mu(u),t.memoizedState=Lu,o);if(0===(1&t.mode))return Uu(e,t,u,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var s=r.dgst;return r=s,Uu(e,t,u,r=fu(o=Error(a(419)),r,void 0))}if(s=0!==(u&e.childLanes),ku||s){if(null!==(r=Ns)){switch(u&-u){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|u))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Na(e,i),nc(r,e,i,-1))}return vc(),Uu(e,t,u,r=fu(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Tc.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ra=ci(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Hi[Qi++]=Yi,Hi[Qi++]=Ji,Hi[Qi++]=$i,Yi=e.id,Ji=e.overflow,$i=t),(t=Vu(t,r.children)).flags|=4096,t)}(e,t,s,i,r,o,n);if(u){u=i.fallback,s=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&s)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Dc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?u=Dc(r,u):(u=Lc(u,s,n,null)).flags|=2,u.return=t,i.return=t,i.sibling=u,t.child=i,i=u,u=t.child,s=null===(s=e.child.memoizedState)?Mu(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},u.memoizedState=s,u.childLanes=e.childLanes&~n,t.memoizedState=Lu,i}return e=(u=e.child).sibling,i=Dc(u,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Vu(e,t){return(t=Mc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Uu(e,t,n,r){return null!==r&&pa(r),Ya(t,e.child,null,n),(e=Vu(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function ju(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ea(e.return,t,n)}function zu(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function Bu(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(wu(e,t,r.children,n),0!==(2&(r=uo.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&ju(e,n,t);else if(19===e.tag)ju(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(_i(uo,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===so(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),zu(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===so(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}zu(t,!0,n,null,a);break;case"together":zu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qu(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Wu(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ms|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Dc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Dc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ku(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Gu(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Hu(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gu(t),null;case 1:case 17:return Pi(t.type)&&Di(),Gu(t),null;case 3:return r=t.stateNode,io(),Ii(Ni),Ii(Ci),lo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fa(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(oc(aa),aa=null))),Gu(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Du(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Gu(t),null}if(e=no(Za.current),fa(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[hi]=t,r[di]=o,e=0!==(1&t.mode),n){case"dialog":Ur("cancel",r),Ur("close",r);break;case"iframe":case"object":case"embed":Ur("load",r);break;case"video":case"audio":for(i=0;i<Lr.length;i++)Ur(Lr[i],r);break;case"source":Ur("error",r);break;case"img":case"image":case"link":Ur("error",r),Ur("load",r);break;case"details":Ur("toggle",r);break;case"input":Y(r,o),Ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ur("invalid",r);break;case"textarea":ie(r,o),Ur("invalid",r)}for(var s in ge(n,o),i=null,o)if(o.hasOwnProperty(s)){var c=o[s];"children"===s?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Xr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Xr(r.textContent,c,e),i=["children",""+c]):u.hasOwnProperty(s)&&null!=c&&"onScroll"===s&&Ur("scroll",r)}switch(n){case"input":G(r),Z(r,o,!0);break;case"textarea":G(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{s=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ue(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),"select"===n&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[hi]=t,e[di]=r,Pu(e,t),t.stateNode=e;e:{switch(s=be(n,r),n){case"dialog":Ur("cancel",e),Ur("close",e),i=r;break;case"iframe":case"object":case"embed":Ur("load",e),i=r;break;case"video":case"audio":for(i=0;i<Lr.length;i++)Ur(Lr[i],e);i=r;break;case"source":Ur("error",e),i=r;break;case"img":case"image":case"link":Ur("error",e),Ur("load",e),i=r;break;case"details":Ur("toggle",e),i=r;break;case"input":Y(e,r),i=$(e,r),Ur("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),Ur("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Ur("invalid",e)}for(o in ge(n,i),c=i)if(c.hasOwnProperty(o)){var l=c[o];"style"===o?me(e,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&fe(e,l):"children"===o?"string"===typeof l?("textarea"!==n||""!==l)&&he(e,l):"number"===typeof l&&he(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(u.hasOwnProperty(o)?null!=l&&"onScroll"===o&&Ur("scroll",e):null!=l&&b(e,o,l,s))}switch(n){case"input":G(e),Z(e,r,!1);break;case"textarea":G(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+W(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Gu(t),null;case 6:if(e&&null!=t.stateNode)Ou(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=no(to.current),no(Za.current),fa(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(o=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Xr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Xr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Gu(t),null;case 13:if(Ii(uo),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))ha(),da(),t.flags|=98560,o=!1;else if(o=fa(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[hi]=t}else da(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Gu(t),o=!1}else null!==aa&&(oc(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&uo.current)?0===Os&&(Os=3):vc())),null!==t.updateQueue&&(t.flags|=4),Gu(t),null);case 4:return io(),null===e&&Br(t.stateNode.containerInfo),Gu(t),null;case 10:return xa(t.type._context),Gu(t),null;case 19:if(Ii(uo),null===(o=t.memoizedState))return Gu(t),null;if(r=0!==(128&t.flags),null===(s=o.rendering))if(r)Ku(o,!1);else{if(0!==Os||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=so(e))){for(t.flags|=128,Ku(o,!1),null!==(r=s.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(s=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return _i(uo,1&uo.current|2),t.child}e=e.sibling}null!==o.tail&&Je()>Bs&&(t.flags|=128,r=!0,Ku(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=so(s))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ku(o,!0),null===o.tail&&"hidden"===o.tailMode&&!s.alternate&&!ia)return Gu(t),null}else 2*Je()-o.renderingStartTime>Bs&&1073741824!==n&&(t.flags|=128,r=!0,Ku(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=o.last)?n.sibling=s:t.child=s,o.last=s)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Je(),t.sibling=null,n=uo.current,_i(uo,r?1&n|2:1&n),t):(Gu(t),null);case 22:case 23:return fc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Ps)&&(Gu(t),6&t.subtreeFlags&&(t.flags|=8192)):Gu(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Qu(e,t){switch(ta(t),t.tag){case 1:return Pi(t.type)&&Di(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),Ii(Ni),Ii(Ci),lo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(Ii(uo),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));da()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ii(uo),null;case 4:return io(),null;case 10:return xa(t.type._context),null;case 22:case 23:return fc(),null;default:return null}}Pu=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Du=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no(Za.current);var a,o=null;switch(n){case"input":i=$(e,i),r=$(e,r),o=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(l in ge(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var s=i[l];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(u.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var c=r[l];if(s=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==s&&(null!=c||null!=s))if("style"===l)if(s){for(a in s)!s.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&s[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,s=s?s.__html:void 0,null!=c&&s!==c&&(o=o||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(u.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&Ur("scroll",e),o||s===c||(o=[])):(o=o||[]).push(l,c))}n&&(o=o||[]).push("style",n);var l=o;(t.updateQueue=l)&&(t.flags|=4)}},Ou=function(e,t,n,r){n!==r&&(t.flags|=4)};var $u=!1,Yu=!1,Ju="function"===typeof WeakSet?WeakSet:Set,Xu=null;function Zu(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Sc(e,t,r)}else n.current=null}function es(e,t,n){try{n()}catch(r){Sc(e,t,r)}}var ts=!1;function ns(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&es(t,n,a)}i=i.next}while(i!==r)}}function rs(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function is(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function as(e){var t=e.alternate;null!==t&&(e.alternate=null,as(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[di],delete t[vi],delete t[mi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function os(e){return 5===e.tag||3===e.tag||4===e.tag}function us(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||os(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ss(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(ss(e,t,n),e=e.sibling;null!==e;)ss(e,t,n),e=e.sibling}function cs(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cs(e,t,n),e=e.sibling;null!==e;)cs(e,t,n),e=e.sibling}var ls=null,fs=!1;function hs(e,t,n){for(n=n.child;null!==n;)ds(e,t,n),n=n.sibling}function ds(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(u){}switch(n.tag){case 5:Yu||Zu(n,t);case 6:var r=ls,i=fs;ls=null,hs(e,t,n),fs=i,null!==(ls=r)&&(fs?(e=ls,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ls.removeChild(n.stateNode));break;case 18:null!==ls&&(fs?(e=ls,n=n.stateNode,8===e.nodeType?si(e.parentNode,n):1===e.nodeType&&si(e,n),Bt(e)):si(ls,n.stateNode));break;case 4:r=ls,i=fs,ls=n.stateNode.containerInfo,fs=!0,hs(e,t,n),ls=r,fs=i;break;case 0:case 11:case 14:case 15:if(!Yu&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&es(n,t,o),i=i.next}while(i!==r)}hs(e,t,n);break;case 1:if(!Yu&&(Zu(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){Sc(n,t,u)}hs(e,t,n);break;case 21:hs(e,t,n);break;case 22:1&n.mode?(Yu=(r=Yu)||null!==n.memoizedState,hs(e,t,n),Yu=r):hs(e,t,n);break;default:hs(e,t,n)}}function ps(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Ju),t.forEach((function(t){var r=Cc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function vs(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,u=t,s=u;e:for(;null!==s;){switch(s.tag){case 5:ls=s.stateNode,fs=!1;break e;case 3:case 4:ls=s.stateNode.containerInfo,fs=!0;break e}s=s.return}if(null===ls)throw Error(a(160));ds(o,u,i),ls=null,fs=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(l){Sc(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)ms(t,e),t=t.sibling}function ms(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(vs(t,e),ys(e),4&r){try{ns(3,e,e.return),rs(3,e)}catch(m){Sc(e,e.return,m)}try{ns(5,e,e.return)}catch(m){Sc(e,e.return,m)}}break;case 1:vs(t,e),ys(e),512&r&&null!==n&&Zu(n,n.return);break;case 5:if(vs(t,e),ys(e),512&r&&null!==n&&Zu(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(m){Sc(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,u=null!==n?n.memoizedProps:o,s=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===s&&"radio"===o.type&&null!=o.name&&J(i,o),be(s,u);var l=be(s,o);for(u=0;u<c.length;u+=2){var f=c[u],h=c[u+1];"style"===f?me(i,h):"dangerouslySetInnerHTML"===f?fe(i,h):"children"===f?he(i,h):b(i,f,h,l)}switch(s){case"input":X(i,o);break;case"textarea":ae(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):d!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[di]=o}catch(m){Sc(e,e.return,m)}}break;case 6:if(vs(t,e),ys(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(m){Sc(e,e.return,m)}}break;case 3:if(vs(t,e),ys(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(m){Sc(e,e.return,m)}break;case 4:default:vs(t,e),ys(e);break;case 13:vs(t,e),ys(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(zs=Je())),4&r&&ps(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?(Yu=(l=Yu)||f,vs(t,e),Yu=l):vs(t,e),ys(e),8192&r){if(l=null!==e.memoizedState,(e.stateNode.isHidden=l)&&!f&&0!==(1&e.mode))for(Xu=e,f=e.child;null!==f;){for(h=Xu=f;null!==Xu;){switch(p=(d=Xu).child,d.tag){case 0:case 11:case 14:case 15:ns(4,d,d.return);break;case 1:Zu(d,d.return);var v=d.stateNode;if("function"===typeof v.componentWillUnmount){r=d,n=d.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(m){Sc(r,n,m)}}break;case 5:Zu(d,d.return);break;case 22:if(null!==d.memoizedState){ws(h);continue}}null!==p?(p.return=d,Xu=p):ws(h)}f=f.sibling}e:for(f=null,h=e;;){if(5===h.tag){if(null===f){f=h;try{i=h.stateNode,l?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(s=h.stateNode,u=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,s.style.display=ve("display",u))}catch(m){Sc(e,e.return,m)}}}else if(6===h.tag){if(null===f)try{h.stateNode.nodeValue=l?"":h.memoizedProps}catch(m){Sc(e,e.return,m)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:vs(t,e),ys(e),4&r&&ps(e);case 21:}}function ys(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(os(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),cs(e,us(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;ss(e,us(e),o);break;default:throw Error(a(161))}}catch(u){Sc(e,e.return,u)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function gs(e,t,n){Xu=e,bs(e,t,n)}function bs(e,t,n){for(var r=0!==(1&e.mode);null!==Xu;){var i=Xu,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||$u;if(!o){var u=i.alternate,s=null!==u&&null!==u.memoizedState||Yu;u=$u;var c=Yu;if($u=o,(Yu=s)&&!c)for(Xu=i;null!==Xu;)s=(o=Xu).child,22===o.tag&&null!==o.memoizedState?xs(i):null!==s?(s.return=o,Xu=s):xs(i);for(;null!==a;)Xu=a,bs(a,t,n),a=a.sibling;Xu=i,$u=u,Yu=c}ks(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Xu=a):ks(e)}}function ks(e){for(;null!==Xu;){var t=Xu;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Yu||rs(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Yu)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ma(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Va(t,o,r);break;case 3:var u=t.updateQueue;if(null!==u){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Va(t,u,n)}break;case 5:var s=t.stateNode;if(null===n&&4&t.flags){n=s;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var f=l.memoizedState;if(null!==f){var h=f.dehydrated;null!==h&&Bt(h)}}}break;default:throw Error(a(163))}Yu||512&t.flags&&is(t)}catch(d){Sc(t,t.return,d)}}if(t===e){Xu=null;break}if(null!==(n=t.sibling)){n.return=t.return,Xu=n;break}Xu=t.return}}function ws(e){for(;null!==Xu;){var t=Xu;if(t===e){Xu=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Xu=n;break}Xu=t.return}}function xs(e){for(;null!==Xu;){var t=Xu;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rs(4,t)}catch(s){Sc(t,n,s)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(s){Sc(t,i,s)}}var a=t.return;try{is(t)}catch(s){Sc(t,a,s)}break;case 5:var o=t.return;try{is(t)}catch(s){Sc(t,o,s)}}}catch(s){Sc(t,t.return,s)}if(t===e){Xu=null;break}var u=t.sibling;if(null!==u){u.return=t.return,Xu=u;break}Xu=t.return}}var Es,Ss=Math.ceil,Is=k.ReactCurrentDispatcher,_s=k.ReactCurrentOwner,Ts=k.ReactCurrentBatchConfig,Cs=0,Ns=null,As=null,Rs=0,Ps=0,Ds=Si(0),Os=0,Ls=null,Ms=0,Fs=0,Vs=0,Us=null,js=null,zs=0,Bs=1/0,qs=null,Ws=!1,Ks=null,Gs=null,Hs=!1,Qs=null,$s=0,Ys=0,Js=null,Xs=-1,Zs=0;function ec(){return 0!==(6&Cs)?Je():-1!==Xs?Xs:Xs=Je()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Cs)&&0!==Rs?Rs&-Rs:null!==va.transition?(0===Zs&&(Zs=vt()),Zs):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Yt(e.type)}function nc(e,t,n,r){if(50<Ys)throw Ys=0,Js=null,Error(a(185));yt(e,n,r),0!==(2&Cs)&&e===Ns||(e===Ns&&(0===(2&Cs)&&(Fs|=n),4===Os&&uc(e,Rs)),rc(e,r),1===n&&0===Cs&&0===(1&t.mode)&&(Bs=Je()+500,Ui&&Bi()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),u=1<<o,s=i[o];-1===s?0!==(u&n)&&0===(u&r)||(i[o]=dt(u,t)):s<=t&&(e.expiredLanes|=u),a&=~u}}(e,t);var r=ht(e,e===Ns?Rs:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Ui=!0,zi(e)}(sc.bind(null,e)):zi(sc.bind(null,e)),oi((function(){0===(6&Cs)&&Bi()})),n=null;else{switch(kt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Nc(n,ic.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ic(e,t){if(Xs=-1,Zs=0,0!==(6&Cs))throw Error(a(327));var n=e.callbackNode;if(xc()&&e.callbackNode!==n)return null;var r=ht(e,e===Ns?Rs:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=mc(e,r);else{t=r;var i=Cs;Cs|=2;var o=pc();for(Ns===e&&Rs===t||(qs=null,Bs=Je()+500,hc(e,t));;)try{gc();break}catch(s){dc(e,s)}wa(),Is.current=o,Cs=i,null!==As?t=0:(Ns=null,Rs=0,t=Os)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=ac(e,i))),1===t)throw n=Ls,hc(e,0),uc(e,r),rc(e,Je()),n;if(6===t)uc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!ur(a(),i))return!1}catch(u){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=mc(e,r))&&(0!==(o=pt(e))&&(r=o,t=ac(e,o))),1===t))throw n=Ls,hc(e,0),uc(e,r),rc(e,Je()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:wc(e,js,qs);break;case 3:if(uc(e,r),(130023424&r)===r&&10<(t=zs+500-Je())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(wc.bind(null,e,js,qs),t);break}wc(e,js,qs);break;case 4:if(uc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var u=31-ot(r);o=1<<u,(u=t[u])>i&&(i=u),r&=~o}if(r=i,10<(r=(120>(r=Je()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Ss(r/1960))-r)){e.timeoutHandle=ri(wc.bind(null,e,js,qs),r);break}wc(e,js,qs);break;default:throw Error(a(329))}}}return rc(e,Je()),e.callbackNode===n?ic.bind(null,e):null}function ac(e,t){var n=Us;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=mc(e,t))&&(t=js,js=n,null!==t&&oc(t)),e}function oc(e){null===js?js=e:js.push.apply(js,e)}function uc(e,t){for(t&=~Vs,t&=~Fs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function sc(e){if(0!==(6&Cs))throw Error(a(327));xc();var t=ht(e,0);if(0===(1&t))return rc(e,Je()),null;var n=mc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=ac(e,r))}if(1===n)throw n=Ls,hc(e,0),uc(e,t),rc(e,Je()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wc(e,js,qs),rc(e,Je()),null}function cc(e,t){var n=Cs;Cs|=1;try{return e(t)}finally{0===(Cs=n)&&(Bs=Je()+500,Ui&&Bi())}}function lc(e){null!==Qs&&0===Qs.tag&&0===(6&Cs)&&xc();var t=Cs;Cs|=1;var n=Ts.transition,r=bt;try{if(Ts.transition=null,bt=1,e)return e()}finally{bt=r,Ts.transition=n,0===(6&(Cs=t))&&Bi()}}function fc(){Ps=Ds.current,Ii(Ds)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==As)for(n=As.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Di();break;case 3:io(),Ii(Ni),Ii(Ci),lo();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:Ii(uo);break;case 10:xa(r.type._context);break;case 22:case 23:fc()}n=n.return}if(Ns=e,As=e=Dc(e.current,null),Rs=Ps=t,Os=0,Ls=null,Vs=Fs=Ms=0,js=Us=null,null!==_a){for(t=0;t<_a.length;t++)if(null!==(r=(n=_a[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}_a=null}return e}function dc(e,t){for(;;){var n=As;try{if(wa(),fo.current=ou,go){for(var r=vo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}go=!1}if(po=0,yo=mo=vo=null,bo=!1,ko=0,_s.current=null,null===n||null===n.return){Os=1,Ls=t,As=null;break}e:{var o=e,u=n.return,s=n,c=t;if(t=Rs,s.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,f=s,h=f.tag;if(0===(1&f.mode)&&(0===h||11===h||15===h)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=yu(u);if(null!==p){p.flags&=-257,gu(p,u,s,0,t),1&p.mode&&mu(o,l,t),c=l;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(c),t.updateQueue=m}else v.add(c);break e}if(0===(1&t)){mu(o,l,t),vc();break e}c=Error(a(426))}else if(ia&&1&s.mode){var y=yu(u);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),gu(y,u,s,0,t),pa(lu(c,s));break e}}o=c=lu(c,s),4!==Os&&(Os=2),null===Us?Us=[o]:Us.push(o),o=u;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Ma(o,pu(0,c,t));break e;case 1:s=c;var g=o.type,b=o.stateNode;if(0===(128&o.flags)&&("function"===typeof g.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Gs||!Gs.has(b)))){o.flags|=65536,t&=-t,o.lanes|=t,Ma(o,vu(o,s,t));break e}}o=o.return}while(null!==o)}kc(n)}catch(k){t=k,As===n&&null!==n&&(As=n=n.return);continue}break}}function pc(){var e=Is.current;return Is.current=ou,null===e?ou:e}function vc(){0!==Os&&3!==Os&&2!==Os||(Os=4),null===Ns||0===(268435455&Ms)&&0===(268435455&Fs)||uc(Ns,Rs)}function mc(e,t){var n=Cs;Cs|=2;var r=pc();for(Ns===e&&Rs===t||(qs=null,hc(e,t));;)try{yc();break}catch(i){dc(e,i)}if(wa(),Cs=n,Is.current=r,null!==As)throw Error(a(261));return Ns=null,Rs=0,Os}function yc(){for(;null!==As;)bc(As)}function gc(){for(;null!==As&&!$e();)bc(As)}function bc(e){var t=Es(e.alternate,e,Ps);e.memoizedProps=e.pendingProps,null===t?kc(e):As=t,_s.current=null}function kc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Hu(n,t,Ps)))return void(As=n)}else{if(null!==(n=Qu(n,t)))return n.flags&=32767,void(As=n);if(null===e)return Os=6,void(As=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(As=t);As=t=e}while(null!==t);0===Os&&(Os=5)}function wc(e,t,n){var r=bt,i=Ts.transition;try{Ts.transition=null,bt=1,function(e,t,n,r){do{xc()}while(null!==Qs);if(0!==(6&Cs))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===Ns&&(As=Ns=null,Rs=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Hs||(Hs=!0,Nc(tt,(function(){return xc(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Ts.transition,Ts.transition=null;var u=bt;bt=1;var s=Cs;Cs|=4,_s.current=null,function(e,t){if(ei=Wt,dr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(w){n=null;break e}var u=0,s=-1,c=-1,l=0,f=0,h=e,d=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(s=u+i),h!==o||0!==r&&3!==h.nodeType||(c=u+r),3===h.nodeType&&(u+=h.nodeValue.length),null!==(p=h.firstChild);)d=h,h=p;for(;;){if(h===e)break t;if(d===n&&++l===i&&(s=u),d===o&&++f===r&&(c=u),null!==(p=h.nextSibling))break;d=(h=d).parentNode}h=p}n=-1===s||-1===c?null:{start:s,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Wt=!1,Xu=t;null!==Xu;)if(e=(t=Xu).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Xu=e;else for(;null!==Xu;){t=Xu;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,y=v.memoizedState,g=t.stateNode,b=g.getSnapshotBeforeUpdate(t.elementType===t.type?m:ma(t.type,m),y);g.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var k=t.stateNode.containerInfo;1===k.nodeType?k.textContent="":9===k.nodeType&&k.documentElement&&k.removeChild(k.documentElement);break;default:throw Error(a(163))}}catch(w){Sc(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Xu=e;break}Xu=t.return}v=ts,ts=!1}(e,n),ms(n,e),pr(ti),Wt=!!ei,ti=ei=null,e.current=n,gs(n,e,i),Ye(),Cs=s,bt=u,Ts.transition=o}else e.current=n;if(Hs&&(Hs=!1,Qs=e,$s=i),0===(o=e.pendingLanes)&&(Gs=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,Je()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)r((i=t[n]).value,{componentStack:i.stack,digest:i.digest});if(Ws)throw Ws=!1,e=Ks,Ks=null,e;0!==(1&$s)&&0!==e.tag&&xc(),0!==(1&(o=e.pendingLanes))?e===Js?Ys++:(Ys=0,Js=e):Ys=0,Bi()}(e,t,n,r)}finally{Ts.transition=i,bt=r}return null}function xc(){if(null!==Qs){var e=kt($s),t=Ts.transition,n=bt;try{if(Ts.transition=null,bt=16>e?16:e,null===Qs)var r=!1;else{if(e=Qs,Qs=null,$s=0,0!==(6&Cs))throw Error(a(331));var i=Cs;for(Cs|=4,Xu=e.current;null!==Xu;){var o=Xu,u=o.child;if(0!==(16&Xu.flags)){var s=o.deletions;if(null!==s){for(var c=0;c<s.length;c++){var l=s[c];for(Xu=l;null!==Xu;){var f=Xu;switch(f.tag){case 0:case 11:case 15:ns(8,f,o)}var h=f.child;if(null!==h)h.return=f,Xu=h;else for(;null!==Xu;){var d=(f=Xu).sibling,p=f.return;if(as(f),f===l){Xu=null;break}if(null!==d){d.return=p,Xu=d;break}Xu=p}}}var v=o.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(null!==m)}}Xu=o}}if(0!==(2064&o.subtreeFlags)&&null!==u)u.return=o,Xu=u;else e:for(;null!==Xu;){if(0!==(2048&(o=Xu).flags))switch(o.tag){case 0:case 11:case 15:ns(9,o,o.return)}var g=o.sibling;if(null!==g){g.return=o.return,Xu=g;break e}Xu=o.return}}var b=e.current;for(Xu=b;null!==Xu;){var k=(u=Xu).child;if(0!==(2064&u.subtreeFlags)&&null!==k)k.return=u,Xu=k;else e:for(u=b;null!==Xu;){if(0!==(2048&(s=Xu).flags))try{switch(s.tag){case 0:case 11:case 15:rs(9,s)}}catch(x){Sc(s,s.return,x)}if(s===u){Xu=null;break e}var w=s.sibling;if(null!==w){w.return=s.return,Xu=w;break e}Xu=s.return}}if(Cs=i,Bi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(x){}r=!0}return r}finally{bt=n,Ts.transition=t}}return!1}function Ec(e,t,n){e=Oa(e,t=pu(0,t=lu(n,t),1),1),t=ec(),null!==e&&(yt(e,1,t),rc(e,t))}function Sc(e,t,n){if(3===e.tag)Ec(e,e,n);else for(;null!==t;){if(3===t.tag){Ec(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Gs||!Gs.has(r))){t=Oa(t,e=vu(t,e=lu(n,e),1),1),e=ec(),null!==t&&(yt(t,1,e),rc(t,e));break}}t=t.return}}function Ic(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,Ns===e&&(Rs&n)===n&&(4===Os||3===Os&&(130023424&Rs)===Rs&&500>Je()-zs?hc(e,0):Vs|=n),rc(e,t)}function _c(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=ec();null!==(e=Na(e,t))&&(yt(e,t,n),rc(e,n))}function Tc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),_c(e,n)}function Cc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),_c(e,n)}function Nc(e,t){return He(e,t)}function Ac(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rc(e,t,n,r){return new Ac(e,t,n,r)}function Pc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Dc(e,t){var n=e.alternate;return null===n?((n=Rc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Oc(e,t,n,r,i,o){var u=2;if(r=e,"function"===typeof e)Pc(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case E:return Lc(n.children,i,o,t);case S:u=8,i|=8;break;case I:return(e=Rc(12,n,t,2|i)).elementType=I,e.lanes=o,e;case N:return(e=Rc(13,n,t,i)).elementType=N,e.lanes=o,e;case A:return(e=Rc(19,n,t,i)).elementType=A,e.lanes=o,e;case D:return Mc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case _:u=10;break e;case T:u=9;break e;case C:u=11;break e;case R:u=14;break e;case P:u=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Rc(u,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Lc(e,t,n,r){return(e=Rc(7,e,r,t)).lanes=n,e}function Mc(e,t,n,r){return(e=Rc(22,e,r,t)).elementType=D,e.lanes=n,e.stateNode={isHidden:!1},e}function Fc(e,t,n){return(e=Rc(6,e,null,t)).lanes=n,e}function Vc(e,t,n){return(t=Rc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Uc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function jc(e,t,n,r,i,a,o,u,s){return e=new Uc(e,t,n,u,s),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Rc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ra(a),e}function zc(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Bc(e){if(!e)return Ti;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Pi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Pi(n))return Li(e,n,t)}return t}function qc(e,t,n,r,i,a,o,u,s){return(e=jc(n,r,!0,e,0,a,0,u,s)).context=Bc(null),n=e.current,(a=Da(r=ec(),i=tc(n))).callback=void 0!==t&&null!==t?t:null,Oa(n,a,i),e.current.lanes=i,yt(e,i,r),rc(e,r),e}function Wc(e,t,n,r){var i=t.current,a=ec(),o=tc(i);return n=Bc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Da(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Oa(i,t,o))&&(nc(e,i,o,a),La(e,i,o)),o}function Kc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Gc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Hc(e,t){Gc(e,t),(e=e.alternate)&&Gc(e,t)}Es=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ni.current)ku=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return ku=!1,function(e,t,n){switch(t.tag){case 3:Au(t),da();break;case 5:ao(t);break;case 1:Pi(t.type)&&Mi(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;_i(ya,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(_i(uo,1&uo.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Fu(e,t,n):(_i(uo,1&uo.current),null!==(e=Wu(e,t,n))?e.sibling:null);_i(uo,1&uo.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Bu(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),_i(uo,uo.current),r)break;return null;case 22:case 23:return t.lanes=0,Iu(e,t,n)}return Wu(e,t,n)}(e,t,n);ku=0!==(131072&e.flags)}else ku=!1,ia&&0!==(1048576&t.flags)&&Zi(t,Gi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;qu(e,t),e=t.pendingProps;var i=Ri(t,Ci.current);Sa(t,n),i=So(null,t,r,e,i,n);var o=Io();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Pi(r)?(o=!0,Mi(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Ra(t),i.updater=za,t.stateNode=i,i._reactInternals=t,Ka(t,r,e,n),t=Nu(null,t,r,!0,o,n)):(t.tag=0,ia&&o&&ea(t),wu(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(qu(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Pc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===R)return 14}return 2}(r),e=ma(r,e),i){case 0:t=Tu(null,t,r,e,n);break e;case 1:t=Cu(null,t,r,e,n);break e;case 11:t=xu(null,t,r,e,n);break e;case 14:t=Eu(null,t,r,ma(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Tu(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 1:return r=t.type,i=t.pendingProps,Cu(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 3:e:{if(Au(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,Pa(e,t),Fa(t,r,null,n);var u=t.memoizedState;if(r=u.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:u.cache,pendingSuspenseBoundaries:u.pendingSuspenseBoundaries,transitions:u.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Ru(e,t,r,n,i=lu(Error(a(423)),t));break e}if(r!==i){t=Ru(e,t,r,n,i=lu(Error(a(424)),t));break e}for(ra=ci(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=Ja(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(da(),r===i){t=Wu(e,t,n);break e}wu(e,t,r,n)}t=t.child}return t;case 5:return ao(t),null===e&&ca(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,u=i.children,ni(r,i)?u=null:null!==o&&ni(r,o)&&(t.flags|=32),_u(e,t),wu(e,t,u,n),t.child;case 6:return null===e&&ca(t),null;case 13:return Fu(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ya(t,null,r,n):wu(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,xu(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 7:return wu(e,t,t.pendingProps,n),t.child;case 8:case 12:return wu(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,u=i.value,_i(ya,r._currentValue),r._currentValue=u,null!==o)if(ur(o.value,u)){if(o.children===i.children&&!Ni.current){t=Wu(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var s=o.dependencies;if(null!==s){u=o.child;for(var c=s.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=Da(-1,n&-n)).tag=2;var l=o.updateQueue;if(null!==l){var f=(l=l.shared).pending;null===f?c.next=c:(c.next=f.next,f.next=c),l.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),Ea(o.return,n,t),s.lanes|=n;break}c=c.next}}else if(10===o.tag)u=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(u=o.return))throw Error(a(341));u.lanes|=n,null!==(s=u.alternate)&&(s.lanes|=n),Ea(u,n,t),u=o.sibling}else u=o.child;if(null!==u)u.return=o;else for(u=o;null!==u;){if(u===t){u=null;break}if(null!==(o=u.sibling)){o.return=u.return,u=o;break}u=u.return}o=u}wu(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Sa(t,n),r=r(i=Ia(i)),t.flags|=1,wu(e,t,r,n),t.child;case 14:return i=ma(r=t.type,t.pendingProps),Eu(e,t,r,i=ma(r.type,i),n);case 15:return Su(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ma(r,i),qu(e,t),t.tag=1,Pi(r)?(e=!0,Mi(t)):e=!1,Sa(t,n),qa(t,r,i),Ka(t,r,i,n),Nu(null,t,r,!0,e,n);case 19:return Bu(e,t,n);case 22:return Iu(e,t,n)}throw Error(a(156,t.tag))};var Qc="function"===typeof reportError?reportError:function(e){console.error(e)};function $c(e){this._internalRoot=e}function Yc(e){this._internalRoot=e}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zc(){}function el(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var u=i;i=function(){var e=Kc(o);u.call(e)}}Wc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Kc(o);a.call(e)}}var o=qc(t,r,e,0,null,!1,0,"",Zc);return e._reactRootContainer=o,e[pi]=o.current,Br(8===e.nodeType?e.parentNode:e),lc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var u=r;r=function(){var e=Kc(s);u.call(e)}}var s=jc(e,0,!1,null,0,!1,0,"",Zc);return e._reactRootContainer=s,e[pi]=s.current,Br(8===e.nodeType?e.parentNode:e),lc((function(){Wc(t,s,n,r)})),s}(n,t,e,i,r);return Kc(o)}Yc.prototype.render=$c.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Wc(e,t,null,null)},Yc.prototype.unmount=$c.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;lc((function(){Wc(null,e,null,null)})),t[pi]=null}},Yc.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Dt.length&&0!==t&&t<Dt[n].priority;n++);Dt.splice(n,0,e),0===n&&Ft(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(gt(t,1|n),rc(t,Je()),0===(6&Cs)&&(Bs=Je()+500,Bi()))}break;case 13:lc((function(){var t=Na(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}})),Hc(e,1)}},xt=function(e){if(13===e.tag){var t=Na(e,134217728);if(null!==t)nc(t,e,134217728,ec());Hc(e,134217728)}},Et=function(e){if(13===e.tag){var t=tc(e),n=Na(e,t);if(null!==n)nc(n,e,t,ec());Hc(e,t)}},St=function(){return bt},It=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},xe=function(e,t,n){switch(t){case"input":if(X(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(a(90));H(r),X(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ce=cc,Ne=lc;var tl={usingClientEntryPoint:!1,Events:[bi,ki,wi,_e,Te,cc]},nl={findFiberByHostInstance:gi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rl={bundleType:nl.bundleType,version:nl.version,rendererPackageName:nl.rendererPackageName,rendererConfig:nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:k.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ke(e))?null:e.stateNode},findFiberByHostInstance:nl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!il.isDisabled&&il.supportsFiber)try{it=il.inject(rl),at=il}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Jc(t))throw Error(a(200));return zc(e,t,null,n)},t.createRoot=function(e,t){if(!Jc(e))throw Error(a(299));var n=!1,r="",i=Qc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=jc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Br(8===e.nodeType?e.parentNode:e),new $c(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=Ke(t))?null:e.stateNode},t.flushSync=function(e){return lc(e)},t.hydrate=function(e,t,n){if(!Xc(t))throw Error(a(200));return el(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Jc(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",u=Qc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(u=n.onRecoverableError)),t=qc(t,null,e,1,null!=n?n:null,i,0,o,u),e[pi]=t.current,Br(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Yc(t)},t.render=function(e,t,n){if(!Xc(t))throw Error(a(200));return el(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Xc(e))throw Error(a(40));return!!e._reactRootContainer&&(lc((function(){el(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Xc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return el(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},250:function(e,t,n){var r=n(164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},164:function(e,t,n){!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},372:function(e,t){var n=60103,r=60106,i=60107,a=60108,o=60114,u=60109,s=60110,c=60112,l=60113,f=60120,h=60115,d=60116,p=60121,v=60122,m=60117,y=60129,g=60131;if("function"===typeof Symbol&&Symbol.for){var b=Symbol.for;n=b("react.element"),r=b("react.portal"),i=b("react.fragment"),a=b("react.strict_mode"),o=b("react.profiler"),u=b("react.provider"),s=b("react.context"),c=b("react.forward_ref"),l=b("react.suspense"),f=b("react.suspense_list"),h=b("react.memo"),d=b("react.lazy"),p=b("react.block"),v=b("react.server.block"),m=b("react.fundamental"),y=b("react.debug_trace_mode"),g=b("react.legacy_hidden")}function k(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case i:case o:case a:case l:case f:return e;default:switch(e=e&&e.$$typeof){case s:case c:case d:case h:case u:return e;default:return t}}case r:return t}}}},441:function(e,t,n){n(372)},374:function(e,t,n){var r=n(791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,u=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)o.call(t,r)&&!s.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:u.current}}t.jsx=c,t.jsxs=c},117:function(e,t){var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),s=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function g(){}function b(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=y.prototype;var k=b.prototype=new g;k.constructor=b,v(k,y.prototype),k.isPureReactComponent=!0;var w=Array.isArray,x=Object.prototype.hasOwnProperty,E={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function I(e,t,r){var i,a={},o=null,u=null;if(null!=t)for(i in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(o=""+t.key),t)x.call(t,i)&&!S.hasOwnProperty(i)&&(a[i]=t[i]);var s=arguments.length-2;if(1===s)a.children=r;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(i in s=e.defaultProps)void 0===a[i]&&(a[i]=s[i]);return{$$typeof:n,type:e,key:o,ref:u,props:a,_owner:E.current}}function _(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function N(e,t,i,a,o){var u=typeof e;"undefined"!==u&&"boolean"!==u||(e=null);var s=!1;if(null===e)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case n:case r:s=!0}}if(s)return o=o(s=e),e=""===a?"."+C(s,0):a,w(o)?(i="",null!=e&&(i=e.replace(T,"$&/")+"/"),N(o,t,i,"",(function(e){return e}))):null!=o&&(_(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(T,"$&/")+"/")+e)),t.push(o)),1;if(s=0,a=""===a?".":a+":",w(e))for(var c=0;c<e.length;c++){var l=a+C(u=e[c],c);s+=N(u,t,i,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(u=e.next()).done;)s+=N(u=u.value,t,i,l=a+C(u,c++),o);else if("object"===u)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function A(e,t,n){if(null==e)return e;var r=[],i=0;return N(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function R(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P={current:null},D={transition:null},O={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:D,ReactCurrentOwner:E};t.Children={map:A,forEach:function(e,t,n){A(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return A(e,(function(){t++})),t},toArray:function(e){return A(e,(function(e){return e}))||[]},only:function(e){if(!_(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=o,t.PureComponent=b,t.StrictMode=a,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,u=E.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(c in t)x.call(t,c)&&!S.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==s?s[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){s=Array(c);for(var l=0;l<c;l++)s[l]=arguments[l+2];i.children=s}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:u}},t.createContext=function(e){return(e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:u,_context:e},e.Consumer=e},t.createElement=I,t.createFactory=function(e){var t=I.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=_,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:R}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=D.transition;D.transition={};try{e()}finally{D.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return P.current.useCallback(e,t)},t.useContext=function(e){return P.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return P.current.useDeferredValue(e)},t.useEffect=function(e,t){return P.current.useEffect(e,t)},t.useId=function(){return P.current.useId()},t.useImperativeHandle=function(e,t,n){return P.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return P.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return P.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return P.current.useMemo(e,t)},t.useReducer=function(e,t,n){return P.current.useReducer(e,t,n)},t.useRef=function(e){return P.current.useRef(e)},t.useState=function(e){return P.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return P.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return P.current.useTransition()},t.version="18.2.0"},791:function(e,t,n){e.exports=n(117)},184:function(e,t,n){e.exports=n(374)},813:function(e,t){function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var u=2*(r+1)-1,s=e[u],c=u+1,l=e[c];if(0>a(s,n))c<i&&0>a(l,s)?(e[r]=l,e[c]=n,r=c):(e[r]=s,e[u]=n,r=u);else{if(!(c<i&&0>a(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,s=u.now();t.unstable_now=function(){return u.now()-s}}var c=[],l=[],f=1,h=null,d=3,p=!1,v=!1,m=!1,y="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function k(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function w(e){if(m=!1,k(e),!v)if(null!==r(c))v=!0,D(x);else{var t=r(l);null!==t&&O(w,t.startTime-e)}}function x(e,n){v=!1,m&&(m=!1,g(_),_=-1),p=!0;var a=d;try{for(k(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!N());){var o=h.callback;if("function"===typeof o){h.callback=null,d=h.priorityLevel;var u=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?h.callback=u:h===r(c)&&i(c),k(n)}else i(c);h=r(c)}if(null!==h)var s=!0;else{var f=r(l);null!==f&&O(w,f.startTime-n),s=!1}return s}finally{h=null,d=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var E,S=!1,I=null,_=-1,T=5,C=-1;function N(){return!(t.unstable_now()-C<T)}function A(){if(null!==I){var e=t.unstable_now();C=e;var n=!0;try{n=I(!0,e)}finally{n?E():(S=!1,I=null)}}else S=!1}if("function"===typeof b)E=function(){b(A)};else if("undefined"!==typeof MessageChannel){var R=new MessageChannel,P=R.port2;R.port1.onmessage=A,E=function(){P.postMessage(null)}}else E=function(){y(A,0)};function D(e){I=e,S||(S=!0,E())}function O(e,n){_=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,D(x))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:u=a+u,sortIndex:-1},a>o?(e.sortIndex=a,n(l,e),null===r(c)&&e===r(l)&&(m?(g(_),_=-1):m=!0,O(w,a-o))):(e.sortIndex=u,n(c,e),v||p||(v=!0,D(x))),e},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},296:function(e,t,n){e.exports=n(813)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.m=e,n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))},n.u=function(e){return"static/js/"+e+".30532ded.chunk.js"},n.miniCssF=function(e){},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="react-firebase-real-time-chat:";n.l=function(r,i,a,o){if(e[r])e[r].push(i);else{var u,s;if(void 0!==a)for(var c=document.getElementsByTagName("script"),l=0;l<c.length;l++){var f=c[l];if(f.getAttribute("src")==r||f.getAttribute("data-webpack")==t+a){u=f;break}}u||(s=!0,(u=document.createElement("script")).charset="utf-8",u.timeout=120,n.nc&&u.setAttribute("nonce",n.nc),u.setAttribute("data-webpack",t+a),u.src=r),e[r]=[i];var h=function(t,n){u.onerror=u.onload=null,clearTimeout(d);var i=e[r];if(delete e[r],u.parentNode&&u.parentNode.removeChild(u),i&&i.forEach((function(e){return e(n)})),t)return t(n)},d=setTimeout(h.bind(null,void 0,{type:"timeout",target:u}),12e4);u.onerror=h.bind(null,u.onerror),u.onload=h.bind(null,u.onload),s&&document.head.appendChild(u)}}}(),n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/react-firebase-real-time-chat/",function(){var e={179:0};n.f.j=function(t,r){var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var a=new Promise((function(n,r){i=e[t]=[n,r]}));r.push(i[2]=a);var o=n.p+n.u(t),u=new Error;n.l(o,(function(r){if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var a=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;u.message="Loading chunk "+t+" failed.\n("+a+": "+o+")",u.name="ChunkLoadError",u.type=a,u.request=o,i[1](u)}}),"chunk-"+t,t)}};var t=function(t,r){var i,a,o=r[0],u=r[1],s=r[2],c=0;if(o.some((function(t){return 0!==e[t]}))){for(i in u)n.o(u,i)&&(n.m[i]=u[i]);if(s)s(n)}for(t&&t(r);c<o.length;c++)a=o[c],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0},r=self.webpackChunkreact_firebase_real_time_chat=self.webpackChunkreact_firebase_real_time_chat||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var r={};!function(){n.d(r,{_:function(){return BO}});var e={};n.r(e),n.d(e,{FirebaseError:function(){return to},SDK_VERSION:function(){return fu},_DEFAULT_ENTRY_NAME:function(){return Xo},_addComponent:function(){return nu},_addOrOverwriteComponent:function(){return ru},_apps:function(){return eu},_clearComponents:function(){return uu},_components:function(){return tu},_getProvider:function(){return au},_registerComponent:function(){return iu},_removeServiceInstance:function(){return ou},deleteApp:function(){return vu},getApp:function(){return du},getApps:function(){return pu},initializeApp:function(){return hu},onLog:function(){return gu},registerVersion:function(){return yu},setLogLevel:function(){return bu}});var t,i=n(791),a=n(250);function o(e){if(Array.isArray(e))return e}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e,t){if(e){if("string"===typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}function c(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(e,t){return o(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,u=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(s){u=!0,i=s}finally{try{o||null==n.return||n.return()}finally{if(u)throw i}}return a}}(e,t)||s(e,t)||c()}function f(){return f=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(t||(t={}));var h=function(e){return e};var d="beforeunload",p="popstate";function v(e){void 0===e&&(e={});var n=e.window,r=void 0===n?document.defaultView:n,i=r.history;function a(){var e=k(r.location.hash.substr(1)),t=e.pathname,n=void 0===t?"/":t,a=e.search,o=void 0===a?"":a,u=e.hash,s=void 0===u?"":u,c=i.state||{};return[c.idx,h({pathname:n,search:o,hash:s,state:c.usr||null,key:c.key||"default"})]}var o=null;function u(){if(o)x.call(o),o=null;else{var e=t.Pop,n=a(),r=n[0],i=n[1];if(x.length){if(null!=r){var u=l-r;u&&(o={action:e,location:i,retry:function(){C(-1*u)}},C(u))}}else T(e)}}r.addEventListener(p,u),r.addEventListener("hashchange",(function(){b(a()[1])!==b(v)&&u()}));var s=t.Pop,c=a(),l=c[0],v=c[1],w=y(),x=y();function E(e){return function(){var e=document.querySelector("base"),t="";if(e&&e.getAttribute("href")){var n=r.location.href,i=n.indexOf("#");t=-1===i?n:n.slice(0,i)}return t}()+"#"+("string"===typeof e?e:b(e))}function S(e,t){return void 0===t&&(t=null),h(f({pathname:v.pathname,hash:"",search:""},"string"===typeof e?k(e):e,{state:t,key:g()}))}function I(e,t){return[{usr:e.state,key:e.key,idx:t},E(e)]}function _(e,t,n){return!x.length||(x.call({action:e,location:t,retry:n}),!1)}function T(e){s=e;var t=a();l=t[0],v=t[1],w.call({action:s,location:v})}function C(e){i.go(e)}null==l&&(l=0,i.replaceState(f({},i.state,{idx:l}),""));var N={get action(){return s},get location(){return v},createHref:E,push:function e(n,a){var o=t.Push,u=S(n,a);if(_(o,u,(function(){e(n,a)}))){var s=I(u,l+1),c=s[0],f=s[1];try{i.pushState(c,"",f)}catch(h){r.location.assign(f)}T(o)}},replace:function e(n,r){var a=t.Replace,o=S(n,r);if(_(a,o,(function(){e(n,r)}))){var u=I(o,l),s=u[0],c=u[1];i.replaceState(s,"",c),T(a)}},go:C,back:function(){C(-1)},forward:function(){C(1)},listen:function(e){return w.push(e)},block:function(e){var t=x.push(e);return 1===x.length&&r.addEventListener(d,m),function(){t(),x.length||r.removeEventListener(d,m)}}};return N}function m(e){e.preventDefault(),e.returnValue=""}function y(){var e=[];return{get length(){return e.length},push:function(t){return e.push(t),function(){e=e.filter((function(e){return e!==t}))}},call:function(t){e.forEach((function(e){return e&&e(t)}))}}}function g(){return Math.random().toString(36).substr(2,8)}function b(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function k(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}var w=(0,i.createContext)(null);var x=(0,i.createContext)(null);var E=(0,i.createContext)({outlet:null,matches:[]});function S(e,t){if(!e)throw new Error(t)}function I(e,t,n){void 0===n&&(n="/");var r=D(("string"===typeof t?k(t):t).pathname||"/",n);if(null==r)return null;var i=_(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=A(i[o],r);return a}function _(e,t,n,r){return void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r=""),e.forEach((function(e,i){var a={relativePath:e.path||"",caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(a.relativePath.startsWith(r)||S(!1),a.relativePath=a.relativePath.slice(r.length));var o=O([r,a.relativePath]),u=n.concat(a);e.children&&e.children.length>0&&(!0===e.index&&S(!1),_(e.children,t,u,o)),(null!=e.path||e.index)&&t.push({path:o,score:N(o,e.index),routesMeta:u})})),t}var T=/^:\w+$/,C=function(e){return"*"===e};function N(e,t){var n=e.split("/"),r=n.length;return n.some(C)&&(r+=-2),t&&(r+=2),n.filter((function(e){return!C(e)})).reduce((function(e,t){return e+(T.test(t)?3:""===t?1:10)}),r)}function A(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var u=n[o],s=o===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=R({path:u.relativePath,caseSensitive:u.caseSensitive,end:s},c);if(!l)return null;Object.assign(r,l.params);var f=u.route;a.push({params:r,pathname:O([i,l.pathname]),pathnameBase:L(O([i,l.pathnameBase])),route:f}),"/"!==l.pathnameBase&&(i=O([i,l.pathnameBase]))}return a}function R(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(function(e,t){return r.push(t),"([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):i+=n?"\\/*$":"(?:(?=[.~-]|%[0-9A-F]{2})|\\b|\\/|$)";return[new RegExp(i,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),r=l(n,2),i=r[0],a=r[1],o=t.match(i);if(!o)return null;var u=o[0],s=u.replace(/(.)\/+$/,"$1"),c=o.slice(1),f=a.reduce((function(e,t,n){if("*"===t){var r=c[n]||"";s=u.slice(0,u.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return e}}(c[n]||""),e}),{});return{params:f,pathname:u,pathnameBase:s,pattern:e}}function P(e,t,n){var r,i="string"===typeof e?k(e):e,a=""===e||""===i.pathname?"/":i.pathname;if(null==a)r=n;else{var o=t.length-1;if(a.startsWith("..")){for(var u=a.split("/");".."===u[0];)u.shift(),o-=1;i.pathname=u.join("/")}r=o>=0?t[o]:"/"}var s=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?k(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,u=void 0===o?"":o,s=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:s,search:M(a),hash:F(u)}}(i,r);return a&&"/"!==a&&a.endsWith("/")&&!s.pathname.endsWith("/")&&(s.pathname+="/"),s}function D(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=e.charAt(t.length);return n&&"/"!==n?null:e.slice(t.length)||"/"}var O=function(e){return e.join("/").replace(/\/\/+/g,"/")},L=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},M=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},F=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""};function V(e){U()||S(!1);var t=(0,i.useContext)(w),n=t.basename,r=t.navigator,a=B(e),o=a.hash,u=a.pathname,s=a.search,c=u;if("/"!==n){var l=function(e){return""===e||""===e.pathname?"/":"string"===typeof e?k(e).pathname:e.pathname}(e),f=null!=l&&l.endsWith("/");c="/"===u?n+(f?"/":""):O([n,u])}return r.createHref({pathname:c,search:s,hash:o})}function U(){return null!=(0,i.useContext)(x)}function j(){return U()||S(!1),(0,i.useContext)(x).location}function z(){U()||S(!1);var e=(0,i.useContext)(w),t=e.basename,n=e.navigator,r=(0,i.useContext)(E).matches,a=j().pathname,o=JSON.stringify(r.map((function(e){return e.pathnameBase}))),u=(0,i.useRef)(!1);(0,i.useEffect)((function(){u.current=!0}));var s=(0,i.useCallback)((function(e,r){if(void 0===r&&(r={}),u.current)if("number"!==typeof e){var i=P(e,JSON.parse(o),a);"/"!==t&&(i.pathname=O([t,i.pathname])),(r.replace?n.replace:n.push)(i,r.state)}else n.go(e)}),[t,n,o,a]);return s}function B(e){var t=(0,i.useContext)(E).matches,n=j().pathname,r=JSON.stringify(t.map((function(e){return e.pathnameBase})));return(0,i.useMemo)((function(){return P(e,JSON.parse(r),n)}),[e,r,n])}function q(e,t){return void 0===t&&(t=[]),null==e?null:e.reduceRight((function(n,r,a){return(0,i.createElement)(E.Provider,{children:void 0!==r.route.element?r.route.element:n,value:{outlet:n,matches:t.concat(e.slice(0,a+1))}})}),null)}function W(e){var t=e.to,n=e.replace,r=e.state;U()||S(!1);var a=z();return(0,i.useEffect)((function(){a(t,{replace:n,state:r})})),null}function K(e){S(!1)}function G(e){var n=e.basename,r=void 0===n?"/":n,a=e.children,o=void 0===a?null:a,u=e.location,s=e.navigationType,c=void 0===s?t.Pop:s,l=e.navigator,f=e.static,h=void 0!==f&&f;U()&&S(!1);var d=L(r),p=(0,i.useMemo)((function(){return{basename:d,navigator:l,static:h}}),[d,l,h]);"string"===typeof u&&(u=k(u));var v=u,m=v.pathname,y=void 0===m?"/":m,g=v.search,b=void 0===g?"":g,E=v.hash,I=void 0===E?"":E,_=v.state,T=void 0===_?null:_,C=v.key,N=void 0===C?"default":C,A=(0,i.useMemo)((function(){var e=D(y,d);return null==e?null:{pathname:e,search:b,hash:I,state:T,key:N}}),[d,y,b,I,T,N]);return null==A?null:(0,i.createElement)(w.Provider,{value:p},(0,i.createElement)(x.Provider,{children:o,value:{location:A,navigationType:c}}))}function H(e){var t=e.children,n=e.location;return function(e,t){U()||S(!1);var n,r=(0,i.useContext)(E).matches,a=r[r.length-1],o=a?a.params:{},u=(a&&a.pathname,a?a.pathnameBase:"/"),s=(a&&a.route,j());if(t){var c,l="string"===typeof t?k(t):t;"/"===u||(null==(c=l.pathname)?void 0:c.startsWith(u))||S(!1),n=l}else n=s;var f=n.pathname||"/",h=I(e,{pathname:"/"===u?f:f.slice(u.length)||"/"});return q(h&&h.map((function(e){return Object.assign({},e,{params:Object.assign({},o,e.params),pathname:O([u,e.pathname]),pathnameBase:"/"===e.pathnameBase?u:O([u,e.pathnameBase])})})),r)}(Q(t),n)}function Q(e){var t=[];return i.Children.forEach(e,(function(e){if((0,i.isValidElement)(e))if(e.type!==i.Fragment){e.type!==K&&S(!1);var n={caseSensitive:e.props.caseSensitive,element:e.props.element,index:e.props.index,path:e.props.path};e.props.children&&(n.children=Q(e.props.children)),t.push(n)}else t.push.apply(t,Q(e.props.children))})),t}function $(){return $=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$.apply(this,arguments)}function Y(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var J=["onClick","reloadDocument","replace","state","target","to"],X=["aria-current","caseSensitive","className","end","style","to","children"];function Z(e){var t=e.basename,n=e.children,r=e.window,a=(0,i.useRef)();null==a.current&&(a.current=v({window:r}));var o=a.current,u=l((0,i.useState)({action:o.action,location:o.location}),2),s=u[0],c=u[1];return(0,i.useLayoutEffect)((function(){return o.listen(c)}),[o]),(0,i.createElement)(G,{basename:t,children:n,location:s.location,navigationType:s.action,navigator:o})}var ee=(0,i.forwardRef)((function(e,t){var n=e.onClick,r=e.reloadDocument,a=e.replace,o=void 0!==a&&a,u=e.state,s=e.target,c=e.to,l=Y(e,J),f=V(c),h=function(e,t){var n=void 0===t?{}:t,r=n.target,a=n.replace,o=n.state,u=z(),s=j(),c=B(e);return(0,i.useCallback)((function(t){if(0===t.button&&(!r||"_self"===r)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(t)){t.preventDefault();var n=!!a||b(s)===b(c);u(e,{replace:n,state:o})}}),[s,u,c,a,o,r,e])}(c,{replace:o,state:u,target:s});return(0,i.createElement)("a",$({},l,{href:f,onClick:function(e){n&&n(e),e.defaultPrevented||r||h(e)},ref:t,target:s}))}));var te=(0,i.forwardRef)((function(e,t){var n=e["aria-current"],r=void 0===n?"page":n,a=e.caseSensitive,o=void 0!==a&&a,u=e.className,s=void 0===u?"":u,c=e.end,l=void 0!==c&&c,f=e.style,h=e.to,d=e.children,p=Y(e,X),v=j(),m=B(h),y=v.pathname,g=m.pathname;o||(y=y.toLowerCase(),g=g.toLowerCase());var b,k=y===g||!l&&y.startsWith(g)&&"/"===y.charAt(g.length),w=k?r:void 0;b="function"===typeof s?s({isActive:k}):[s,k?"active":null].filter(Boolean).join(" ");var x="function"===typeof f?f({isActive:k}):f;return(0,i.createElement)(ee,$({},p,{"aria-current":w,className:b,ref:t,style:x,to:h}),"function"===typeof d?d({isActive:k}):d)}));function ne(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function re(e,t){if(null==e)return{};var n,r,i=ne(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function ie(e){var t,n,r="";if("string"===typeof e||"number"===typeof e)r+=e;else if("object"===typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=ie(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}var ae=function(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=ie(e))&&(r&&(r+=" "),r+=t);return r},oe=n(110),ue=n.n(oe),se="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ce="object"===("undefined"===typeof window?"undefined":se(window))&&"object"===("undefined"===typeof document?"undefined":se(document))&&9===document.nodeType;function le(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function fe(e,t,n){return t&&le(e.prototype,t),n&&le(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function he(e,t){return he=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},he(e,t)}function de(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,he(e,t)}function pe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var ve={}.constructor;function me(e){if(null==e||"object"!==typeof e)return e;if(Array.isArray(e))return e.map(me);if(e.constructor!==ve)return e;var t={};for(var n in e)t[n]=me(e[n]);return t}function ye(e,t,n){void 0===e&&(e="unnamed");var r=n.jss,i=me(t),a=r.plugins.onCreateRule(e,i,n);return a||(e[0],null)}var ge=function(e,t){for(var n="",r=0;r<e.length&&"!important"!==e[r];r++)n&&(n+=t),n+=e[r];return n},be=function(e,t){if(void 0===t&&(t=!1),!Array.isArray(e))return e;var n="";if(Array.isArray(e[0]))for(var r=0;r<e.length&&"!important"!==e[r];r++)n&&(n+=", "),n+=ge(e[r]," ");else n=ge(e,", ");return t||"!important"!==e[e.length-1]||(n+=" !important"),n};function ke(e){return e&&!1===e.format?{linebreak:"",space:""}:{linebreak:"\n",space:" "}}function we(e,t){for(var n="",r=0;r<t;r++)n+="  ";return n+e}function xe(e,t,n){void 0===n&&(n={});var r="";if(!t)return r;var i=n.indent,a=void 0===i?0:i,o=t.fallbacks;!1===n.format&&(a=-1/0);var u=ke(n),s=u.linebreak,c=u.space;if(e&&a++,o)if(Array.isArray(o))for(var l=0;l<o.length;l++){var f=o[l];for(var h in f){var d=f[h];null!=d&&(r&&(r+=s),r+=we(h+":"+c+be(d)+";",a))}}else for(var p in o){var v=o[p];null!=v&&(r&&(r+=s),r+=we(p+":"+c+be(v)+";",a))}for(var m in t){var y=t[m];null!=y&&"fallbacks"!==m&&(r&&(r+=s),r+=we(m+":"+c+be(y)+";",a))}return(r||n.allowEmpty)&&e?(r&&(r=""+s+r+s),we(""+e+c+"{"+r,--a)+we("}",a)):r}var Ee=/([[\].#*$><+~=|^:(),"'`\s])/g,Se="undefined"!==typeof CSS&&CSS.escape,Ie=function(e){return Se?Se(e):e.replace(Ee,"\\$1")},_e=function(){function e(e,t,n){this.type="style",this.isProcessed=!1;var r=n.sheet,i=n.Renderer;this.key=e,this.options=n,this.style=t,r?this.renderer=r.renderer:i&&(this.renderer=new i)}return e.prototype.prop=function(e,t,n){if(void 0===t)return this.style[e];var r=!!n&&n.force;if(!r&&this.style[e]===t)return this;var i=t;n&&!1===n.process||(i=this.options.jss.plugins.onChangeValue(t,e,this));var a=null==i||!1===i,o=e in this.style;if(a&&!o&&!r)return this;var u=a&&o;if(u?delete this.style[e]:this.style[e]=i,this.renderable&&this.renderer)return u?this.renderer.removeProperty(this.renderable,e):this.renderer.setProperty(this.renderable,e,i),this;var s=this.options.sheet;return s&&s.attached,this},e}(),Te=function(e){function t(t,n,r){var i;i=e.call(this,t,n,r)||this;var a=r.selector,o=r.scoped,u=r.sheet,s=r.generateId;return a?i.selectorText=a:!1!==o&&(i.id=s(pe(pe(i)),u),i.selectorText="."+Ie(i.id)),i}de(t,e);var n=t.prototype;return n.applyTo=function(e){var t=this.renderer;if(t){var n=this.toJSON();for(var r in n)t.setProperty(e,r,n[r])}return this},n.toJSON=function(){var e={};for(var t in this.style){var n=this.style[t];"object"!==typeof n?e[t]=n:Array.isArray(n)&&(e[t]=be(n))}return e},n.toString=function(e){var t=this.options.sheet,n=!!t&&t.options.link?f({},e,{allowEmpty:!0}):e;return xe(this.selectorText,this.style,n)},fe(t,[{key:"selector",set:function(e){if(e!==this.selectorText){this.selectorText=e;var t=this.renderer,n=this.renderable;if(n&&t)t.setSelector(n,e)||t.replaceRule(n,this)}},get:function(){return this.selectorText}}]),t}(_e),Ce={onCreateRule:function(e,t,n){return"@"===e[0]||n.parent&&"keyframes"===n.parent.type?null:new Te(e,t,n)}},Ne={indent:1,children:!0},Ae=/@([\w-]+)/,Re=function(){function e(e,t,n){this.type="conditional",this.isProcessed=!1,this.key=e;var r=e.match(Ae);for(var i in this.at=r?r[1]:"unknown",this.query=n.name||"@"+this.at,this.options=n,this.rules=new tt(f({},n,{parent:this})),t)this.rules.add(i,t[i]);this.rules.process()}var t=e.prototype;return t.getRule=function(e){return this.rules.get(e)},t.indexOf=function(e){return this.rules.indexOf(e)},t.addRule=function(e,t,n){var r=this.rules.add(e,t,n);return r?(this.options.jss.plugins.onProcessRule(r),r):null},t.replaceRule=function(e,t,n){var r=this.rules.replace(e,t,n);return r&&this.options.jss.plugins.onProcessRule(r),r},t.toString=function(e){void 0===e&&(e=Ne);var t=ke(e).linebreak;if(null==e.indent&&(e.indent=Ne.indent),null==e.children&&(e.children=Ne.children),!1===e.children)return this.query+" {}";var n=this.rules.toString(e);return n?this.query+" {"+t+n+t+"}":""},e}(),Pe=/@media|@supports\s+/,De={onCreateRule:function(e,t,n){return Pe.test(e)?new Re(e,t,n):null}},Oe={indent:1,children:!0},Le=/@keyframes\s+([\w-]+)/,Me=function(){function e(e,t,n){this.type="keyframes",this.at="@keyframes",this.isProcessed=!1;var r=e.match(Le);r&&r[1]?this.name=r[1]:this.name="noname",this.key=this.type+"-"+this.name,this.options=n;var i=n.scoped,a=n.sheet,o=n.generateId;for(var u in this.id=!1===i?this.name:Ie(o(this,a)),this.rules=new tt(f({},n,{parent:this})),t)this.rules.add(u,t[u],f({},n,{parent:this}));this.rules.process()}return e.prototype.toString=function(e){void 0===e&&(e=Oe);var t=ke(e).linebreak;if(null==e.indent&&(e.indent=Oe.indent),null==e.children&&(e.children=Oe.children),!1===e.children)return this.at+" "+this.id+" {}";var n=this.rules.toString(e);return n&&(n=""+t+n+t),this.at+" "+this.id+" {"+n+"}"},e}(),Fe=/@keyframes\s+/,Ve=/\$([\w-]+)/g,Ue=function(e,t){return"string"===typeof e?e.replace(Ve,(function(e,n){return n in t?t[n]:e})):e},je=function(e,t,n){var r=e[t],i=Ue(r,n);i!==r&&(e[t]=i)},ze={onCreateRule:function(e,t,n){return"string"===typeof e&&Fe.test(e)?new Me(e,t,n):null},onProcessStyle:function(e,t,n){return"style"===t.type&&n?("animation-name"in e&&je(e,"animation-name",n.keyframes),"animation"in e&&je(e,"animation",n.keyframes),e):e},onChangeValue:function(e,t,n){var r=n.options.sheet;if(!r)return e;switch(t){case"animation":case"animation-name":return Ue(e,r.keyframes);default:return e}}},Be=function(e){function t(){return e.apply(this,arguments)||this}return de(t,e),t.prototype.toString=function(e){var t=this.options.sheet,n=!!t&&t.options.link?f({},e,{allowEmpty:!0}):e;return xe(this.key,this.style,n)},t}(_e),qe={onCreateRule:function(e,t,n){return n.parent&&"keyframes"===n.parent.type?new Be(e,t,n):null}},We=function(){function e(e,t,n){this.type="font-face",this.at="@font-face",this.isProcessed=!1,this.key=e,this.style=t,this.options=n}return e.prototype.toString=function(e){var t=ke(e).linebreak;if(Array.isArray(this.style)){for(var n="",r=0;r<this.style.length;r++)n+=xe(this.at,this.style[r]),this.style[r+1]&&(n+=t);return n}return xe(this.at,this.style,e)},e}(),Ke=/@font-face/,Ge={onCreateRule:function(e,t,n){return Ke.test(e)?new We(e,t,n):null}},He=function(){function e(e,t,n){this.type="viewport",this.at="@viewport",this.isProcessed=!1,this.key=e,this.style=t,this.options=n}return e.prototype.toString=function(e){return xe(this.key,this.style,e)},e}(),Qe={onCreateRule:function(e,t,n){return"@viewport"===e||"@-ms-viewport"===e?new He(e,t,n):null}},$e=function(){function e(e,t,n){this.type="simple",this.isProcessed=!1,this.key=e,this.value=t,this.options=n}return e.prototype.toString=function(e){if(Array.isArray(this.value)){for(var t="",n=0;n<this.value.length;n++)t+=this.key+" "+this.value[n]+";",this.value[n+1]&&(t+="\n");return t}return this.key+" "+this.value+";"},e}(),Ye={"@charset":!0,"@import":!0,"@namespace":!0},Je={onCreateRule:function(e,t,n){return e in Ye?new $e(e,t,n):null}},Xe=[Ce,De,ze,qe,Ge,Qe,Je],Ze={process:!0},et={force:!0,process:!0},tt=function(){function e(e){this.map={},this.raw={},this.index=[],this.counter=0,this.options=e,this.classes=e.classes,this.keyframes=e.keyframes}var t=e.prototype;return t.add=function(e,t,n){var r=this.options,i=r.parent,a=r.sheet,o=r.jss,u=r.Renderer,s=r.generateId,c=r.scoped,l=f({classes:this.classes,parent:i,sheet:a,jss:o,Renderer:u,generateId:s,scoped:c,name:e,keyframes:this.keyframes,selector:void 0},n),h=e;e in this.raw&&(h=e+"-d"+this.counter++),this.raw[h]=t,h in this.classes&&(l.selector="."+Ie(this.classes[h]));var d=ye(h,t,l);if(!d)return null;this.register(d);var p=void 0===l.index?this.index.length:l.index;return this.index.splice(p,0,d),d},t.replace=function(e,t,n){var r=this.get(e),i=this.index.indexOf(r);r&&this.remove(r);var a=n;return-1!==i&&(a=f({},n,{index:i})),this.add(e,t,a)},t.get=function(e){return this.map[e]},t.remove=function(e){this.unregister(e),delete this.raw[e.key],this.index.splice(this.index.indexOf(e),1)},t.indexOf=function(e){return this.index.indexOf(e)},t.process=function(){var e=this.options.jss.plugins;this.index.slice(0).forEach(e.onProcessRule,e)},t.register=function(e){this.map[e.key]=e,e instanceof Te?(this.map[e.selector]=e,e.id&&(this.classes[e.key]=e.id)):e instanceof Me&&this.keyframes&&(this.keyframes[e.name]=e.id)},t.unregister=function(e){delete this.map[e.key],e instanceof Te?(delete this.map[e.selector],delete this.classes[e.key]):e instanceof Me&&delete this.keyframes[e.name]},t.update=function(){var e,t,n;if("string"===typeof(arguments.length<=0?void 0:arguments[0])?(e=arguments.length<=0?void 0:arguments[0],t=arguments.length<=1?void 0:arguments[1],n=arguments.length<=2?void 0:arguments[2]):(t=arguments.length<=0?void 0:arguments[0],n=arguments.length<=1?void 0:arguments[1],e=null),e)this.updateOne(this.get(e),t,n);else for(var r=0;r<this.index.length;r++)this.updateOne(this.index[r],t,n)},t.updateOne=function(t,n,r){void 0===r&&(r=Ze);var i=this.options,a=i.jss.plugins,o=i.sheet;if(t.rules instanceof e)t.rules.update(n,r);else{var u=t.style;if(a.onUpdate(n,t,o,r),r.process&&u&&u!==t.style){for(var s in a.onProcessStyle(t.style,t,o),t.style){var c=t.style[s];c!==u[s]&&t.prop(s,c,et)}for(var l in u){var f=t.style[l],h=u[l];null==f&&f!==h&&t.prop(l,null,et)}}}},t.toString=function(e){for(var t="",n=this.options.sheet,r=!!n&&n.options.link,i=ke(e).linebreak,a=0;a<this.index.length;a++){var o=this.index[a].toString(e);(o||r)&&(t&&(t+=i),t+=o)}return t},e}(),nt=function(){function e(e,t){for(var n in this.attached=!1,this.deployed=!1,this.classes={},this.keyframes={},this.options=f({},t,{sheet:this,parent:this,classes:this.classes,keyframes:this.keyframes}),t.Renderer&&(this.renderer=new t.Renderer(this)),this.rules=new tt(this.options),e)this.rules.add(n,e[n]);this.rules.process()}var t=e.prototype;return t.attach=function(){return this.attached||(this.renderer&&this.renderer.attach(),this.attached=!0,this.deployed||this.deploy()),this},t.detach=function(){return this.attached?(this.renderer&&this.renderer.detach(),this.attached=!1,this):this},t.addRule=function(e,t,n){var r=this.queue;this.attached&&!r&&(this.queue=[]);var i=this.rules.add(e,t,n);return i?(this.options.jss.plugins.onProcessRule(i),this.attached?this.deployed?(r?r.push(i):(this.insertRule(i),this.queue&&(this.queue.forEach(this.insertRule,this),this.queue=void 0)),i):i:(this.deployed=!1,i)):null},t.replaceRule=function(e,t,n){var r=this.rules.get(e);if(!r)return this.addRule(e,t,n);var i=this.rules.replace(e,t,n);return i&&this.options.jss.plugins.onProcessRule(i),this.attached?this.deployed?(this.renderer&&(i?r.renderable&&this.renderer.replaceRule(r.renderable,i):this.renderer.deleteRule(r)),i):i:(this.deployed=!1,i)},t.insertRule=function(e){this.renderer&&this.renderer.insertRule(e)},t.addRules=function(e,t){var n=[];for(var r in e){var i=this.addRule(r,e[r],t);i&&n.push(i)}return n},t.getRule=function(e){return this.rules.get(e)},t.deleteRule=function(e){var t="object"===typeof e?e:this.rules.get(e);return!(!t||this.attached&&!t.renderable)&&(this.rules.remove(t),!(this.attached&&t.renderable&&this.renderer)||this.renderer.deleteRule(t.renderable))},t.indexOf=function(e){return this.rules.indexOf(e)},t.deploy=function(){return this.renderer&&this.renderer.deploy(),this.deployed=!0,this},t.update=function(){var e;return(e=this.rules).update.apply(e,arguments),this},t.updateOne=function(e,t,n){return this.rules.updateOne(e,t,n),this},t.toString=function(e){return this.rules.toString(e)},e}(),rt=function(){function e(){this.plugins={internal:[],external:[]},this.registry={}}var t=e.prototype;return t.onCreateRule=function(e,t,n){for(var r=0;r<this.registry.onCreateRule.length;r++){var i=this.registry.onCreateRule[r](e,t,n);if(i)return i}return null},t.onProcessRule=function(e){if(!e.isProcessed){for(var t=e.options.sheet,n=0;n<this.registry.onProcessRule.length;n++)this.registry.onProcessRule[n](e,t);e.style&&this.onProcessStyle(e.style,e,t),e.isProcessed=!0}},t.onProcessStyle=function(e,t,n){for(var r=0;r<this.registry.onProcessStyle.length;r++)t.style=this.registry.onProcessStyle[r](t.style,t,n)},t.onProcessSheet=function(e){for(var t=0;t<this.registry.onProcessSheet.length;t++)this.registry.onProcessSheet[t](e)},t.onUpdate=function(e,t,n,r){for(var i=0;i<this.registry.onUpdate.length;i++)this.registry.onUpdate[i](e,t,n,r)},t.onChangeValue=function(e,t,n){for(var r=e,i=0;i<this.registry.onChangeValue.length;i++)r=this.registry.onChangeValue[i](r,t,n);return r},t.use=function(e,t){void 0===t&&(t={queue:"external"});var n=this.plugins[t.queue];-1===n.indexOf(e)&&(n.push(e),this.registry=[].concat(this.plugins.external,this.plugins.internal).reduce((function(e,t){for(var n in t)n in e&&e[n].push(t[n]);return e}),{onCreateRule:[],onProcessRule:[],onProcessStyle:[],onProcessSheet:[],onChangeValue:[],onUpdate:[]}))},e}(),it=function(){function e(){this.registry=[]}var t=e.prototype;return t.add=function(e){var t=this.registry,n=e.options.index;if(-1===t.indexOf(e))if(0===t.length||n>=this.index)t.push(e);else for(var r=0;r<t.length;r++)if(t[r].options.index>n)return void t.splice(r,0,e)},t.reset=function(){this.registry=[]},t.remove=function(e){var t=this.registry.indexOf(e);this.registry.splice(t,1)},t.toString=function(e){for(var t=void 0===e?{}:e,n=t.attached,r=ne(t,["attached"]),i=ke(r).linebreak,a="",o=0;o<this.registry.length;o++){var u=this.registry[o];null!=n&&u.attached!==n||(a&&(a+=i),a+=u.toString(r))}return a},fe(e,[{key:"index",get:function(){return 0===this.registry.length?0:this.registry[this.registry.length-1].options.index}}]),e}(),at=new it,ot="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window&&window.Math===Math?window:"undefined"!==typeof self&&self.Math===Math?self:Function("return this")(),ut="2f1acc6c3a606b082e5eef5e54414ffb";null==ot[ut]&&(ot[ut]=0);var st=ot[ut]++,ct=function(e){void 0===e&&(e={});var t=0;return function(n,r){t+=1;var i="",a="";return r&&(r.options.classNamePrefix&&(a=r.options.classNamePrefix),null!=r.options.jss.id&&(i=String(r.options.jss.id))),e.minify?""+(a||"c")+st+i+t:a+n.key+"-"+st+(i?"-"+i:"")+"-"+t}},lt=function(e){var t;return function(){return t||(t=e()),t}},ft=function(e,t){try{return e.attributeStyleMap?e.attributeStyleMap.get(t):e.style.getPropertyValue(t)}catch(n){return""}},ht=function(e,t,n){try{var r=n;if(Array.isArray(n)&&(r=be(n,!0),"!important"===n[n.length-1]))return e.style.setProperty(t,r,"important"),!0;e.attributeStyleMap?e.attributeStyleMap.set(t,r):e.style.setProperty(t,r)}catch(i){return!1}return!0},dt=function(e,t){try{e.attributeStyleMap?e.attributeStyleMap.delete(t):e.style.removeProperty(t)}catch(n){}},pt=function(e,t){return e.selectorText=t,e.selectorText===t},vt=lt((function(){return document.querySelector("head")}));function mt(e){var t=at.registry;if(t.length>0){var n=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.attached&&r.options.index>t.index&&r.options.insertionPoint===t.insertionPoint)return r}return null}(t,e);if(n&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element};if(n=function(e,t){for(var n=e.length-1;n>=0;n--){var r=e[n];if(r.attached&&r.options.insertionPoint===t.insertionPoint)return r}return null}(t,e),n&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element.nextSibling}}var r=e.insertionPoint;if(r&&"string"===typeof r){var i=function(e){for(var t=vt(),n=0;n<t.childNodes.length;n++){var r=t.childNodes[n];if(8===r.nodeType&&r.nodeValue.trim()===e)return r}return null}(r);if(i)return{parent:i.parentNode,node:i.nextSibling}}return!1}var yt=lt((function(){var e=document.querySelector('meta[property="csp-nonce"]');return e?e.getAttribute("content"):null})),gt=function(e,t,n){try{"insertRule"in e?e.insertRule(t,n):"appendRule"in e&&e.appendRule(t)}catch(r){return!1}return e.cssRules[n]},bt=function(e,t){var n=e.cssRules.length;return void 0===t||t>n?n:t},kt=function(){function e(e){this.getPropertyValue=ft,this.setProperty=ht,this.removeProperty=dt,this.setSelector=pt,this.hasInsertedRules=!1,this.cssRules=[],e&&at.add(e),this.sheet=e;var t=this.sheet?this.sheet.options:{},n=t.media,r=t.meta,i=t.element;this.element=i||function(){var e=document.createElement("style");return e.textContent="\n",e}(),this.element.setAttribute("data-jss",""),n&&this.element.setAttribute("media",n),r&&this.element.setAttribute("data-meta",r);var a=yt();a&&this.element.setAttribute("nonce",a)}var t=e.prototype;return t.attach=function(){if(!this.element.parentNode&&this.sheet){!function(e,t){var n=t.insertionPoint,r=mt(t);if(!1!==r&&r.parent)r.parent.insertBefore(e,r.node);else if(n&&"number"===typeof n.nodeType){var i=n,a=i.parentNode;a&&a.insertBefore(e,i.nextSibling)}else vt().appendChild(e)}(this.element,this.sheet.options);var e=Boolean(this.sheet&&this.sheet.deployed);this.hasInsertedRules&&e&&(this.hasInsertedRules=!1,this.deploy())}},t.detach=function(){if(this.sheet){var e=this.element.parentNode;e&&e.removeChild(this.element),this.sheet.options.link&&(this.cssRules=[],this.element.textContent="\n")}},t.deploy=function(){var e=this.sheet;e&&(e.options.link?this.insertRules(e.rules):this.element.textContent="\n"+e.toString()+"\n")},t.insertRules=function(e,t){for(var n=0;n<e.index.length;n++)this.insertRule(e.index[n],n,t)},t.insertRule=function(e,t,n){if(void 0===n&&(n=this.element.sheet),e.rules){var r=e,i=n;if("conditional"===e.type||"keyframes"===e.type){var a=bt(n,t);if(!1===(i=gt(n,r.toString({children:!1}),a)))return!1;this.refCssRule(e,a,i)}return this.insertRules(r.rules,i),i}var o=e.toString();if(!o)return!1;var u=bt(n,t),s=gt(n,o,u);return!1!==s&&(this.hasInsertedRules=!0,this.refCssRule(e,u,s),s)},t.refCssRule=function(e,t,n){e.renderable=n,e.options.parent instanceof nt&&this.cssRules.splice(t,0,n)},t.deleteRule=function(e){var t=this.element.sheet,n=this.indexOf(e);return-1!==n&&(t.deleteRule(n),this.cssRules.splice(n,1),!0)},t.indexOf=function(e){return this.cssRules.indexOf(e)},t.replaceRule=function(e,t){var n=this.indexOf(e);return-1!==n&&(this.element.sheet.deleteRule(n),this.cssRules.splice(n,1),this.insertRule(t,n))},t.getRules=function(){return this.element.sheet.cssRules},e}(),wt=0,xt=function(){function e(e){this.id=wt++,this.version="10.9.0",this.plugins=new rt,this.options={id:{minify:!1},createGenerateId:ct,Renderer:ce?kt:null,plugins:[]},this.generateId=ct({minify:!1});for(var t=0;t<Xe.length;t++)this.plugins.use(Xe[t],{queue:"internal"});this.setup(e)}var t=e.prototype;return t.setup=function(e){return void 0===e&&(e={}),e.createGenerateId&&(this.options.createGenerateId=e.createGenerateId),e.id&&(this.options.id=f({},this.options.id,e.id)),(e.createGenerateId||e.id)&&(this.generateId=this.options.createGenerateId(this.options.id)),null!=e.insertionPoint&&(this.options.insertionPoint=e.insertionPoint),"Renderer"in e&&(this.options.Renderer=e.Renderer),e.plugins&&this.use.apply(this,e.plugins),this},t.createStyleSheet=function(e,t){void 0===t&&(t={});var n=t.index;"number"!==typeof n&&(n=0===at.index?0:at.index+1);var r=new nt(e,f({},t,{jss:this,generateId:t.generateId||this.generateId,insertionPoint:this.options.insertionPoint,Renderer:this.options.Renderer,index:n}));return this.plugins.onProcessSheet(r),r},t.removeStyleSheet=function(e){return e.detach(),at.remove(e),this},t.createRule=function(e,t,n){if(void 0===t&&(t={}),void 0===n&&(n={}),"object"===typeof e)return this.createRule(void 0,e,t);var r=f({},n,{name:e,jss:this,Renderer:this.options.Renderer});r.generateId||(r.generateId=this.generateId),r.classes||(r.classes={}),r.keyframes||(r.keyframes={});var i=ye(e,t,r);return i&&this.plugins.onProcessRule(i),i},t.use=function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.forEach((function(t){e.plugins.use(t)})),this},e}(),Et=function(e){return new xt(e)},St="object"===typeof CSS&&null!=CSS&&"number"in CSS;function It(e){var t=null;for(var n in e){var r=e[n],i=typeof r;if("function"===i)t||(t={}),t[n]=r;else if("object"===i&&null!==r&&!Array.isArray(r)){var a=It(r);a&&(t||(t={}),t[n]=a)}}return t}Et();function _t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.baseClasses,n=e.newClasses;e.Component;if(!n)return t;var r=f({},t);return Object.keys(n).forEach((function(e){n[e]&&(r[e]="".concat(t[e]," ").concat(n[e]))})),r}var Tt={set:function(e,t,n,r){var i=e.get(t);i||(i=new Map,e.set(t,i)),i.set(n,r)},get:function(e,t,n){var r=e.get(t);return r?r.get(n):void 0},delete:function(e,t,n){e.get(t).delete(n)}},Ct=Tt;var Nt=i.createContext(null);function At(){return i.useContext(Nt)}var Rt="function"===typeof Symbol&&Symbol.for?Symbol.for("mui.nested"):"__THEME_NESTED__",Pt=["checked","disabled","error","focused","focusVisible","required","expanded","selected"];var Dt=Date.now(),Ot="fnValues"+Dt,Lt="fnStyle"+ ++Dt,Mt=function(){return{onCreateRule:function(e,t,n){if("function"!==typeof t)return null;var r=ye(e,{},n);return r[Lt]=t,r},onProcessStyle:function(e,t){if(Ot in t||Lt in t)return e;var n={};for(var r in e){var i=e[r];"function"===typeof i&&(delete e[r],n[r]=i)}return t[Ot]=n,e},onUpdate:function(e,t,n,r){var i=t,a=i[Lt];a&&(i.style=a(e)||{});var o=i[Ot];if(o)for(var u in o)i.prop(u,o[u](e),r)}}},Ft="@global",Vt="@global ",Ut=function(){function e(e,t,n){for(var r in this.type="global",this.at=Ft,this.isProcessed=!1,this.key=e,this.options=n,this.rules=new tt(f({},n,{parent:this})),t)this.rules.add(r,t[r]);this.rules.process()}var t=e.prototype;return t.getRule=function(e){return this.rules.get(e)},t.addRule=function(e,t,n){var r=this.rules.add(e,t,n);return r&&this.options.jss.plugins.onProcessRule(r),r},t.replaceRule=function(e,t,n){var r=this.rules.replace(e,t,n);return r&&this.options.jss.plugins.onProcessRule(r),r},t.indexOf=function(e){return this.rules.indexOf(e)},t.toString=function(e){return this.rules.toString(e)},e}(),jt=function(){function e(e,t,n){this.type="global",this.at=Ft,this.isProcessed=!1,this.key=e,this.options=n;var r=e.substr(Vt.length);this.rule=n.jss.createRule(r,t,f({},n,{parent:this}))}return e.prototype.toString=function(e){return this.rule?this.rule.toString(e):""},e}(),zt=/\s*,\s*/g;function Bt(e,t){for(var n=e.split(zt),r="",i=0;i<n.length;i++)r+=t+" "+n[i].trim(),n[i+1]&&(r+=", ");return r}var qt=function(){return{onCreateRule:function(e,t,n){if(!e)return null;if(e===Ft)return new Ut(e,t,n);if("@"===e[0]&&e.substr(0,Vt.length)===Vt)return new jt(e,t,n);var r=n.parent;return r&&("global"===r.type||r.options.parent&&"global"===r.options.parent.type)&&(n.scoped=!1),n.selector||!1!==n.scoped||(n.selector=e),null},onProcessRule:function(e,t){"style"===e.type&&t&&(function(e,t){var n=e.options,r=e.style,i=r?r[Ft]:null;if(i){for(var a in i)t.addRule(a,i[a],f({},n,{selector:Bt(a,e.selector)}));delete r[Ft]}}(e,t),function(e,t){var n=e.options,r=e.style;for(var i in r)if("@"===i[0]&&i.substr(0,Ft.length)===Ft){var a=Bt(i.substr(Ft.length),e.selector);t.addRule(a,r[i],f({},n,{selector:a})),delete r[i]}}(e,t))}}},Wt=/\s*,\s*/g,Kt=/&/g,Gt=/\$([\w-]+)/g;var Ht=function(){function e(e,t){return function(n,r){var i=e.getRule(r)||t&&t.getRule(r);return i?i.selector:r}}function t(e,t){for(var n=t.split(Wt),r=e.split(Wt),i="",a=0;a<n.length;a++)for(var o=n[a],u=0;u<r.length;u++){var s=r[u];i&&(i+=", "),i+=-1!==s.indexOf("&")?s.replace(Kt,o):o+" "+s}return i}function n(e,t,n){if(n)return f({},n,{index:n.index+1});var r=e.options.nestingLevel;r=void 0===r?1:r+1;var i=f({},e.options,{nestingLevel:r,index:t.indexOf(e)+1});return delete i.name,i}return{onProcessStyle:function(r,i,a){if("style"!==i.type)return r;var o,u,s=i,c=s.options.parent;for(var l in r){var h=-1!==l.indexOf("&"),d="@"===l[0];if(h||d){if(o=n(s,c,o),h){var p=t(l,s.selector);u||(u=e(c,a)),p=p.replace(Gt,u);var v=s.key+"-"+l;"replaceRule"in c?c.replaceRule(v,r[l],f({},o,{selector:p})):c.addRule(v,r[l],f({},o,{selector:p}))}else d&&c.addRule(l,{},o).addRule(s.key,r[l],{selector:s.selector});delete r[l]}}return r}}},Qt=/[A-Z]/g,$t=/^ms-/,Yt={};function Jt(e){return"-"+e.toLowerCase()}var Xt=function(e){if(Yt.hasOwnProperty(e))return Yt[e];var t=e.replace(Qt,Jt);return Yt[e]=$t.test(t)?"-"+t:t};function Zt(e){var t={};for(var n in e){t[0===n.indexOf("--")?n:Xt(n)]=e[n]}return e.fallbacks&&(Array.isArray(e.fallbacks)?t.fallbacks=e.fallbacks.map(Zt):t.fallbacks=Zt(e.fallbacks)),t}var en=function(){return{onProcessStyle:function(e){if(Array.isArray(e)){for(var t=0;t<e.length;t++)e[t]=Zt(e[t]);return e}return Zt(e)},onChangeValue:function(e,t,n){if(0===t.indexOf("--"))return e;var r=Xt(t);return t===r?e:(n.prop(r,e),null)}}},tn=St&&CSS?CSS.px:"px",nn=St&&CSS?CSS.ms:"ms",rn=St&&CSS?CSS.percent:"%";function an(e){var t=/(-[a-z])/g,n=function(e){return e[1].toUpperCase()},r={};for(var i in e)r[i]=e[i],r[i.replace(t,n)]=e[i];return r}var on=an({"animation-delay":nn,"animation-duration":nn,"background-position":tn,"background-position-x":tn,"background-position-y":tn,"background-size":tn,border:tn,"border-bottom":tn,"border-bottom-left-radius":tn,"border-bottom-right-radius":tn,"border-bottom-width":tn,"border-left":tn,"border-left-width":tn,"border-radius":tn,"border-right":tn,"border-right-width":tn,"border-top":tn,"border-top-left-radius":tn,"border-top-right-radius":tn,"border-top-width":tn,"border-width":tn,"border-block":tn,"border-block-end":tn,"border-block-end-width":tn,"border-block-start":tn,"border-block-start-width":tn,"border-block-width":tn,"border-inline":tn,"border-inline-end":tn,"border-inline-end-width":tn,"border-inline-start":tn,"border-inline-start-width":tn,"border-inline-width":tn,"border-start-start-radius":tn,"border-start-end-radius":tn,"border-end-start-radius":tn,"border-end-end-radius":tn,margin:tn,"margin-bottom":tn,"margin-left":tn,"margin-right":tn,"margin-top":tn,"margin-block":tn,"margin-block-end":tn,"margin-block-start":tn,"margin-inline":tn,"margin-inline-end":tn,"margin-inline-start":tn,padding:tn,"padding-bottom":tn,"padding-left":tn,"padding-right":tn,"padding-top":tn,"padding-block":tn,"padding-block-end":tn,"padding-block-start":tn,"padding-inline":tn,"padding-inline-end":tn,"padding-inline-start":tn,"mask-position-x":tn,"mask-position-y":tn,"mask-size":tn,height:tn,width:tn,"min-height":tn,"max-height":tn,"min-width":tn,"max-width":tn,bottom:tn,left:tn,top:tn,right:tn,inset:tn,"inset-block":tn,"inset-block-end":tn,"inset-block-start":tn,"inset-inline":tn,"inset-inline-end":tn,"inset-inline-start":tn,"box-shadow":tn,"text-shadow":tn,"column-gap":tn,"column-rule":tn,"column-rule-width":tn,"column-width":tn,"font-size":tn,"font-size-delta":tn,"letter-spacing":tn,"text-decoration-thickness":tn,"text-indent":tn,"text-stroke":tn,"text-stroke-width":tn,"word-spacing":tn,motion:tn,"motion-offset":tn,outline:tn,"outline-offset":tn,"outline-width":tn,perspective:tn,"perspective-origin-x":rn,"perspective-origin-y":rn,"transform-origin":rn,"transform-origin-x":rn,"transform-origin-y":rn,"transform-origin-z":rn,"transition-delay":nn,"transition-duration":nn,"vertical-align":tn,"flex-basis":tn,"shape-margin":tn,size:tn,gap:tn,grid:tn,"grid-gap":tn,"row-gap":tn,"grid-row-gap":tn,"grid-column-gap":tn,"grid-template-rows":tn,"grid-template-columns":tn,"grid-auto-rows":tn,"grid-auto-columns":tn,"box-shadow-x":tn,"box-shadow-y":tn,"box-shadow-blur":tn,"box-shadow-spread":tn,"font-line-height":tn,"text-shadow-x":tn,"text-shadow-y":tn,"text-shadow-blur":tn});function un(e,t,n){if(null==t)return t;if(Array.isArray(t))for(var r=0;r<t.length;r++)t[r]=un(e,t[r],n);else if("object"===typeof t)if("fallbacks"===e)for(var i in t)t[i]=un(i,t[i],n);else for(var a in t)t[a]=un(e+"-"+a,t[a],n);else if("number"===typeof t&&!1===isNaN(t)){var o=n[e]||on[e];return!o||0===t&&o===tn?t.toString():"function"===typeof o?o(t).toString():""+t+o}return t}var sn=function(e){void 0===e&&(e={});var t=an(e);return{onProcessStyle:function(e,n){if("style"!==n.type)return e;for(var r in e)e[r]=un(r,e[r],t);return e},onChangeValue:function(e,n){return un(n,e,t)}}};function cn(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function ln(e){return function(e){if(Array.isArray(e))return u(e)}(e)||cn(e)||s(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var fn="",hn="",dn="",pn="",vn=ce&&"ontouchstart"in document.documentElement;if(ce){var mn={Moz:"-moz-",ms:"-ms-",O:"-o-",Webkit:"-webkit-"},yn=document.createElement("p").style;for(var gn in mn)if(gn+"Transform"in yn){fn=gn,hn=mn[gn];break}"Webkit"===fn&&"msHyphens"in yn&&(fn="ms",hn=mn.ms,pn="edge"),"Webkit"===fn&&"-apple-trailing-word"in yn&&(dn="apple")}var bn=fn,kn=hn,wn=dn,xn=pn,En=vn;var Sn={noPrefill:["appearance"],supportedProperty:function(e){return"appearance"===e&&("ms"===bn?"-webkit-"+e:kn+e)}},In={noPrefill:["color-adjust"],supportedProperty:function(e){return"color-adjust"===e&&("Webkit"===bn?kn+"print-"+e:e)}},_n=/[-\s]+(.)?/g;function Tn(e,t){return t?t.toUpperCase():""}function Cn(e){return e.replace(_n,Tn)}function Nn(e){return Cn("-"+e)}var An,Rn={noPrefill:["mask"],supportedProperty:function(e,t){if(!/^mask/.test(e))return!1;if("Webkit"===bn){var n="mask-image";if(Cn(n)in t)return e;if(bn+Nn(n)in t)return kn+e}return e}},Pn={noPrefill:["text-orientation"],supportedProperty:function(e){return"text-orientation"===e&&("apple"!==wn||En?e:kn+e)}},Dn={noPrefill:["transform"],supportedProperty:function(e,t,n){return"transform"===e&&(n.transform?e:kn+e)}},On={noPrefill:["transition"],supportedProperty:function(e,t,n){return"transition"===e&&(n.transition?e:kn+e)}},Ln={noPrefill:["writing-mode"],supportedProperty:function(e){return"writing-mode"===e&&("Webkit"===bn||"ms"===bn&&"edge"!==xn?kn+e:e)}},Mn={noPrefill:["user-select"],supportedProperty:function(e){return"user-select"===e&&("Moz"===bn||"ms"===bn||"apple"===wn?kn+e:e)}},Fn={supportedProperty:function(e,t){return!!/^break-/.test(e)&&("Webkit"===bn?"WebkitColumn"+Nn(e)in t&&kn+"column-"+e:"Moz"===bn&&("page"+Nn(e)in t&&"page-"+e))}},Vn={supportedProperty:function(e,t){if(!/^(border|margin|padding)-inline/.test(e))return!1;if("Moz"===bn)return e;var n=e.replace("-inline","");return bn+Nn(n)in t&&kn+n}},Un={supportedProperty:function(e,t){return Cn(e)in t&&e}},jn={supportedProperty:function(e,t){var n=Nn(e);return"-"===e[0]||"-"===e[0]&&"-"===e[1]?e:bn+n in t?kn+e:"Webkit"!==bn&&"Webkit"+n in t&&"-webkit-"+e}},zn={supportedProperty:function(e){return"scroll-snap"===e.substring(0,11)&&("ms"===bn?""+kn+e:e)}},Bn={supportedProperty:function(e){return"overscroll-behavior"===e&&("ms"===bn?kn+"scroll-chaining":e)}},qn={"flex-grow":"flex-positive","flex-shrink":"flex-negative","flex-basis":"flex-preferred-size","justify-content":"flex-pack",order:"flex-order","align-items":"flex-align","align-content":"flex-line-pack"},Wn={supportedProperty:function(e,t){var n=qn[e];return!!n&&(bn+Nn(n)in t&&kn+n)}},Kn={flex:"box-flex","flex-grow":"box-flex","flex-direction":["box-orient","box-direction"],order:"box-ordinal-group","align-items":"box-align","flex-flow":["box-orient","box-direction"],"justify-content":"box-pack"},Gn=Object.keys(Kn),Hn=function(e){return kn+e},Qn={supportedProperty:function(e,t,n){var r=n.multiple;if(Gn.indexOf(e)>-1){var i=Kn[e];if(!Array.isArray(i))return bn+Nn(i)in t&&kn+i;if(!r)return!1;for(var a=0;a<i.length;a++)if(!(bn+Nn(i[0])in t))return!1;return i.map(Hn)}return!1}},$n=[Sn,In,Rn,Pn,Dn,On,Ln,Mn,Fn,Vn,Un,jn,zn,Bn,Wn,Qn],Yn=$n.filter((function(e){return e.supportedProperty})).map((function(e){return e.supportedProperty})),Jn=$n.filter((function(e){return e.noPrefill})).reduce((function(e,t){return e.push.apply(e,ln(t.noPrefill)),e}),[]),Xn={};if(ce){An=document.createElement("p");var Zn=window.getComputedStyle(document.documentElement,"");for(var er in Zn)isNaN(er)||(Xn[Zn[er]]=Zn[er]);Jn.forEach((function(e){return delete Xn[e]}))}function tr(e,t){if(void 0===t&&(t={}),!An)return e;if(null!=Xn[e])return Xn[e];"transition"!==e&&"transform"!==e||(t[e]=e in An.style);for(var n=0;n<Yn.length&&(Xn[e]=Yn[n](e,An.style,t),!Xn[e]);n++);try{An.style[e]=""}catch(r){return!1}return Xn[e]}var nr,rr={},ir={transition:1,"transition-property":1,"-webkit-transition":1,"-webkit-transition-property":1},ar=/(^\s*[\w-]+)|, (\s*[\w-]+)(?![^()]*\))/g;function or(e,t,n){if("var"===t)return"var";if("all"===t)return"all";if("all"===n)return", all";var r=t?tr(t):", "+tr(n);return r||(t||n)}function ur(e,t){var n=t;if(!nr||"content"===e)return t;if("string"!==typeof n||!isNaN(parseInt(n,10)))return n;var r=e+n;if(null!=rr[r])return rr[r];try{nr.style[e]=n}catch(i){return rr[r]=!1,!1}if(ir[e])n=n.replace(ar,or);else if(""===nr.style[e]&&("-ms-flex"===(n=kn+n)&&(nr.style[e]="-ms-flexbox"),nr.style[e]=n,""===nr.style[e]))return rr[r]=!1,!1;return nr.style[e]="",rr[r]=n,rr[r]}ce&&(nr=document.createElement("p"));var sr=function(){function e(t){for(var n in t){var r=t[n];if("fallbacks"===n&&Array.isArray(r))t[n]=r.map(e);else{var i=!1,a=tr(n);a&&a!==n&&(i=!0);var o=!1,u=ur(a,be(r));u&&u!==r&&(o=!0),(i||o)&&(i&&delete t[n],t[a||n]=u||r)}}return t}return{onProcessRule:function(e){if("keyframes"===e.type){var t=e;t.at=function(e){return"-"===e[1]||"ms"===bn?e:"@"+kn+"keyframes"+e.substr(10)}(t.at)}},onProcessStyle:function(t,n){return"style"!==n.type?t:e(t)},onChangeValue:function(e,t){return ur(t,be(e))||e}}};var cr=function(){var e=function(e,t){return e.length===t.length?e>t?1:-1:e.length-t.length};return{onProcessStyle:function(t,n){if("style"!==n.type)return t;for(var r={},i=Object.keys(t).sort(e),a=0;a<i.length;a++)r[i[a]]=t[i[a]];return r}}};var lr=Et({plugins:[Mt(),qt(),Ht(),en(),sn(),"undefined"===typeof window?null:sr(),cr()]}),fr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.disableGlobal,n=void 0!==t&&t,r=e.productionPrefix,i=void 0===r?"jss":r,a=e.seed,o=void 0===a?"":a,u=""===o?"":"".concat(o,"-"),s=0,c=function(){return s+=1};return function(e,t){var r=t.options.name;if(r&&0===r.indexOf("Mui")&&!t.options.link&&!n){if(-1!==Pt.indexOf(e.key))return"Mui-".concat(e.key);var a="".concat(u).concat(r,"-").concat(e.key);return t.options.theme[Rt]&&""===o?"".concat(a,"-").concat(c()):a}return"".concat(u).concat(i).concat(c())}}(),hr={disableGeneration:!1,generateClassName:fr,jss:lr,sheetsCache:null,sheetsManager:new Map,sheetsRegistry:null},dr=i.createContext(hr);var pr=-1e9;function vr(){return pr+=1}function mr(e){return mr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mr(e)}function yr(e){return e&&"object"===mr(e)&&e.constructor===Object}function gr(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0},r=n.clone?f({},e):e;return yr(e)&&yr(t)&&Object.keys(t).forEach((function(i){"__proto__"!==i&&(yr(t[i])&&i in e?r[i]=gr(e[i],t[i],n):r[i]=t[i])})),r}function br(e){var t="function"===typeof e;return{create:function(n,r){var i;try{i=t?e(n):e}catch(u){throw u}if(!r||!n.overrides||!n.overrides[r])return i;var a=n.overrides[r],o=f({},i);return Object.keys(a).forEach((function(e){o[e]=gr(o[e],a[e])})),o},options:{}}}var kr={};function wr(e,t,n){var r=e.state;if(e.stylesOptions.disableGeneration)return t||{};r.cacheClasses||(r.cacheClasses={value:null,lastProp:null,lastJSS:{}});var i=!1;return r.classes!==r.cacheClasses.lastJSS&&(r.cacheClasses.lastJSS=r.classes,i=!0),t!==r.cacheClasses.lastProp&&(r.cacheClasses.lastProp=t,i=!0),i&&(r.cacheClasses.value=_t({baseClasses:r.cacheClasses.lastJSS,newClasses:t,Component:n})),r.cacheClasses.value}function xr(e,t){var n=e.state,r=e.theme,i=e.stylesOptions,a=e.stylesCreator,o=e.name;if(!i.disableGeneration){var u=Ct.get(i.sheetsManager,a,r);u||(u={refs:0,staticSheet:null,dynamicStyles:null},Ct.set(i.sheetsManager,a,r,u));var s=f({},a.options,i,{theme:r,flip:"boolean"===typeof i.flip?i.flip:"rtl"===r.direction});s.generateId=s.serverGenerateClassName||s.generateClassName;var c=i.sheetsRegistry;if(0===u.refs){var l;i.sheetsCache&&(l=Ct.get(i.sheetsCache,a,r));var h=a.create(r,o);l||((l=i.jss.createStyleSheet(h,f({link:!1},s))).attach(),i.sheetsCache&&Ct.set(i.sheetsCache,a,r,l)),c&&c.add(l),u.staticSheet=l,u.dynamicStyles=It(h)}if(u.dynamicStyles){var d=i.jss.createStyleSheet(u.dynamicStyles,f({link:!0},s));d.update(t),d.attach(),n.dynamicSheet=d,n.classes=_t({baseClasses:u.staticSheet.classes,newClasses:d.classes}),c&&c.add(d)}else n.classes=u.staticSheet.classes;u.refs+=1}}function Er(e,t){var n=e.state;n.dynamicSheet&&n.dynamicSheet.update(t)}function Sr(e){var t=e.state,n=e.theme,r=e.stylesOptions,i=e.stylesCreator;if(!r.disableGeneration){var a=Ct.get(r.sheetsManager,i,n);a.refs-=1;var o=r.sheetsRegistry;0===a.refs&&(Ct.delete(r.sheetsManager,i,n),r.jss.removeStyleSheet(a.staticSheet),o&&o.remove(a.staticSheet)),t.dynamicSheet&&(r.jss.removeStyleSheet(t.dynamicSheet),o&&o.remove(t.dynamicSheet))}}function Ir(e,t){var n,r=i.useRef([]),a=i.useMemo((function(){return{}}),t);r.current!==a&&(r.current=a,n=e()),i.useEffect((function(){return function(){n&&n()}}),[a])}function _r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.name,r=t.classNamePrefix,a=t.Component,o=t.defaultTheme,u=void 0===o?kr:o,s=re(t,["name","classNamePrefix","Component","defaultTheme"]),c=br(e),l=n||r||"makeStyles";c.options={index:vr(),name:n,meta:l,classNamePrefix:l};var h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=At()||u,r=f({},i.useContext(dr),s),o=i.useRef(),l=i.useRef();Ir((function(){var i={name:n,state:{},stylesCreator:c,stylesOptions:r,theme:t};return xr(i,e),l.current=!1,o.current=i,function(){Sr(i)}}),[t,c]),i.useEffect((function(){l.current&&Er(o.current,e),l.current=!0}));var h=wr(o.current,e.classes,a);return h};return h}function Tr(e){var t=e.theme,n=e.name,r=e.props;if(!t||!t.props||!t.props[n])return r;var i,a=t.props[n];for(i in a)void 0===r[i]&&(r[i]=a[i]);return r}var Cr=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(n){var r=t.defaultTheme,a=t.withTheme,o=void 0!==a&&a,u=t.name,s=re(t,["defaultTheme","withTheme","name"]);var c=u,l=_r(e,f({defaultTheme:r,Component:n,name:u||n.displayName,classNamePrefix:c},s)),h=i.forwardRef((function(e,t){e.classes;var a,s=e.innerRef,c=re(e,["classes","innerRef"]),h=l(f({},n.defaultProps,e)),d=c;return("string"===typeof u||o)&&(a=At()||r,u&&(d=Tr({theme:a,name:u,props:c})),o&&!d.theme&&(d.theme=a)),i.createElement(n,f({ref:s||t,classes:h},d))}));return ue()(h,n),h}},Nr=["xs","sm","md","lg","xl"];function Ar(e){var t=e.values,n=void 0===t?{xs:0,sm:600,md:960,lg:1280,xl:1920}:t,r=e.unit,i=void 0===r?"px":r,a=e.step,o=void 0===a?5:a,u=re(e,["values","unit","step"]);function s(e){var t="number"===typeof n[e]?n[e]:e;return"@media (min-width:".concat(t).concat(i,")")}function c(e,t){var r=Nr.indexOf(t);return r===Nr.length-1?s(e):"@media (min-width:".concat("number"===typeof n[e]?n[e]:e).concat(i,") and ")+"(max-width:".concat((-1!==r&&"number"===typeof n[Nr[r+1]]?n[Nr[r+1]]:t)-o/100).concat(i,")")}return f({keys:Nr,values:n,up:s,down:function(e){var t=Nr.indexOf(e)+1,r=n[Nr[t]];return t===Nr.length?s("xs"):"@media (max-width:".concat(("number"===typeof r&&t>0?r:e)-o/100).concat(i,")")},between:c,only:function(e){return c(e,e)},width:function(e){return n[e]}},u)}function Rr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pr(e,t,n){var r;return f({gutters:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return console.warn(["Material-UI: theme.mixins.gutters() is deprecated.","You can use the source of the mixin directly:","\n      paddingLeft: theme.spacing(2),\n      paddingRight: theme.spacing(2),\n      [theme.breakpoints.up('sm')]: {\n        paddingLeft: theme.spacing(3),\n        paddingRight: theme.spacing(3),\n      },\n      "].join("\n")),f({paddingLeft:t(2),paddingRight:t(2)},n,Rr({},e.up("sm"),f({paddingLeft:t(3),paddingRight:t(3)},n[e.up("sm")])))},toolbar:(r={minHeight:56},Rr(r,"".concat(e.up("xs")," and (orientation: landscape)"),{minHeight:48}),Rr(r,e.up("sm"),{minHeight:64}),r)},n)}function Dr(e){for(var t="https://mui.com/production-error/?code="+e,n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified Material-UI error #"+e+"; visit "+t+" for the full message."}var Or={black:"#000",white:"#fff"},Lr={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#d5d5d5",A200:"#aaaaaa",A400:"#303030",A700:"#616161"},Mr={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",A100:"#8c9eff",A200:"#536dfe",A400:"#3d5afe",A700:"#304ffe"},Fr={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",A100:"#ff80ab",A200:"#ff4081",A400:"#f50057",A700:"#c51162"},Vr={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},Ur={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},jr={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},zr={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"};function Br(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(t,e),n)}function qr(e){if(e.type)return e;if("#"===e.charAt(0))return qr(function(e){e=e.substr(1);var t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g"),n=e.match(t);return n&&1===n[0].length&&(n=n.map((function(e){return e+e}))),n?"rgb".concat(4===n.length?"a":"","(").concat(n.map((function(e,t){return t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3})).join(", "),")"):""}(e));var t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla"].indexOf(n))throw new Error(Dr(3,e));var r=e.substring(t+1,e.length-1).split(",");return{type:n,values:r=r.map((function(e){return parseFloat(e)}))}}function Wr(e){var t=e.type,n=e.values;return-1!==t.indexOf("rgb")?n=n.map((function(e,t){return t<3?parseInt(e,10):e})):-1!==t.indexOf("hsl")&&(n[1]="".concat(n[1],"%"),n[2]="".concat(n[2],"%")),"".concat(t,"(").concat(n.join(", "),")")}function Kr(e){var t="hsl"===(e=qr(e)).type?qr(function(e){var t=(e=qr(e)).values,n=t[0],r=t[1]/100,i=t[2]/100,a=r*Math.min(i,1-i),o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return i-a*Math.max(Math.min(t-3,9-t,1),-1)},u="rgb",s=[Math.round(255*o(0)),Math.round(255*o(8)),Math.round(255*o(4))];return"hsla"===e.type&&(u+="a",s.push(t[3])),Wr({type:u,values:s})}(e)).values:e.values;return t=t.map((function(e){return(e/=255)<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4)})),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function Gr(e,t){return e=qr(e),t=Br(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),e.values[3]=t,Wr(e)}function Hr(e,t){if(e=qr(e),t=Br(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]*=1-t;return Wr(e)}function Qr(e,t){if(e=qr(e),t=Br(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;return Wr(e)}var $r={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.38)",hint:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Or.white,default:Lr[50]},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},Yr={text:{primary:Or.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",hint:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:Lr[800],default:"#303030"},action:{active:Or.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function Jr(e,t,n,r){var i=r.light||r,a=r.dark||1.5*r;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=Qr(e.main,i):"dark"===t&&(e.dark=Hr(e.main,a)))}function Xr(e){var t=e.primary,n=void 0===t?{light:Mr[300],main:Mr[500],dark:Mr[700]}:t,r=e.secondary,i=void 0===r?{light:Fr.A200,main:Fr.A400,dark:Fr.A700}:r,a=e.error,o=void 0===a?{light:Vr[300],main:Vr[500],dark:Vr[700]}:a,u=e.warning,s=void 0===u?{light:Ur[300],main:Ur[500],dark:Ur[700]}:u,c=e.info,l=void 0===c?{light:jr[300],main:jr[500],dark:jr[700]}:c,h=e.success,d=void 0===h?{light:zr[300],main:zr[500],dark:zr[700]}:h,p=e.type,v=void 0===p?"light":p,m=e.contrastThreshold,y=void 0===m?3:m,g=e.tonalOffset,b=void 0===g?.2:g,k=re(e,["primary","secondary","error","warning","info","success","type","contrastThreshold","tonalOffset"]);function w(e){var t=function(e,t){var n=Kr(e),r=Kr(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}(e,Yr.text.primary)>=y?Yr.text.primary:$r.text.primary;return t}var x=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:700;if(!(e=f({},e)).main&&e[t]&&(e.main=e[t]),!e.main)throw new Error(Dr(4,t));if("string"!==typeof e.main)throw new Error(Dr(5,JSON.stringify(e.main)));return Jr(e,"light",n,b),Jr(e,"dark",r,b),e.contrastText||(e.contrastText=w(e.main)),e},E={dark:Yr,light:$r};return gr(f({common:Or,type:v,primary:x(n),secondary:x(i,"A400","A200","A700"),error:x(o),warning:x(s),info:x(l),success:x(d),grey:Lr,contrastThreshold:y,getContrastText:w,augmentColor:x,tonalOffset:b},E[v]),k)}function Zr(e){return Math.round(1e5*e)/1e5}function ei(e){return Zr(e)}var ti={textTransform:"uppercase"},ni='"Roboto", "Helvetica", "Arial", sans-serif';function ri(e,t){var n="function"===typeof t?t(e):t,r=n.fontFamily,i=void 0===r?ni:r,a=n.fontSize,o=void 0===a?14:a,u=n.fontWeightLight,s=void 0===u?300:u,c=n.fontWeightRegular,l=void 0===c?400:c,h=n.fontWeightMedium,d=void 0===h?500:h,p=n.fontWeightBold,v=void 0===p?700:p,m=n.htmlFontSize,y=void 0===m?16:m,g=n.allVariants,b=n.pxToRem,k=re(n,["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"]);var w=o/14,x=b||function(e){return"".concat(e/y*w,"rem")},E=function(e,t,n,r,a){return f({fontFamily:i,fontWeight:e,fontSize:x(t),lineHeight:n},i===ni?{letterSpacing:"".concat(Zr(r/t),"em")}:{},a,g)},S={h1:E(s,96,1.167,-1.5),h2:E(s,60,1.2,-.5),h3:E(l,48,1.167,0),h4:E(l,34,1.235,.25),h5:E(l,24,1.334,0),h6:E(d,20,1.6,.15),subtitle1:E(l,16,1.75,.15),subtitle2:E(d,14,1.57,.1),body1:E(l,16,1.5,.15),body2:E(l,14,1.43,.15),button:E(d,14,1.75,.4,ti),caption:E(l,12,1.66,.4),overline:E(l,12,2.66,1,ti)};return gr(f({htmlFontSize:y,pxToRem:x,round:ei,fontFamily:i,fontSize:o,fontWeightLight:s,fontWeightRegular:l,fontWeightMedium:d,fontWeightBold:v},S),k,{clone:!1})}function ii(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(.2,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(.14,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(.12,")")].join(",")}var ai=["none",ii(0,2,1,-1,0,1,1,0,0,1,3,0),ii(0,3,1,-2,0,2,2,0,0,1,5,0),ii(0,3,3,-2,0,3,4,0,0,1,8,0),ii(0,2,4,-1,0,4,5,0,0,1,10,0),ii(0,3,5,-1,0,5,8,0,0,1,14,0),ii(0,3,5,-1,0,6,10,0,0,1,18,0),ii(0,4,5,-2,0,7,10,1,0,2,16,1),ii(0,5,5,-3,0,8,10,1,0,3,14,2),ii(0,5,6,-3,0,9,12,1,0,3,16,2),ii(0,6,6,-3,0,10,14,1,0,4,18,3),ii(0,6,7,-4,0,11,15,1,0,4,20,3),ii(0,7,8,-4,0,12,17,2,0,5,22,4),ii(0,7,8,-4,0,13,19,2,0,5,24,4),ii(0,7,9,-4,0,14,21,2,0,5,26,4),ii(0,8,9,-5,0,15,22,2,0,6,28,5),ii(0,8,10,-5,0,16,24,2,0,6,30,5),ii(0,8,11,-5,0,17,26,2,0,6,32,5),ii(0,9,11,-5,0,18,28,2,0,7,34,6),ii(0,9,12,-6,0,19,29,2,0,7,36,6),ii(0,10,13,-6,0,20,31,3,0,8,38,7),ii(0,10,13,-6,0,21,33,3,0,8,40,7),ii(0,10,14,-6,0,22,35,3,0,8,42,7),ii(0,11,14,-7,0,23,36,3,0,9,44,8),ii(0,11,15,-7,0,24,38,3,0,9,46,8)],oi={borderRadius:4},ui={xs:0,sm:600,md:960,lg:1280,xl:1920},si={keys:["xs","sm","md","lg","xl"],up:function(e){return"@media (min-width:".concat(ui[e],"px)")}};function ci(e,t,n){if(Array.isArray(t)){var r=e.theme.breakpoints||si;return t.reduce((function(e,i,a){return e[r.up(r.keys[a])]=n(t[a]),e}),{})}if("object"===mr(t)){var i=e.theme.breakpoints||si;return Object.keys(t).reduce((function(e,r){return e[i.up(r)]=n(t[r]),e}),{})}return n(t)}var li=function(e,t){return t?gr(e,t,{clone:!1}):e};var fi={m:"margin",p:"padding"},hi={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},di={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},pi=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}((function(e){if(e.length>2){if(!di[e])return[e];e=di[e]}var t=l(e.split(""),2),n=t[0],r=t[1],i=fi[n],a=hi[r]||"";return Array.isArray(a)?a.map((function(e){return i+e})):[i+a]})),vi=["m","mt","mr","mb","ml","mx","my","p","pt","pr","pb","pl","px","py","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY"];function mi(e){var t=e.spacing||8;return"number"===typeof t?function(e){return t*e}:Array.isArray(t)?function(e){return t[e]}:"function"===typeof t?t:function(){}}function yi(e,t){return function(n){return e.reduce((function(e,r){return e[r]=function(e,t){if("string"===typeof t||null==t)return t;var n=e(Math.abs(t));return t>=0?n:"number"===typeof n?-n:"-".concat(n)}(t,n),e}),{})}}function gi(e){var t=mi(e.theme);return Object.keys(e).map((function(n){if(-1===vi.indexOf(n))return null;var r=yi(pi(n),t),i=e[n];return ci(e,i,r)})).reduce(li,{})}gi.propTypes={},gi.filterProps=vi;var bi=gi;function ki(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(e.mui)return e;var t=mi({spacing:e}),n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return 0===n.length?t(1):1===n.length?t(n[0]):n.map((function(e){if("string"===typeof e)return e;var n=t(e);return"number"===typeof n?"".concat(n,"px"):n})).join(" ")};return Object.defineProperty(n,"unit",{get:function(){return e}}),n.mui=!0,n}var wi={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},xi={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function Ei(e){return"".concat(Math.round(e),"ms")}var Si={easing:wi,duration:xi,create:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.duration,r=void 0===n?xi.standard:n,i=t.easing,a=void 0===i?wi.easeInOut:i,o=t.delay,u=void 0===o?0:o;re(t,["duration","easing","delay"]);return(Array.isArray(e)?e:[e]).map((function(e){return"".concat(e," ").concat("string"===typeof r?r:Ei(r)," ").concat(a," ").concat("string"===typeof u?u:Ei(u))})).join(",")},getAutoHeightDuration:function(e){if(!e)return 0;var t=e/36;return Math.round(10*(4+15*Math.pow(t,.25)+t/5))}},Ii={mobileStepper:1e3,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function _i(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.breakpoints,n=void 0===t?{}:t,r=e.mixins,i=void 0===r?{}:r,a=e.palette,o=void 0===a?{}:a,u=e.spacing,s=e.typography,c=void 0===s?{}:s,l=re(e,["breakpoints","mixins","palette","spacing","typography"]),f=Xr(o),h=Ar(n),d=ki(u),p=gr({breakpoints:h,direction:"ltr",mixins:Pr(h,d,i),overrides:{},palette:f,props:{},shadows:ai,typography:ri(f,c),spacing:d,shape:oi,transitions:Si,zIndex:Ii},l),v=arguments.length,m=new Array(v>1?v-1:0),y=1;y<v;y++)m[y-1]=arguments[y];return p=m.reduce((function(e,t){return gr(e,t)}),p)}var Ti=_i();var Ci=function(e,t){return Cr(e,f({defaultTheme:Ti},t))};function Ni(e){if("string"!==typeof e)throw new Error(Dr(7));return e.charAt(0).toUpperCase()+e.slice(1)}var Ai=i.forwardRef((function(e,t){var n=e.classes,r=e.className,a=e.component,o=void 0===a?"div":a,u=e.square,s=void 0!==u&&u,c=e.elevation,l=void 0===c?1:c,h=e.variant,d=void 0===h?"elevation":h,p=re(e,["classes","className","component","square","elevation","variant"]);return i.createElement(o,f({className:ae(n.root,r,"outlined"===d?n.outlined:n["elevation".concat(l)],!s&&n.rounded),ref:t},p))})),Ri=Ci((function(e){var t={};return e.shadows.forEach((function(e,n){t["elevation".concat(n)]={boxShadow:e}})),f({root:{backgroundColor:e.palette.background.paper,color:e.palette.text.primary,transition:e.transitions.create("box-shadow")},rounded:{borderRadius:e.shape.borderRadius},outlined:{border:"1px solid ".concat(e.palette.divider)}},t)}),{name:"MuiPaper"})(Ai),Pi=i.forwardRef((function(e,t){var n=e.classes,r=e.className,a=e.color,o=void 0===a?"primary":a,u=e.position,s=void 0===u?"fixed":u,c=re(e,["classes","className","color","position"]);return i.createElement(Ri,f({square:!0,component:"header",elevation:4,className:ae(n.root,n["position".concat(Ni(s))],n["color".concat(Ni(o))],r,"fixed"===s&&"mui-fixed"),ref:t},c))})),Di=Ci((function(e){var t="light"===e.palette.type?e.palette.grey[100]:e.palette.grey[900];return{root:{display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",zIndex:e.zIndex.appBar,flexShrink:0},positionFixed:{position:"fixed",top:0,left:"auto",right:0,"@media print":{position:"absolute"}},positionAbsolute:{position:"absolute",top:0,left:"auto",right:0},positionSticky:{position:"sticky",top:0,left:"auto",right:0},positionStatic:{position:"static"},positionRelative:{position:"relative"},colorDefault:{backgroundColor:t,color:e.palette.getContrastText(t)},colorPrimary:{backgroundColor:e.palette.primary.main,color:e.palette.primary.contrastText},colorSecondary:{backgroundColor:e.palette.secondary.main,color:e.palette.secondary.contrastText},colorInherit:{color:"inherit"},colorTransparent:{backgroundColor:"transparent",color:"inherit"}}}),{name:"MuiAppBar"})(Pi),Oi=i.forwardRef((function(e,t){var n=e.classes,r=e.className,a=e.component,o=void 0===a?"div":a,u=e.disableGutters,s=void 0!==u&&u,c=e.variant,l=void 0===c?"regular":c,h=re(e,["classes","className","component","disableGutters","variant"]);return i.createElement(o,f({className:ae(n.root,n[l],r,!s&&n.gutters),ref:t},h))})),Li=Ci((function(e){return{root:{position:"relative",display:"flex",alignItems:"center"},gutters:Rr({paddingLeft:e.spacing(2),paddingRight:e.spacing(2)},e.breakpoints.up("sm"),{paddingLeft:e.spacing(3),paddingRight:e.spacing(3)}),regular:e.mixins.toolbar,dense:{minHeight:48}}}),{name:"MuiToolbar"})(Oi),Mi=[0,1,2,3,4,5,6,7,8,9,10],Fi=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12];function Vi(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=parseFloat(e);return"".concat(n/t).concat(String(e).replace(String(n),"")||"px")}var Ui=i.forwardRef((function(e,t){var n=e.alignContent,r=void 0===n?"stretch":n,a=e.alignItems,o=void 0===a?"stretch":a,u=e.classes,s=e.className,c=e.component,l=void 0===c?"div":c,h=e.container,d=void 0!==h&&h,p=e.direction,v=void 0===p?"row":p,m=e.item,y=void 0!==m&&m,g=e.justify,b=e.justifyContent,k=void 0===b?"flex-start":b,w=e.lg,x=void 0!==w&&w,E=e.md,S=void 0!==E&&E,I=e.sm,_=void 0!==I&&I,T=e.spacing,C=void 0===T?0:T,N=e.wrap,A=void 0===N?"wrap":N,R=e.xl,P=void 0!==R&&R,D=e.xs,O=void 0!==D&&D,L=e.zeroMinWidth,M=void 0!==L&&L,F=re(e,["alignContent","alignItems","classes","className","component","container","direction","item","justify","justifyContent","lg","md","sm","spacing","wrap","xl","xs","zeroMinWidth"]),V=ae(u.root,s,d&&[u.container,0!==C&&u["spacing-xs-".concat(String(C))]],y&&u.item,M&&u.zeroMinWidth,"row"!==v&&u["direction-xs-".concat(String(v))],"wrap"!==A&&u["wrap-xs-".concat(String(A))],"stretch"!==o&&u["align-items-xs-".concat(String(o))],"stretch"!==r&&u["align-content-xs-".concat(String(r))],"flex-start"!==(g||k)&&u["justify-content-xs-".concat(String(g||k))],!1!==O&&u["grid-xs-".concat(String(O))],!1!==_&&u["grid-sm-".concat(String(_))],!1!==S&&u["grid-md-".concat(String(S))],!1!==x&&u["grid-lg-".concat(String(x))],!1!==P&&u["grid-xl-".concat(String(P))]);return i.createElement(l,f({className:V,ref:t},F))})),ji=Ci((function(e){return f({root:{},container:{boxSizing:"border-box",display:"flex",flexWrap:"wrap",width:"100%"},item:{boxSizing:"border-box",margin:"0"},zeroMinWidth:{minWidth:0},"direction-xs-column":{flexDirection:"column"},"direction-xs-column-reverse":{flexDirection:"column-reverse"},"direction-xs-row-reverse":{flexDirection:"row-reverse"},"wrap-xs-nowrap":{flexWrap:"nowrap"},"wrap-xs-wrap-reverse":{flexWrap:"wrap-reverse"},"align-items-xs-center":{alignItems:"center"},"align-items-xs-flex-start":{alignItems:"flex-start"},"align-items-xs-flex-end":{alignItems:"flex-end"},"align-items-xs-baseline":{alignItems:"baseline"},"align-content-xs-center":{alignContent:"center"},"align-content-xs-flex-start":{alignContent:"flex-start"},"align-content-xs-flex-end":{alignContent:"flex-end"},"align-content-xs-space-between":{alignContent:"space-between"},"align-content-xs-space-around":{alignContent:"space-around"},"justify-content-xs-center":{justifyContent:"center"},"justify-content-xs-flex-end":{justifyContent:"flex-end"},"justify-content-xs-space-between":{justifyContent:"space-between"},"justify-content-xs-space-around":{justifyContent:"space-around"},"justify-content-xs-space-evenly":{justifyContent:"space-evenly"}},function(e,t){var n={};return Mi.forEach((function(r){var i=e.spacing(r);0!==i&&(n["spacing-".concat(t,"-").concat(r)]={margin:"-".concat(Vi(i,2)),width:"calc(100% + ".concat(Vi(i),")"),"& > $item":{padding:Vi(i,2)}})})),n}(e,"xs"),e.breakpoints.keys.reduce((function(t,n){return function(e,t,n){var r={};Fi.forEach((function(e){var t="grid-".concat(n,"-").concat(e);if(!0!==e)if("auto"!==e){var i="".concat(Math.round(e/12*1e8)/1e6,"%");r[t]={flexBasis:i,flexGrow:0,maxWidth:i}}else r[t]={flexBasis:"auto",flexGrow:0,maxWidth:"none"};else r[t]={flexBasis:0,flexGrow:1,maxWidth:"100%"}})),"xs"===n?f(e,r):e[t.breakpoints.up(n)]=r}(t,e,n),t}),{}))}),{name:"MuiGrid"})(Ui),zi=ji,Bi=n(164);function qi(e,t){"function"===typeof e?e(t):e&&(e.current=t)}function Wi(e,t){return i.useMemo((function(){return null==e&&null==t?null:function(n){qi(e,n),qi(t,n)}}),[e,t])}var Ki="undefined"!==typeof window?i.useLayoutEffect:i.useEffect;function Gi(e){var t=i.useRef(e);return Ki((function(){t.current=e})),i.useCallback((function(){return t.current.apply(void 0,arguments)}),[])}var Hi=!0,Qi=!1,$i=null,Yi={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function Ji(e){e.metaKey||e.altKey||e.ctrlKey||(Hi=!0)}function Xi(){Hi=!1}function Zi(){"hidden"===this.visibilityState&&Qi&&(Hi=!0)}function ea(e){var t=e.target;try{return t.matches(":focus-visible")}catch(n){}return Hi||function(e){var t=e.type,n=e.tagName;return!("INPUT"!==n||!Yi[t]||e.readOnly)||"TEXTAREA"===n&&!e.readOnly||!!e.isContentEditable}(t)}function ta(){Qi=!0,window.clearTimeout($i),$i=window.setTimeout((function(){Qi=!1}),100)}function na(){return{isFocusVisible:ea,onBlurVisible:ta,ref:i.useCallback((function(e){var t,n=Bi.findDOMNode(e);null!=n&&((t=n.ownerDocument).addEventListener("keydown",Ji,!0),t.addEventListener("mousedown",Xi,!0),t.addEventListener("pointerdown",Xi,!0),t.addEventListener("touchstart",Xi,!0),t.addEventListener("visibilitychange",Zi,!0))}),[])}}var ra=i.createContext(null);function ia(e,t){var n=Object.create(null);return e&&i.Children.map(e,(function(e){return e})).forEach((function(e){n[e.key]=function(e){return t&&(0,i.isValidElement)(e)?t(e):e}(e)})),n}function aa(e,t,n){return null!=n[t]?n[t]:e.props[t]}function oa(e,t,n){var r=ia(e.children),a=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,i=Object.create(null),a=[];for(var o in e)o in t?a.length&&(i[o]=a,a=[]):a.push(o);var u={};for(var s in t){if(i[s])for(r=0;r<i[s].length;r++){var c=i[s][r];u[i[s][r]]=n(c)}u[s]=n(s)}for(r=0;r<a.length;r++)u[a[r]]=n(a[r]);return u}(t,r);return Object.keys(a).forEach((function(o){var u=a[o];if((0,i.isValidElement)(u)){var s=o in t,c=o in r,l=t[o],f=(0,i.isValidElement)(l)&&!l.props.in;!c||s&&!f?c||!s||f?c&&s&&(0,i.isValidElement)(l)&&(a[o]=(0,i.cloneElement)(u,{onExited:n.bind(null,u),in:l.props.in,exit:aa(u,"exit",e),enter:aa(u,"enter",e)})):a[o]=(0,i.cloneElement)(u,{in:!1}):a[o]=(0,i.cloneElement)(u,{onExited:n.bind(null,u),in:!0,exit:aa(u,"exit",e),enter:aa(u,"enter",e)})}})),a}var ua=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},sa=function(e){function t(t,n){var r,i=(r=e.call(this,t,n)||this).handleExited.bind(pe(r));return r.state={contextValue:{isMounting:!0},handleExited:i,firstRender:!0},r}de(t,e);var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(e,t){var n,r,a=t.children,o=t.handleExited;return{children:t.firstRender?(n=e,r=o,ia(n.children,(function(e){return(0,i.cloneElement)(e,{onExited:r.bind(null,e),in:!0,appear:aa(e,"appear",n),enter:aa(e,"enter",n),exit:aa(e,"exit",n)})}))):oa(e,a,o),firstRender:!1}},n.handleExited=function(e,t){var n=ia(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=f({},t.children);return delete n[e.key],{children:n}})))},n.render=function(){var e=this.props,t=e.component,n=e.childFactory,r=ne(e,["component","childFactory"]),a=this.state.contextValue,o=ua(this.state.children).map(n);return delete r.appear,delete r.enter,delete r.exit,null===t?i.createElement(ra.Provider,{value:a},o):i.createElement(ra.Provider,{value:a},i.createElement(t,r,o))},t}(i.Component);sa.propTypes={},sa.defaultProps={component:"div",childFactory:function(e){return e}};var ca=sa,la="undefined"===typeof window?i.useEffect:i.useLayoutEffect;var fa=function(e){var t=e.classes,n=e.pulsate,r=void 0!==n&&n,a=e.rippleX,o=e.rippleY,u=e.rippleSize,s=e.in,c=e.onExited,l=void 0===c?function(){}:c,f=e.timeout,h=i.useState(!1),d=h[0],p=h[1],v=ae(t.ripple,t.rippleVisible,r&&t.ripplePulsate),m={width:u,height:u,top:-u/2+o,left:-u/2+a},y=ae(t.child,d&&t.childLeaving,r&&t.childPulsate),g=Gi(l);return la((function(){if(!s){p(!0);var e=setTimeout(g,f);return function(){clearTimeout(e)}}}),[g,s,f]),i.createElement("span",{className:v,style:m},i.createElement("span",{className:y}))},ha=i.forwardRef((function(e,t){var n=e.center,r=void 0!==n&&n,a=e.classes,o=e.className,u=re(e,["center","classes","className"]),s=i.useState([]),c=s[0],l=s[1],h=i.useRef(0),d=i.useRef(null);i.useEffect((function(){d.current&&(d.current(),d.current=null)}),[c]);var p=i.useRef(!1),v=i.useRef(null),m=i.useRef(null),y=i.useRef(null);i.useEffect((function(){return function(){clearTimeout(v.current)}}),[]);var g=i.useCallback((function(e){var t=e.pulsate,n=e.rippleX,r=e.rippleY,o=e.rippleSize,u=e.cb;l((function(e){return[].concat(ln(e),[i.createElement(fa,{key:h.current,classes:a,timeout:550,pulsate:t,rippleX:n,rippleY:r,rippleSize:o})])})),h.current+=1,d.current=u}),[a]),b=i.useCallback((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,i=t.pulsate,a=void 0!==i&&i,o=t.center,u=void 0===o?r||t.pulsate:o,s=t.fakeElement,c=void 0!==s&&s;if("mousedown"===e.type&&p.current)p.current=!1;else{"touchstart"===e.type&&(p.current=!0);var l,f,h,d=c?null:y.current,b=d?d.getBoundingClientRect():{width:0,height:0,left:0,top:0};if(u||0===e.clientX&&0===e.clientY||!e.clientX&&!e.touches)l=Math.round(b.width/2),f=Math.round(b.height/2);else{var k=e.touches?e.touches[0]:e,w=k.clientX,x=k.clientY;l=Math.round(w-b.left),f=Math.round(x-b.top)}if(u)(h=Math.sqrt((2*Math.pow(b.width,2)+Math.pow(b.height,2))/3))%2===0&&(h+=1);else{var E=2*Math.max(Math.abs((d?d.clientWidth:0)-l),l)+2,S=2*Math.max(Math.abs((d?d.clientHeight:0)-f),f)+2;h=Math.sqrt(Math.pow(E,2)+Math.pow(S,2))}e.touches?null===m.current&&(m.current=function(){g({pulsate:a,rippleX:l,rippleY:f,rippleSize:h,cb:n})},v.current=setTimeout((function(){m.current&&(m.current(),m.current=null)}),80)):g({pulsate:a,rippleX:l,rippleY:f,rippleSize:h,cb:n})}}),[r,g]),k=i.useCallback((function(){b({},{pulsate:!0})}),[b]),w=i.useCallback((function(e,t){if(clearTimeout(v.current),"touchend"===e.type&&m.current)return e.persist(),m.current(),m.current=null,void(v.current=setTimeout((function(){w(e,t)})));m.current=null,l((function(e){return e.length>0?e.slice(1):e})),d.current=t}),[]);return i.useImperativeHandle(t,(function(){return{pulsate:k,start:b,stop:w}}),[k,b,w]),i.createElement("span",f({className:ae(a.root,o),ref:y},u),i.createElement(ca,{component:null,exit:!0},c))})),da=Ci((function(e){return{root:{overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"},ripple:{opacity:0,position:"absolute"},rippleVisible:{opacity:.3,transform:"scale(1)",animation:"$enter ".concat(550,"ms ").concat(e.transitions.easing.easeInOut)},ripplePulsate:{animationDuration:"".concat(e.transitions.duration.shorter,"ms")},child:{opacity:1,display:"block",width:"100%",height:"100%",borderRadius:"50%",backgroundColor:"currentColor"},childLeaving:{opacity:0,animation:"$exit ".concat(550,"ms ").concat(e.transitions.easing.easeInOut)},childPulsate:{position:"absolute",left:0,top:0,animation:"$pulsate 2500ms ".concat(e.transitions.easing.easeInOut," 200ms infinite")},"@keyframes enter":{"0%":{transform:"scale(0)",opacity:.1},"100%":{transform:"scale(1)",opacity:.3}},"@keyframes exit":{"0%":{opacity:1},"100%":{opacity:0}},"@keyframes pulsate":{"0%":{transform:"scale(1)"},"50%":{transform:"scale(0.92)"},"100%":{transform:"scale(1)"}}}}),{flip:!1,name:"MuiTouchRipple"})(i.memo(ha)),pa=i.forwardRef((function(e,t){var n=e.action,r=e.buttonRef,a=e.centerRipple,o=void 0!==a&&a,u=e.children,s=e.classes,c=e.className,l=e.component,h=void 0===l?"button":l,d=e.disabled,p=void 0!==d&&d,v=e.disableRipple,m=void 0!==v&&v,y=e.disableTouchRipple,g=void 0!==y&&y,b=e.focusRipple,k=void 0!==b&&b,w=e.focusVisibleClassName,x=e.onBlur,E=e.onClick,S=e.onFocus,I=e.onFocusVisible,_=e.onKeyDown,T=e.onKeyUp,C=e.onMouseDown,N=e.onMouseLeave,A=e.onMouseUp,R=e.onTouchEnd,P=e.onTouchMove,D=e.onTouchStart,O=e.onDragLeave,L=e.tabIndex,M=void 0===L?0:L,F=e.TouchRippleProps,V=e.type,U=void 0===V?"button":V,j=re(e,["action","buttonRef","centerRipple","children","classes","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","onBlur","onClick","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","onDragLeave","tabIndex","TouchRippleProps","type"]),z=i.useRef(null);var B=i.useRef(null),q=i.useState(!1),W=q[0],K=q[1];p&&W&&K(!1);var G=na(),H=G.isFocusVisible,Q=G.onBlurVisible,$=G.ref;function Y(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:g;return Gi((function(r){return t&&t(r),!n&&B.current&&B.current[e](r),!0}))}i.useImperativeHandle(n,(function(){return{focusVisible:function(){K(!0),z.current.focus()}}}),[]),i.useEffect((function(){W&&k&&!m&&B.current.pulsate()}),[m,k,W]);var J=Y("start",C),X=Y("stop",O),Z=Y("stop",A),ee=Y("stop",(function(e){W&&e.preventDefault(),N&&N(e)})),te=Y("start",D),ne=Y("stop",R),ie=Y("stop",P),oe=Y("stop",(function(e){W&&(Q(e),K(!1)),x&&x(e)}),!1),ue=Gi((function(e){z.current||(z.current=e.currentTarget),H(e)&&(K(!0),I&&I(e)),S&&S(e)})),se=function(){var e=Bi.findDOMNode(z.current);return h&&"button"!==h&&!("A"===e.tagName&&e.href)},ce=i.useRef(!1),le=Gi((function(e){k&&!ce.current&&W&&B.current&&" "===e.key&&(ce.current=!0,e.persist(),B.current.stop(e,(function(){B.current.start(e)}))),e.target===e.currentTarget&&se()&&" "===e.key&&e.preventDefault(),_&&_(e),e.target===e.currentTarget&&se()&&"Enter"===e.key&&!p&&(e.preventDefault(),E&&E(e))})),fe=Gi((function(e){k&&" "===e.key&&B.current&&W&&!e.defaultPrevented&&(ce.current=!1,e.persist(),B.current.stop(e,(function(){B.current.pulsate(e)}))),T&&T(e),E&&e.target===e.currentTarget&&se()&&" "===e.key&&!e.defaultPrevented&&E(e)})),he=h;"button"===he&&j.href&&(he="a");var de={};"button"===he?(de.type=U,de.disabled=p):("a"===he&&j.href||(de.role="button"),de["aria-disabled"]=p);var pe=Wi(r,t),ve=Wi($,z),me=Wi(pe,ve),ye=i.useState(!1),ge=ye[0],be=ye[1];i.useEffect((function(){be(!0)}),[]);var ke=ge&&!m&&!p;return i.createElement(he,f({className:ae(s.root,c,W&&[s.focusVisible,w],p&&s.disabled),onBlur:oe,onClick:E,onFocus:ue,onKeyDown:le,onKeyUp:fe,onMouseDown:J,onMouseLeave:ee,onMouseUp:Z,onDragLeave:X,onTouchEnd:ne,onTouchMove:ie,onTouchStart:te,ref:me,tabIndex:p?-1:M},de,j),u,ke?i.createElement(da,f({ref:B,center:o},F)):null)})),va=Ci({root:{display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle","-moz-appearance":"none","-webkit-appearance":"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},"&$disabled":{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}},disabled:{},focusVisible:{}},{name:"MuiButtonBase"})(pa),ma=i.forwardRef((function(e,t){var n=e.children,r=e.classes,a=e.className,o=e.color,u=void 0===o?"default":o,s=e.component,c=void 0===s?"button":s,l=e.disabled,h=void 0!==l&&l,d=e.disableElevation,p=void 0!==d&&d,v=e.disableFocusRipple,m=void 0!==v&&v,y=e.endIcon,g=e.focusVisibleClassName,b=e.fullWidth,k=void 0!==b&&b,w=e.size,x=void 0===w?"medium":w,E=e.startIcon,S=e.type,I=void 0===S?"button":S,_=e.variant,T=void 0===_?"text":_,C=re(e,["children","classes","className","color","component","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"]),N=E&&i.createElement("span",{className:ae(r.startIcon,r["iconSize".concat(Ni(x))])},E),A=y&&i.createElement("span",{className:ae(r.endIcon,r["iconSize".concat(Ni(x))])},y);return i.createElement(va,f({className:ae(r.root,r[T],a,"inherit"===u?r.colorInherit:"default"!==u&&r["".concat(T).concat(Ni(u))],"medium"!==x&&[r["".concat(T,"Size").concat(Ni(x))],r["size".concat(Ni(x))]],p&&r.disableElevation,h&&r.disabled,k&&r.fullWidth),component:c,disabled:h,focusRipple:!m,focusVisibleClassName:ae(r.focusVisible,g),ref:t,type:I},C),i.createElement("span",{className:r.label},N,n,A))})),ya=Ci((function(e){return{root:f({},e.typography.button,{boxSizing:"border-box",minWidth:64,padding:"6px 16px",borderRadius:e.shape.borderRadius,color:e.palette.text.primary,transition:e.transitions.create(["background-color","box-shadow","border"],{duration:e.transitions.duration.short}),"&:hover":{textDecoration:"none",backgroundColor:Gr(e.palette.text.primary,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"},"&$disabled":{backgroundColor:"transparent"}},"&$disabled":{color:e.palette.action.disabled}}),label:{width:"100%",display:"inherit",alignItems:"inherit",justifyContent:"inherit"},text:{padding:"6px 8px"},textPrimary:{color:e.palette.primary.main,"&:hover":{backgroundColor:Gr(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},textSecondary:{color:e.palette.secondary.main,"&:hover":{backgroundColor:Gr(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},outlined:{padding:"5px 15px",border:"1px solid ".concat("light"===e.palette.type?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"),"&$disabled":{border:"1px solid ".concat(e.palette.action.disabledBackground)}},outlinedPrimary:{color:e.palette.primary.main,border:"1px solid ".concat(Gr(e.palette.primary.main,.5)),"&:hover":{border:"1px solid ".concat(e.palette.primary.main),backgroundColor:Gr(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},outlinedSecondary:{color:e.palette.secondary.main,border:"1px solid ".concat(Gr(e.palette.secondary.main,.5)),"&:hover":{border:"1px solid ".concat(e.palette.secondary.main),backgroundColor:Gr(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"&$disabled":{border:"1px solid ".concat(e.palette.action.disabled)}},contained:{color:e.palette.getContrastText(e.palette.grey[300]),backgroundColor:e.palette.grey[300],boxShadow:e.shadows[2],"&:hover":{backgroundColor:e.palette.grey.A100,boxShadow:e.shadows[4],"@media (hover: none)":{boxShadow:e.shadows[2],backgroundColor:e.palette.grey[300]},"&$disabled":{backgroundColor:e.palette.action.disabledBackground}},"&$focusVisible":{boxShadow:e.shadows[6]},"&:active":{boxShadow:e.shadows[8]},"&$disabled":{color:e.palette.action.disabled,boxShadow:e.shadows[0],backgroundColor:e.palette.action.disabledBackground}},containedPrimary:{color:e.palette.primary.contrastText,backgroundColor:e.palette.primary.main,"&:hover":{backgroundColor:e.palette.primary.dark,"@media (hover: none)":{backgroundColor:e.palette.primary.main}}},containedSecondary:{color:e.palette.secondary.contrastText,backgroundColor:e.palette.secondary.main,"&:hover":{backgroundColor:e.palette.secondary.dark,"@media (hover: none)":{backgroundColor:e.palette.secondary.main}}},disableElevation:{boxShadow:"none","&:hover":{boxShadow:"none"},"&$focusVisible":{boxShadow:"none"},"&:active":{boxShadow:"none"},"&$disabled":{boxShadow:"none"}},focusVisible:{},disabled:{},colorInherit:{color:"inherit",borderColor:"currentColor"},textSizeSmall:{padding:"4px 5px",fontSize:e.typography.pxToRem(13)},textSizeLarge:{padding:"8px 11px",fontSize:e.typography.pxToRem(15)},outlinedSizeSmall:{padding:"3px 9px",fontSize:e.typography.pxToRem(13)},outlinedSizeLarge:{padding:"7px 21px",fontSize:e.typography.pxToRem(15)},containedSizeSmall:{padding:"4px 10px",fontSize:e.typography.pxToRem(13)},containedSizeLarge:{padding:"8px 22px",fontSize:e.typography.pxToRem(15)},sizeSmall:{},sizeLarge:{},fullWidth:{width:"100%"},startIcon:{display:"inherit",marginRight:8,marginLeft:-4,"&$iconSizeSmall":{marginLeft:-2}},endIcon:{display:"inherit",marginRight:-4,marginLeft:8,"&$iconSizeSmall":{marginRight:-2}},iconSizeSmall:{"& > *:first-child":{fontSize:18}},iconSizeMedium:{"& > *:first-child":{fontSize:20}},iconSizeLarge:{"& > *:first-child":{fontSize:22}}}}),{name:"MuiButton"})(ma),ga=i.forwardRef((function(e,t){var n=e.children,r=e.classes,a=e.className,o=e.color,u=void 0===o?"inherit":o,s=e.component,c=void 0===s?"svg":s,l=e.fontSize,h=void 0===l?"medium":l,d=e.htmlColor,p=e.titleAccess,v=e.viewBox,m=void 0===v?"0 0 24 24":v,y=re(e,["children","classes","className","color","component","fontSize","htmlColor","titleAccess","viewBox"]);return i.createElement(c,f({className:ae(r.root,a,"inherit"!==u&&r["color".concat(Ni(u))],"default"!==h&&"medium"!==h&&r["fontSize".concat(Ni(h))]),focusable:"false",viewBox:m,color:d,"aria-hidden":!p||void 0,role:p?"img":void 0,ref:t},y),n,p?i.createElement("title",null,p):null)}));ga.muiName="SvgIcon";var ba=Ci((function(e){return{root:{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,fontSize:e.typography.pxToRem(24),transition:e.transitions.create("fill",{duration:e.transitions.duration.shorter})},colorPrimary:{color:e.palette.primary.main},colorSecondary:{color:e.palette.secondary.main},colorAction:{color:e.palette.action.active},colorError:{color:e.palette.error.main},colorDisabled:{color:e.palette.action.disabled},fontSizeInherit:{fontSize:"inherit"},fontSizeSmall:{fontSize:e.typography.pxToRem(20)},fontSizeLarge:{fontSize:e.typography.pxToRem(35)}}}),{name:"MuiSvgIcon"})(ga);function ka(e,t){var n=function(t,n){return i.createElement(ba,f({ref:n},t),e)};return n.muiName=ba.muiName,i.memo(i.forwardRef(n))}var wa=ka(i.createElement("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}));var xa=i.forwardRef((function(e,t){var n=e.alt,r=e.children,a=e.classes,o=e.className,u=e.component,s=void 0===u?"div":u,c=e.imgProps,l=e.sizes,h=e.src,d=e.srcSet,p=e.variant,v=void 0===p?"circular":p,m=re(e,["alt","children","classes","className","component","imgProps","sizes","src","srcSet","variant"]),y=null,g=function(e){var t=e.src,n=e.srcSet,r=i.useState(!1),a=r[0],o=r[1];return i.useEffect((function(){if(t||n){o(!1);var e=!0,r=new Image;return r.src=t,r.srcSet=n,r.onload=function(){e&&o("loaded")},r.onerror=function(){e&&o("error")},function(){e=!1}}}),[t,n]),a}({src:h,srcSet:d}),b=h||d,k=b&&"error"!==g;return y=k?i.createElement("img",f({alt:n,src:h,srcSet:d,sizes:l,className:a.img},c)):null!=r?r:b&&n?n[0]:i.createElement(wa,{className:a.fallback}),i.createElement(s,f({className:ae(a.root,a.system,a[v],o,!k&&a.colorDefault),ref:t},m),y)})),Ea=Ci((function(e){return{root:{position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:e.typography.fontFamily,fontSize:e.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none"},colorDefault:{color:e.palette.background.default,backgroundColor:"light"===e.palette.type?e.palette.grey[400]:e.palette.grey[600]},circle:{},circular:{},rounded:{borderRadius:e.shape.borderRadius},square:{borderRadius:0},img:{width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4},fallback:{width:"75%",height:"75%"}}}),{name:"MuiAvatar"})(xa),Sa="/login",Ia="/chat";function _a(e){return _a=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},_a(e)}function Ta(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_a(e)););return e}function Ca(){return Ca="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=Ta(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},Ca.apply(this,arguments)}function Na(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&he(e,t)}function Aa(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Ra(e,t){if(t&&("object"===mr(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return pe(e)}function Pa(e){var t=Aa();return function(){var n,r=_a(e);if(t){var i=_a(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Ra(this,n)}}function Da(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=s(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw a}}}}function Oa(){Oa=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(_){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var i=t&&t.prototype instanceof f?t:f,a=Object.create(i.prototype),o=new E(r||[]);return a._invoke=function(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return I()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=k(o,n);if(u){if(u===l)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=c(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}(e,n,o),a}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(_){return{type:"throw",arg:_}}}e.wrap=s;var l={};function f(){}function h(){}function d(){}var p={};u(p,i,(function(){return this}));var v=Object.getPrototypeOf,m=v&&v(v(S([])));m&&m!==t&&n.call(m,i)&&(p=m);var y=d.prototype=f.prototype=Object.create(p);function g(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function r(i,a,o,u){var s=c(e[i],e,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==mr(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,o,u)}),(function(e){r("throw",e,o,u)})):t.resolve(f).then((function(e){l.value=e,o(l)}),(function(e){return r("throw",e,o,u)}))}u(s.arg)}var i;this._invoke=function(e,n){function a(){return new t((function(t,i){r(e,n,t,i)}))}return i=i?i.then(a,a):a()}}function k(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,k(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=c(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,l;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function S(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:I}}function I(){return{value:void 0,done:!0}}return h.prototype=d,u(y,"constructor",d),u(d,"constructor",h),h.displayName=u(d,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,u(e,o,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},g(b.prototype),u(b.prototype,a,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new b(s(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},g(y),u(y,o,"Generator"),u(y,i,(function(){return this})),u(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=S,E.prototype={constructor:E,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),x(n),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;x(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:S(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},e}function La(e,t,n,r,i,a,o){try{var u=e[a](o),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(r,i)}function Ma(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){La(a,r,i,o,u,"next",e)}function u(e){La(a,r,i,o,u,"throw",e)}o(void 0)}))}}function Fa(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Va(e,t,n){return Va=Aa()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&he(i,n.prototype),i},Va.apply(null,arguments)}function Ua(e){var t="function"===typeof Map?new Map:void 0;return Ua=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return Va(e,arguments,_a(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),he(n,e)},Ua(e)}var ja=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},za={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,u=o?e[i+1]:0,s=i+2<e.length,c=s?e[i+2]:0,l=a>>2,f=(3&a)<<4|u>>4,h=(15&u)<<2|c>>6,d=63&c;s||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(ja(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var u=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&u)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,u=++i<e.length?n[e.charAt(i)]:64,s=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==u||null==s)throw Error();var c=a<<2|o>>4;if(r.push(c),64!==u){var l=o<<4&240|u>>2;if(r.push(l),64!==s){var f=u<<6&192|s;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},Ba=function(e){return function(e){var t=ja(e);return za.encodeByteArray(t,!0)}(e).replace(/\./g,"")},qa=function(e){try{return za.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function Wa(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&Ka(n)&&(e[n]=Wa(e[n],t[n]));return e}function Ka(e){return"__proto__"!==e}var Ga=function(){function e(){var t=this;Fa(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return fe(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function Ha(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Ba(JSON.stringify({alg:"none",type:"JWT"})),Ba(JSON.stringify(a)),""].join(".")}function Qa(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function $a(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Qa())}function Ya(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(e){return!1}}function Ja(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function Xa(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function Za(){var e=Qa();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function eo(){return"object"===typeof indexedDB}var to=function(e){Na(n,e);var t=Pa(n);function n(e,r,i){var a;return Fa(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(pe(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(pe(a),no.prototype.create),a}return fe(n)}(Ua(Error)),no=function(){function e(t,n,r){Fa(this,e),this.service=t,this.serviceName=n,this.errors=r}return fe(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?ro(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new to(n,a,t);return o}}]),e}();function ro(e,t){return e.replace(io,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var io=/\{\$([^}]+)}/g;function ao(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function oo(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var u=e[o],s=t[o];if(uo(u)&&uo(s)){if(!oo(u,s))return!1}else if(u!==s)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function uo(e){return null!==e&&"object"===typeof e}function so(e){for(var t=[],n=function(){var e=l(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function co(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=l(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function lo(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function fo(e,t){var n=new ho(e,t);return n.subscribe.bind(n)}var ho=function(){function e(t,n){var r=this;Fa(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return fe(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=Da(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=po),void 0===r.error&&(r.error=po),void 0===r.complete&&(r.complete=po);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function po(){}function vo(e){return e&&e._delegate?e._delegate:e}var mo=function(){function e(t,n,r){Fa(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return fe(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),yo="[DEFAULT]",go=function(){function e(t,n){Fa(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return fe(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new Ga;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:yo})}catch(s){}var t,n=Da(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=l(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch(s){}}}catch(c){n.e(c)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yo;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=Ma(Oa().mark((function e(){var t;return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(ln(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),ln(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yo;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yo;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=Da(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var u=l(i.value,2),s=u[0],c=u[1],f=this.normalizeInstanceIdentifier(s);r===f&&c.resolve(a)}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=Da(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(JA){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===yo?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(JA){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yo;return this.component?this.component.multipleInstances?e:yo:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var bo,ko,wo=function(){function e(t){Fa(this,e),this.name=t,this.providers=new Map}return fe(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new go(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),xo=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(ko||(ko={}));var Eo={debug:ko.DEBUG,verbose:ko.VERBOSE,info:ko.INFO,warn:ko.WARN,error:ko.ERROR,silent:ko.SILENT},So=ko.INFO,Io=(Rr(bo={},ko.DEBUG,"log"),Rr(bo,ko.VERBOSE,"log"),Rr(bo,ko.INFO,"info"),Rr(bo,ko.WARN,"warn"),Rr(bo,ko.ERROR,"error"),bo),_o=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=Io[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),u=2;u<a;u++)o[u-2]=arguments[u];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},To=function(){function e(t){Fa(this,e),this.name=t,this._logLevel=So,this._logHandler=_o,this._userLogHandler=null,xo.push(this)}return fe(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in ko))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?Eo[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,ko.DEBUG].concat(t)),this._logHandler.apply(this,[this,ko.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,ko.VERBOSE].concat(t)),this._logHandler.apply(this,[this,ko.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,ko.INFO].concat(t)),this._logHandler.apply(this,[this,ko.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,ko.WARN].concat(t)),this._logHandler.apply(this,[this,ko.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,ko.ERROR].concat(t)),this._logHandler.apply(this,[this,ko.ERROR].concat(t))}}]),e}();function Co(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function No(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Co(Object(n),!0).forEach((function(t){Rr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Co(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ao,Ro;var Po=new WeakMap,Do=new WeakMap,Oo=new WeakMap,Lo=new WeakMap,Mo=new WeakMap;var Fo={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Do.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Oo.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return jo(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function Vo(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Ro||(Ro=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(zo(this),n),jo(Po.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return jo(e.apply(zo(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[zo(this),t].concat(r));return Oo.set(a,t.sort?t.sort():[t]),jo(a)}}function Uo(e){return"function"===typeof e?Vo(e):(e instanceof IDBTransaction&&function(e){if(!Do.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));Do.set(e,t)}}(e),t=e,(Ao||(Ao=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((function(e){return t instanceof e}))?new Proxy(e,Fo):e);var t}function jo(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(jo(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&Po.set(t,e)})).catch((function(){})),Mo.set(t,e),t}(e);if(Lo.has(e))return Lo.get(e);var t=Uo(e);return t!==e&&(Lo.set(e,t),Mo.set(t,e)),t}var zo=function(e){return Mo.get(e)};var Bo,qo,Wo=["get","getKey","getAll","getAllKeys","count"],Ko=["put","add","delete","clear"],Go=new Map;function Ho(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(Go.get(t))return Go.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=Ko.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||Wo.includes(n))){var a=function(){var e=Ma(Oa().mark((function e(t){var a,o,u,s,c,l,f=arguments;return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),u=o.store,s=f.length,c=new Array(s>1?s-1:0),l=1;l<s;l++)c[l-1]=f[l];return r&&(u=u.index(c.shift())),e.next=6,Promise.all([(a=u)[n].apply(a,c),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return Go.set(t,a),a}}}Fo=function(e){return No(No({},e),{},{get:function(t,n,r){return Ho(t,n)||e.get(t,n,r)},has:function(t,n){return!!Ho(t,n)||e.has(t,n)}})}(Fo);var Qo=function(){function e(t){Fa(this,e),this.container=t}return fe(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var $o="@firebase/app",Yo="0.7.27",Jo=new To("@firebase/app"),Xo="[DEFAULT]",Zo=(Rr(Bo={},$o,"fire-core"),Rr(Bo,"@firebase/app-compat","fire-core-compat"),Rr(Bo,"@firebase/analytics","fire-analytics"),Rr(Bo,"@firebase/analytics-compat","fire-analytics-compat"),Rr(Bo,"@firebase/app-check","fire-app-check"),Rr(Bo,"@firebase/app-check-compat","fire-app-check-compat"),Rr(Bo,"@firebase/auth","fire-auth"),Rr(Bo,"@firebase/auth-compat","fire-auth-compat"),Rr(Bo,"@firebase/database","fire-rtdb"),Rr(Bo,"@firebase/database-compat","fire-rtdb-compat"),Rr(Bo,"@firebase/functions","fire-fn"),Rr(Bo,"@firebase/functions-compat","fire-fn-compat"),Rr(Bo,"@firebase/installations","fire-iid"),Rr(Bo,"@firebase/installations-compat","fire-iid-compat"),Rr(Bo,"@firebase/messaging","fire-fcm"),Rr(Bo,"@firebase/messaging-compat","fire-fcm-compat"),Rr(Bo,"@firebase/performance","fire-perf"),Rr(Bo,"@firebase/performance-compat","fire-perf-compat"),Rr(Bo,"@firebase/remote-config","fire-rc"),Rr(Bo,"@firebase/remote-config-compat","fire-rc-compat"),Rr(Bo,"@firebase/storage","fire-gcs"),Rr(Bo,"@firebase/storage-compat","fire-gcs-compat"),Rr(Bo,"@firebase/firestore","fire-fst"),Rr(Bo,"@firebase/firestore-compat","fire-fst-compat"),Rr(Bo,"fire-js","fire-js"),Rr(Bo,"firebase","fire-js-all"),Bo),eu=new Map,tu=new Map;function nu(e,t){try{e.container.addComponent(t)}catch(n){Jo.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function ru(e,t){e.container.addOrOverwriteComponent(t)}function iu(e){var t=e.name;if(tu.has(t))return Jo.debug("There were multiple attempts to register component ".concat(t,".")),!1;tu.set(t,e);var n,r=Da(eu.values());try{for(r.s();!(n=r.n()).done;){nu(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function au(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function ou(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Xo;au(e,t).clearInstance(n)}function uu(){tu.clear()}var su=(Rr(qo={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),Rr(qo,"bad-app-name","Illegal App name: '{$appName}"),Rr(qo,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),Rr(qo,"app-deleted","Firebase App named '{$appName}' already deleted"),Rr(qo,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),Rr(qo,"invalid-log-argument","First argument to `onLog` must be null or a function."),Rr(qo,"storage-open","Error thrown when opening storage. Original error: {$originalErrorMessage}."),Rr(qo,"storage-get","Error thrown when reading from storage. Original error: {$originalErrorMessage}."),Rr(qo,"storage-set","Error thrown when writing to storage. Original error: {$originalErrorMessage}."),Rr(qo,"storage-delete","Error thrown when deleting from storage. Original error: {$originalErrorMessage}."),qo),cu=new no("app","Firebase",su),lu=function(){function e(t,n,r){var i=this;Fa(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new mo("app",(function(){return i}),"PUBLIC"))}return fe(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw cu.create("app-deleted",{appName:this._name})}}]),e}(),fu="9.8.4";function hu(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!==typeof t){var n=t;t={name:n}}var r=Object.assign({name:Xo,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw cu.create("bad-app-name",{appName:String(i)});var a=eu.get(i);if(a){if(oo(e,a.options)&&oo(r,a.config))return a;throw cu.create("duplicate-app",{appName:i})}var o,u=new wo(i),s=Da(tu.values());try{for(s.s();!(o=s.n()).done;){var c=o.value;u.addComponent(c)}}catch(f){s.e(f)}finally{s.f()}var l=new lu(e,r,u);return eu.set(i,l),l}function du(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xo,t=eu.get(e);if(!t)throw cu.create("no-app",{appName:e});return t}function pu(){return Array.from(eu.values())}function vu(e){return mu.apply(this,arguments)}function mu(){return(mu=Ma(Oa().mark((function e(t){var n;return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!eu.has(n)){e.next=6;break}return eu.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function yu(e,t,n){var r,i=null!==(r=Zo[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var u=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&u.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&u.push("and"),o&&u.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Jo.warn(u.join(" "))}iu(new mo("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function gu(e,t){if(null!==e&&"function"!==typeof e)throw cu.create("invalid-log-argument");!function(e,t){var n,r=Da(xo);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=Eo[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var u=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:ko[n].toLowerCase(),message:u,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function bu(e){var t;t=e,xo.forEach((function(e){e.setLogLevel(t)}))}var ku="firebase-heartbeat-store",wu=null;function xu(){return wu||(wu=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,u=indexedDB.open(e,t),s=jo(u);return i&&u.addEventListener("upgradeneeded",(function(e){i(jo(u.result),e.oldVersion,e.newVersion,jo(u.transaction))})),r&&u.addEventListener("blocked",(function(){return r()})),s.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(){return a()}))})).catch((function(){})),s}("firebase-heartbeat-database",1,{upgrade:function(e,t){if(0===t)e.createObjectStore(ku)}}).catch((function(e){throw cu.create("storage-open",{originalErrorMessage:e.message})}))),wu}function Eu(e){return Su.apply(this,arguments)}function Su(){return Su=Ma(Oa().mark((function e(t){var n,r;return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,xu();case 3:return r=e.sent,e.abrupt("return",r.transaction(ku).objectStore(ku).get(Tu(t)));case 7:throw e.prev=7,e.t0=e.catch(0),cu.create("storage-get",{originalErrorMessage:null===(n=e.t0)||void 0===n?void 0:n.message});case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),Su.apply(this,arguments)}function Iu(e,t){return _u.apply(this,arguments)}function _u(){return _u=Ma(Oa().mark((function e(t,n){var r,i,a,o;return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,xu();case 3:return i=e.sent,a=i.transaction(ku,"readwrite"),o=a.objectStore(ku),e.next=8,o.put(n,Tu(t));case 8:return e.abrupt("return",a.done);case 11:throw e.prev=11,e.t0=e.catch(0),cu.create("storage-set",{originalErrorMessage:null===(r=e.t0)||void 0===r?void 0:r.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),_u.apply(this,arguments)}function Tu(e){return"".concat(e.name,"!").concat(e.options.appId)}var Cu=function(){function e(t){var n=this;Fa(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new Pu(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return fe(e,[{key:"triggerHeartbeat",value:function(){var e=Ma(Oa().mark((function e(){var t,n,r;return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=Nu(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=Ma(Oa().mark((function e(){var t,n,r,i,a;return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=Nu(),n=Au(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=Ba(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Nu(){return(new Date).toISOString().substring(0,10)}function Au(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=Da(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),Du(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),Du(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){var u=o();if("break"===u)break}}catch(s){a.e(s)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var Ru,Pu=function(){function e(t){Fa(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return fe(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=Ma(Oa().mark((function e(){return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(eo()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=Ma(Oa().mark((function e(){var t;return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,Eu(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=Ma(Oa().mark((function e(t){var n,r;return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Iu(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=Ma(Oa().mark((function e(t){var n,r;return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Iu(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(ln(r.heartbeats),ln(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function Du(e){return Ba(JSON.stringify({version:2,heartbeats:e})).length}Ru="",iu(new mo("platform-logger",(function(e){return new Qo(e)}),"PRIVATE")),iu(new mo("heartbeat",(function(e){return new Cu(e)}),"PRIVATE")),yu($o,Yo,Ru),yu($o,Yo,"esm2017"),yu("fire-js","");function Ou(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var Lu;Object.create;var Mu="facebook.com",Fu="github.com",Vu="google.com",Uu="password",ju="twitter.com",zu="EMAIL_SIGNIN",Bu="PASSWORD_RESET",qu="RECOVER_EMAIL",Wu="REVERT_SECOND_FACTOR_ADDITION",Ku="VERIFY_AND_CHANGE_EMAIL",Gu="VERIFY_EMAIL";function Hu(){return Rr({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var Qu=function(){var e;return Rr(e={},"admin-restricted-operation","This operation is restricted to administrators only."),Rr(e,"argument-error",""),Rr(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),Rr(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),Rr(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),Rr(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),Rr(e,"cordova-not-ready","Cordova framework is not ready."),Rr(e,"cors-unsupported","This browser is not supported."),Rr(e,"credential-already-in-use","This credential is already associated with a different user account."),Rr(e,"custom-token-mismatch","The custom token corresponds to a different audience."),Rr(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),Rr(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),Rr(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),Rr(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),Rr(e,"email-already-in-use","The email address is already in use by another account."),Rr(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),Rr(e,"expired-action-code","The action code has expired."),Rr(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),Rr(e,"internal-error","An internal AuthError has occurred."),Rr(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),Rr(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),Rr(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),Rr(e,"invalid-auth-event","An internal AuthError has occurred."),Rr(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),Rr(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),Rr(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),Rr(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),Rr(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),Rr(e,"invalid-email","The email address is badly formatted."),Rr(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),Rr(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),Rr(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),Rr(e,"invalid-credential","The supplied auth credential is malformed or has expired."),Rr(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),Rr(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),Rr(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),Rr(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),Rr(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),Rr(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),Rr(e,"wrong-password","The password is invalid or the user does not have a password."),Rr(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),Rr(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),Rr(e,"invalid-provider-id","The specified provider ID is invalid."),Rr(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),Rr(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),Rr(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),Rr(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),Rr(e,"login-blocked","Login blocked by user-provided method: {$originalMessage}"),Rr(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),Rr(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),Rr(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),Rr(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),Rr(e,"missing-continue-uri","A continue URL must be provided in the request."),Rr(e,"missing-iframe-start","An internal AuthError has occurred."),Rr(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),Rr(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),Rr(e,"missing-multi-factor-info","No second factor identifier is provided."),Rr(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),Rr(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),Rr(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),Rr(e,"app-deleted","This instance of FirebaseApp has been deleted."),Rr(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),Rr(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),Rr(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),Rr(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),Rr(e,"no-auth-event","An internal AuthError has occurred."),Rr(e,"no-such-provider","User was not linked to an account with the given provider."),Rr(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),Rr(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),Rr(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),Rr(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),Rr(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),Rr(e,"provider-already-linked","User can only be linked to one identity for the given provider."),Rr(e,"quota-exceeded","The project's quota for this operation has been exceeded."),Rr(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),Rr(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),Rr(e,"rejected-credential","The request contains malformed or mismatching credentials."),Rr(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),Rr(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),Rr(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),Rr(e,"timeout","The operation has timed out."),Rr(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),Rr(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),Rr(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),Rr(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),Rr(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),Rr(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),Rr(e,"unverified-email","The operation requires a verified email."),Rr(e,"user-cancelled","The user did not grant your application the permissions it requested."),Rr(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),Rr(e,"user-disabled","The user account has been disabled by an administrator."),Rr(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),Rr(e,"user-signed-out",""),Rr(e,"weak-password","The password must be 6 characters long or more."),Rr(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),Rr(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),e},$u=Hu,Yu=new no("auth","Firebase",Hu()),Ju=new To("@firebase/auth");function Xu(e){if(Ju.logLevel<=ko.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Ju.error.apply(Ju,["Auth (".concat(fu,"): ").concat(e)].concat(n))}}function Zu(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw rs.apply(void 0,[e].concat(n))}function es(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return rs.apply(void 0,[e].concat(n))}function ts(e,t,n){var r=Object.assign(Object.assign({},$u()),Rr({},t,n));return new no("auth","Firebase",r).create(t,{appName:e.name})}function ns(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&Zu(e,"argument-error"),ts(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function rs(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=ln(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(ln(o)))}return Yu.create.apply(Yu,[e].concat(n))}function is(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw rs.apply(void 0,[t].concat(r))}}function as(e){var t="INTERNAL ASSERTION FAILED: "+e;throw Xu(t),new Error(t)}function os(e,t){e||as(t)}var us=new Map;function ss(e){os(e instanceof Function,"Expected a class definition");var t=us.get(e);return t?(os(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,us.set(e,t),t)}function cs(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function ls(){return"http:"===fs()||"https:"===fs()}function fs(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var hs=function(){function e(t,n){Fa(this,e),this.shortDelay=t,this.longDelay=n,os(n>t,"Short delay should be less than long delay!"),this.isMobile=$a()||Xa()}return fe(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(ls()||Ja()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function ds(e,t){os(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var ps=function(){function e(){Fa(this,e)}return fe(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void as("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void as("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void as("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),vs=(Rr(Lu={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),Rr(Lu,"MISSING_CUSTOM_TOKEN","internal-error"),Rr(Lu,"INVALID_IDENTIFIER","invalid-email"),Rr(Lu,"MISSING_CONTINUE_URI","internal-error"),Rr(Lu,"INVALID_PASSWORD","wrong-password"),Rr(Lu,"MISSING_PASSWORD","internal-error"),Rr(Lu,"EMAIL_EXISTS","email-already-in-use"),Rr(Lu,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),Rr(Lu,"INVALID_IDP_RESPONSE","invalid-credential"),Rr(Lu,"INVALID_PENDING_TOKEN","invalid-credential"),Rr(Lu,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),Rr(Lu,"MISSING_REQ_TYPE","internal-error"),Rr(Lu,"EMAIL_NOT_FOUND","user-not-found"),Rr(Lu,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),Rr(Lu,"EXPIRED_OOB_CODE","expired-action-code"),Rr(Lu,"INVALID_OOB_CODE","invalid-action-code"),Rr(Lu,"MISSING_OOB_CODE","internal-error"),Rr(Lu,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),Rr(Lu,"INVALID_ID_TOKEN","invalid-user-token"),Rr(Lu,"TOKEN_EXPIRED","user-token-expired"),Rr(Lu,"USER_NOT_FOUND","user-token-expired"),Rr(Lu,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),Rr(Lu,"INVALID_CODE","invalid-verification-code"),Rr(Lu,"INVALID_SESSION_INFO","invalid-verification-id"),Rr(Lu,"INVALID_TEMPORARY_PROOF","invalid-credential"),Rr(Lu,"MISSING_SESSION_INFO","missing-verification-id"),Rr(Lu,"SESSION_EXPIRED","code-expired"),Rr(Lu,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),Rr(Lu,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),Rr(Lu,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),Rr(Lu,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),Rr(Lu,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),Rr(Lu,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),Rr(Lu,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),Rr(Lu,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),Rr(Lu,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),Rr(Lu,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),Rr(Lu,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),Lu),ms=new hs(3e4,6e4);function ys(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function gs(e,t,n,r){return bs.apply(this,arguments)}function bs(){return bs=Ma(Oa().mark((function e(t,n,r,i){var a,o=arguments;return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",ks(t,a,Ma(Oa().mark((function e(){var a,o,u,s;return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),u=so(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(s=e.sent)["Content-Type"]="application/json",t.languageCode&&(s["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",ps.fetch()(Ss(t,t.config.apiHost,r,u),Object.assign({method:n,headers:s,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),bs.apply(this,arguments)}function ks(e,t,n){return ws.apply(this,arguments)}function ws(){return ws=Ma(Oa().mark((function e(t,n,r){var i,a,o,u,s,c,f,h,d,p;return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},vs),n),e.prev=2,a=new Is(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(u=e.sent))){e.next=13;break}throw _s(t,"account-exists-with-different-credential",u);case 13:if(!o.ok||"errorMessage"in u){e.next=17;break}return e.abrupt("return",u);case 17:if(s=o.ok?u.errorMessage:u.error.message,c=s.split(" : "),f=l(c,2),h=f[0],d=f[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==h){e.next=23;break}throw _s(t,"credential-already-in-use",u);case 23:if("EMAIL_EXISTS"!==h){e.next=27;break}throw _s(t,"email-already-in-use",u);case 27:if("USER_DISABLED"!==h){e.next=29;break}throw _s(t,"user-disabled",u);case 29:if(p=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-"),!d){e.next=34;break}throw ts(t,p,d);case 34:Zu(t,p);case 35:e.next=42;break;case 37:if(e.prev=37,e.t0=e.catch(2),!(e.t0 instanceof to)){e.next=41;break}throw e.t0;case 41:Zu(t,"network-request-failed");case 42:case"end":return e.stop()}}),e,null,[[2,37]])}))),ws.apply(this,arguments)}function xs(e,t,n,r){return Es.apply(this,arguments)}function Es(){return Es=Ma(Oa().mark((function e(t,n,r,i){var a,o,u=arguments;return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>4&&void 0!==u[4]?u[4]:{},e.next=3,gs(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&Zu(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),Es.apply(this,arguments)}function Ss(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?ds(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var Is=function(){function e(t){var n=this;Fa(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(es(n.auth,"network-request-failed"))}),ms.get())}))}return fe(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function _s(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=es(e,t,r);return i.customData._tokenResponse=n,i}function Ts(e,t){return Cs.apply(this,arguments)}function Cs(){return Cs=Ma(Oa().mark((function e(t,n){return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",gs(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)}))),Cs.apply(this,arguments)}function Ns(e,t){return As.apply(this,arguments)}function As(){return As=Ma(Oa().mark((function e(t,n){return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",gs(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),As.apply(this,arguments)}function Rs(e,t){return Ps.apply(this,arguments)}function Ps(){return Ps=Ma(Oa().mark((function e(t,n){return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",gs(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)}))),Ps.apply(this,arguments)}function Ds(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function Os(){return Os=Ma(Oa().mark((function e(t){var n,r,i,a,o,u,s=arguments;return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]&&s[1],r=vo(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,is((a=Ms(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,u=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:Ds(Ls(a.auth_time)),issuedAtTime:Ds(Ls(a.iat)),expirationTime:Ds(Ls(a.exp)),signInProvider:u||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),Os.apply(this,arguments)}function Ls(e){return 1e3*Number(e)}function Ms(e){var t,n=l(e.split("."),3),r=n[0],i=n[1],a=n[2];if(void 0===r||void 0===i||void 0===a)return Xu("JWT malformed, contained fewer than 3 sections"),null;try{var o=qa(i);return o?JSON.parse(o):(Xu("Failed to decode base64 JWT payload"),null)}catch(u){return Xu("Caught error parsing JWT payload as JSON",null===(t=u)||void 0===t?void 0:t.toString()),null}}function Fs(e,t){return Vs.apply(this,arguments)}function Vs(){return Vs=Ma(Oa().mark((function e(t,n){var r=arguments;return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof to&&Us(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),Vs.apply(this,arguments)}function Us(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var js=function(){function e(t){Fa(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return fe(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(Ma(Oa().mark((function t(){return Oa().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=Ma(Oa().mark((function e(){var t;return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),(null===(t=e.t0)||void 0===t?void 0:t.code)==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),zs=function(){function e(t,n){Fa(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return fe(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=Ds(this.lastLoginAt),this.creationTime=Ds(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function Bs(e){return qs.apply(this,arguments)}function qs(){return qs=Ma(Oa().mark((function e(t){var n,r,i,a,o,u,s,c,l,f,h;return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,Fs(t,Rs(r,{idToken:i}));case 6:is(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),u=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?Gs(o.providerUserInfo):[],s=Ks(t.providerData,u),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===s||void 0===s?void 0:s.length),f=!!c&&l,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new zs(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)}))),qs.apply(this,arguments)}function Ws(){return(Ws=Ma(Oa().mark((function e(t){var n;return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=vo(t),e.next=3,Bs(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ks(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(ln(n),ln(t))}function Gs(e){return e.map((function(e){var t=e.providerId,n=Ou(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function Hs(e,t){return Qs.apply(this,arguments)}function Qs(){return Qs=Ma(Oa().mark((function e(t,n){var r;return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ks(t,{},Ma(Oa().mark((function e(){var r,i,a,o,u,s;return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=so({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,u=Ss(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(s=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",ps.fetch()(u,{method:"POST",headers:s,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)}))),Qs.apply(this,arguments)}var $s=function(){function e(){Fa(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return fe(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){is(e.idToken,"internal-error"),is("undefined"!==typeof e.idToken,"internal-error"),is("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=Ms(e);return is(t,"internal-error"),is("undefined"!==typeof t.exp,"internal-error"),is("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=Ma(Oa().mark((function e(t){var n,r=arguments;return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],is(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=Ma(Oa().mark((function e(t,n){var r,i,a,o;return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Hs(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return as("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(is("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(is("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(is("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function Ys(e,t){is("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var Js=function(){function e(t){Fa(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=Ou(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new js(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?ln(a.providerData):[],this.metadata=new zs(a.createdAt||void 0,a.lastLoginAt||void 0)}return fe(e,[{key:"getIdToken",value:function(){var e=Ma(Oa().mark((function e(t){var n;return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fs(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(is(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return Os.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return Ws.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(is(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){is(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=Ma(Oa().mark((function e(t){var n,r,i=arguments;return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,Bs(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Ma(Oa().mark((function e(){var t;return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,Fs(this,Ts(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,u,s,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(u=n.tenantId)&&void 0!==u?u:void 0,m=null!==(s=n._redirectEventId)&&void 0!==s?s:void 0,y=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,b=n.uid,k=n.emailVerified,w=n.isAnonymous,x=n.providerData,E=n.stsTokenManager;is(b&&E,t,"internal-error");var S=$s.fromJSON(this.name,E);is("string"===typeof b,t,"internal-error"),Ys(f,t.name),Ys(h,t.name),is("boolean"===typeof k,t,"internal-error"),is("boolean"===typeof w,t,"internal-error"),Ys(d,t.name),Ys(p,t.name),Ys(v,t.name),Ys(m,t.name),Ys(y,t.name),Ys(g,t.name);var I=new e({uid:b,auth:t,email:h,emailVerified:k,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:S,createdAt:y,lastLoginAt:g});return x&&Array.isArray(x)&&(I.providerData=x.map((function(e){return Object.assign({},e)}))),m&&(I._redirectEventId=m),I}},{key:"_fromIdTokenResponse",value:function(){var t=Ma(Oa().mark((function t(n,r){var i,a,o,u=arguments;return Oa().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=u.length>2&&void 0!==u[2]&&u[2],(a=new $s).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,Bs(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),Xs=function(){function e(){Fa(this,e),this.type="NONE",this.storage={}}return fe(e,[{key:"_isAvailable",value:function(){var e=Ma(Oa().mark((function e(){return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Ma(Oa().mark((function e(t,n){return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Ma(Oa().mark((function e(t){var n;return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Ma(Oa().mark((function e(t){return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();Xs.type="NONE";var Zs=Xs;function ec(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var tc=function(){function e(t,n,r){Fa(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=ec(this.userKey,a.apiKey,o),this.fullPersistenceKey=ec("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return fe(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=Ma(Oa().mark((function e(){var t;return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?Js._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=Ma(Oa().mark((function e(t){var n;return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=Ma(Oa().mark((function t(n,r){var i,a,o,u,s,c,l,f,h,d,p,v=arguments;return Oa().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(ss(Zs),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=Ma(Oa().mark((function e(t){return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||ss(Zs),u=ec(i,n.config.apiKey,n.name),s=null,c=Da(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(u);case 17:if(!(h=t.sent)){t.next=23;break}return d=Js._fromJSON(n,h),f!==o&&(s=d),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!s){t.next=44;break}return t.next=44,o._set(u,s.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=Ma(Oa().mark((function e(t){return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(u);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function nc(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(oc(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(rc(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(sc(t))return"Blackberry";if(cc(t))return"Webos";if(ic(t))return"Safari";if((t.includes("chrome/")||ac(t))&&!t.includes("edge/"))return"Chrome";if(uc(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function rc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qa();return/firefox\//i.test(e)}function ic(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qa(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function ac(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qa();return/crios\//i.test(e)}function oc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qa();return/iemobile/i.test(e)}function uc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qa();return/android/i.test(e)}function sc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qa();return/blackberry/i.test(e)}function cc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qa();return/webos/i.test(e)}function lc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qa();return/iphone|ipad|ipod/i.test(e)}function fc(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qa();return lc(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function hc(){return Za()&&10===document.documentMode}function dc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qa();return lc(e)||uc(e)||cc(e)||sc(e)||/windows phone/i.test(e)||oc(e)}function pc(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=nc(Qa());break;case"Worker":t="".concat(nc(Qa()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(fu,"/").concat(r)}var vc=function(){function e(t){Fa(this,e),this.auth=t,this.queue=[]}return fe(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{n(e(t))}catch(i){r(i)}}))};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=Ma(Oa().mark((function e(t){var n,r,i,a,o,u,s,c;return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:r=[],e.prev=3,i=Da(this.queue),e.prev=5,i.s();case 7:if((a=i.n()).done){e.next=14;break}return o=a.value,e.next=11,o(t);case 11:o.onAbort&&r.push(o.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),i.e(e.t0);case 19:return e.prev=19,i.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),r.reverse(),u=Da(r);try{for(u.s();!(s=u.n()).done;){c=s.value;try{c()}catch(l){}}}catch(f){u.e(f)}finally{u.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===(n=e.t1)||void 0===n?void 0:n.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),mc=function(){function e(t,n,r){Fa(this,e),this.app=t,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new gc(this),this.idTokenSubscription=new gc(this),this.beforeStateQueue=new vc(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Yu,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}return fe(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=ss(t)),this._initializationPromise=this.queue(Ma(Oa().mark((function r(){var i,a;return Oa().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,tc.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=Ma(Oa().mark((function e(){var t;return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=Ma(Oa().mark((function e(t){var n,r,i,a,o,u,s;return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,i=r,a=!1,!t||!this.config.authDomain){e.next=14;break}return e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return o=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,u=null===i||void 0===i?void 0:i._redirectEventId,e.next=12,this.tryRedirectSignIn(t);case 12:s=e.sent,o&&o!==u||!(null===s||void 0===s?void 0:s.user)||(i=s.user,a=!0);case 14:if(i){e.next=16;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(i._redirectEventId){e.next=32;break}if(!a){e.next=27;break}return e.prev=18,e.next=21,this.beforeStateQueue.runMiddleware(i);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(18),i=r,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 27:if(!i){e.next=31;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 31:return e.abrupt("return",this.directlySetCurrentUser(null));case 32:return is(this._popupRedirectResolver,this,"argument-error"),e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==i._redirectEventId){e.next=37;break}return e.abrupt("return",this.directlySetCurrentUser(i));case 37:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 38:case"end":return e.stop()}}),e,this,[[18,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=Ma(Oa().mark((function e(t){var n;return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=Ma(Oa().mark((function e(t){var n;return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Bs(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),(null===(n=e.t0)||void 0===n?void 0:n.code)==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=Ma(Oa().mark((function e(){return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=Ma(Oa().mark((function e(t){var n;return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?vo(t):null)&&is(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=Ma(Oa().mark((function e(t){var n,r=this,i=arguments;return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&is(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue(Ma(Oa().mark((function e(){return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=Ma(Oa().mark((function e(){return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=5;break}return e.next=5,this._setRedirectUser(null);case 5:return e.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(Ma(Oa().mark((function n(){return Oa().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(ss(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new no("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=Ma(Oa().mark((function e(t,n){var r;return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=Ma(Oa().mark((function e(t){var n;return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return is(n=t&&ss(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,tc.create(this,[ss(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=Ma(Oa().mark((function e(t){var n,r;return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(Ma(Oa().mark((function e(){return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=Ma(Oa().mark((function e(t){var n=this;return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(Ma(Oa().mark((function e(){return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return is(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=Ma(Oa().mark((function e(t){return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&(this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh()),this.currentUser=t,!t){e.next=7;break}return e.next=5,this.assertedPersistence.setCurrentUser(t);case 5:e.next=9;break;case 7:return e.next=9,this.assertedPersistence.removeCurrentUser();case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return is(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=pc(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=Ma(Oa().mark((function e(){var t,n,r;return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Rr({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function yc(e){return vo(e)}var gc=function(){function e(t){var n=this;Fa(this,e),this.auth=t,this.observer=null,this.addObserver=fo((function(e){return n.observer=e}))}return fe(e,[{key:"next",get:function(){return is(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function bc(e,t,n){var r=yc(e);is(r._canInitEmulator,r,"emulator-config-failed"),is(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=kc(t),o=function(e){var t=kc(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:wc(r.substr(a.length+1))}}var o=l(r.split(":"),2);return{host:o[0],port:wc(o[1])}}(t),u=o.host,s=o.port,c=null===s?"":":".concat(s);r.config.emulator={url:"".concat(a,"//").concat(u).concat(c,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:u,port:s,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function kc(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function wc(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var xc=function(){function e(t,n){Fa(this,e),this.providerId=t,this.signInMethod=n}return fe(e,[{key:"toJSON",value:function(){return as("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return as("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return as("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return as("not implemented")}}]),e}();function Ec(e,t){return Sc.apply(this,arguments)}function Sc(){return Sc=Ma(Oa().mark((function e(t,n){return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",gs(t,"POST","/v1/accounts:resetPassword",ys(t,n)));case 1:case"end":return e.stop()}}),e)}))),Sc.apply(this,arguments)}function Ic(e,t){return _c.apply(this,arguments)}function _c(){return _c=Ma(Oa().mark((function e(t,n){return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",gs(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),_c.apply(this,arguments)}function Tc(e,t){return Cc.apply(this,arguments)}function Cc(){return Cc=Ma(Oa().mark((function e(t,n){return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",gs(t,"POST","/v1/accounts:update",ys(t,n)));case 1:case"end":return e.stop()}}),e)}))),Cc.apply(this,arguments)}function Nc(e,t){return Ac.apply(this,arguments)}function Ac(){return Ac=Ma(Oa().mark((function e(t,n){return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",xs(t,"POST","/v1/accounts:signInWithPassword",ys(t,n)));case 1:case"end":return e.stop()}}),e)}))),Ac.apply(this,arguments)}function Rc(e,t){return Pc.apply(this,arguments)}function Pc(){return Pc=Ma(Oa().mark((function e(t,n){return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",gs(t,"POST","/v1/accounts:sendOobCode",ys(t,n)));case 1:case"end":return e.stop()}}),e)}))),Pc.apply(this,arguments)}function Dc(e,t){return Oc.apply(this,arguments)}function Oc(){return Oc=Ma(Oa().mark((function e(t,n){return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Rc(t,n));case 1:case"end":return e.stop()}}),e)}))),Oc.apply(this,arguments)}function Lc(e,t){return Mc.apply(this,arguments)}function Mc(){return Mc=Ma(Oa().mark((function e(t,n){return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Rc(t,n));case 1:case"end":return e.stop()}}),e)}))),Mc.apply(this,arguments)}function Fc(e,t){return Vc.apply(this,arguments)}function Vc(){return Vc=Ma(Oa().mark((function e(t,n){return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Rc(t,n));case 1:case"end":return e.stop()}}),e)}))),Vc.apply(this,arguments)}function Uc(e,t){return jc.apply(this,arguments)}function jc(){return jc=Ma(Oa().mark((function e(t,n){return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Rc(t,n));case 1:case"end":return e.stop()}}),e)}))),jc.apply(this,arguments)}function zc(e,t){return Bc.apply(this,arguments)}function Bc(){return Bc=Ma(Oa().mark((function e(t,n){return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",xs(t,"POST","/v1/accounts:signInWithEmailLink",ys(t,n)));case 1:case"end":return e.stop()}}),e)}))),Bc.apply(this,arguments)}function qc(e,t){return Wc.apply(this,arguments)}function Wc(){return Wc=Ma(Oa().mark((function e(t,n){return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",xs(t,"POST","/v1/accounts:signInWithEmailLink",ys(t,n)));case 1:case"end":return e.stop()}}),e)}))),Wc.apply(this,arguments)}var Kc=function(e){Na(n,e);var t=Pa(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return Fa(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return fe(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=Ma(Oa().mark((function e(t){return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",Nc(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",zc(t,{email:this._email,oobCode:this._password}));case 5:Zu(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=Ma(Oa().mark((function e(t,n){return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",Ic(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",qc(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:Zu(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(xc);function Gc(e,t){return Hc.apply(this,arguments)}function Hc(){return Hc=Ma(Oa().mark((function e(t,n){return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",xs(t,"POST","/v1/accounts:signInWithIdp",ys(t,n)));case 1:case"end":return e.stop()}}),e)}))),Hc.apply(this,arguments)}var Qc=function(e){Na(n,e);var t=Pa(n);function n(){var e;return Fa(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return fe(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return Gc(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,Gc(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,Gc(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=so(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Zu("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=Ou(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(xc);function $c(e,t){return Yc.apply(this,arguments)}function Yc(){return Yc=Ma(Oa().mark((function e(t,n){return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",gs(t,"POST","/v1/accounts:sendVerificationCode",ys(t,n)));case 1:case"end":return e.stop()}}),e)}))),Yc.apply(this,arguments)}function Jc(){return Jc=Ma(Oa().mark((function e(t,n){return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",xs(t,"POST","/v1/accounts:signInWithPhoneNumber",ys(t,n)));case 1:case"end":return e.stop()}}),e)}))),Jc.apply(this,arguments)}function Xc(){return Xc=Ma(Oa().mark((function e(t,n){var r;return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xs(t,"POST","/v1/accounts:signInWithPhoneNumber",ys(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw _s(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)}))),Xc.apply(this,arguments)}var Zc=Rr({},"USER_NOT_FOUND","user-not-found");function el(){return el=Ma(Oa().mark((function e(t,n){var r;return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",xs(t,"POST","/v1/accounts:signInWithPhoneNumber",ys(t,r),Zc));case 2:case"end":return e.stop()}}),e)}))),el.apply(this,arguments)}var tl=function(e){Na(n,e);var t=Pa(n);function n(e){var r;return Fa(this,n),(r=t.call(this,"phone","phone")).params=e,r}return fe(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return Jc.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return Xc.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return el.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(xc);var nl=function(){function e(t){var n,r,i,a,o,u;Fa(this,e);var s=co(lo(t)),c=null!==(n=s.apiKey)&&void 0!==n?n:null,l=null!==(r=s.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=s.mode)&&void 0!==i?i:null);is(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=s.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=s.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(u=s.tenantId)&&void 0!==u?u:null}return fe(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=co(lo(e)).link,n=t?co(lo(t)).deep_link_id:null,r=co(lo(e)).deep_link_id;return(r?co(lo(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(JA){return null}}}]),e}();var rl=function(){function e(){Fa(this,e),this.providerId=e.PROVIDER_ID}return fe(e,null,[{key:"credential",value:function(e,t){return Kc._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=nl.parseLink(t);return is(n,"argument-error"),Kc._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();rl.PROVIDER_ID="password",rl.EMAIL_PASSWORD_SIGN_IN_METHOD="password",rl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var il=function(){function e(t){Fa(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return fe(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),al=function(e){Na(n,e);var t=Pa(n);function n(){var e;return Fa(this,n),(e=t.apply(this,arguments)).scopes=[],e}return fe(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return ln(this.scopes)}}]),n}(il),ol=function(e){Na(n,e);var t=Pa(n);function n(){return Fa(this,n),t.apply(this,arguments)}return fe(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return is(e.idToken||e.accessToken,"argument-error"),Qc._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return is("providerId"in t&&"signInMethod"in t,"argument-error"),Qc._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,u=t.nonce,s=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!s)return null;try{return new n(s)._credential({idToken:r,accessToken:i,nonce:u,pendingToken:o})}catch(c){return null}}}]),n}(al),ul=function(e){Na(n,e);var t=Pa(n);function n(){return Fa(this,n),t.call(this,"facebook.com")}return fe(n,null,[{key:"credential",value:function(e){return Qc._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(JA){return null}}}]),n}(al);ul.FACEBOOK_SIGN_IN_METHOD="facebook.com",ul.PROVIDER_ID="facebook.com";var sl=function(e){Na(n,e);var t=Pa(n);function n(){var e;return Fa(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return fe(n,null,[{key:"credential",value:function(e,t){return Qc._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(JA){return null}}}]),n}(al);sl.GOOGLE_SIGN_IN_METHOD="google.com",sl.PROVIDER_ID="google.com";var cl=function(e){Na(n,e);var t=Pa(n);function n(){return Fa(this,n),t.call(this,"github.com")}return fe(n,null,[{key:"credential",value:function(e){return Qc._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(JA){return null}}}]),n}(al);cl.GITHUB_SIGN_IN_METHOD="github.com",cl.PROVIDER_ID="github.com";var ll=function(e){Na(n,e);var t=Pa(n);function n(e,r){var i;return Fa(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return fe(n,[{key:"_getIdTokenResponse",value:function(e){return Gc(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,Gc(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,Gc(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(xc),fl=function(e){Na(n,e);var t=Pa(n);function n(e){return Fa(this,n),is(e.startsWith("saml."),"argument-error"),t.call(this,e)}return fe(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=ll.fromJSON(e);return is(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return ll._create(r,n)}catch(i){return null}}}]),n}(il),hl=function(e){Na(n,e);var t=Pa(n);function n(){return Fa(this,n),t.call(this,"twitter.com")}return fe(n,null,[{key:"credential",value:function(e,t){return Qc._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(JA){return null}}}]),n}(al);function dl(e,t){return pl.apply(this,arguments)}function pl(){return pl=Ma(Oa().mark((function e(t,n){return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",xs(t,"POST","/v1/accounts:signUp",ys(t,n)));case 1:case"end":return e.stop()}}),e)}))),pl.apply(this,arguments)}hl.TWITTER_SIGN_IN_METHOD="twitter.com",hl.PROVIDER_ID="twitter.com";var vl=function(){function e(t){Fa(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return fe(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=Ma(Oa().mark((function t(n,r,i){var a,o,u,s,c=arguments;return Oa().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,Js._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,u=ml(i),s=new e({user:o,providerId:u,_tokenResponse:i,operationType:r}),t.abrupt("return",s);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=Ma(Oa().mark((function t(n,r,i){var a;return Oa().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=ml(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function ml(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function yl(){return yl=Ma(Oa().mark((function e(t){var n,r,i,a;return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=yc(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new vl({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,dl(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,vl._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)}))),yl.apply(this,arguments)}var gl=function(e){Na(n,e);var t=Pa(n);function n(e,r,i,a){var o,u;return Fa(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(pe(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(u=e.tenantId)&&void 0!==u?u:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return fe(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(to);function bl(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw gl._fromErrorAndOperation(e,n,t,r);throw n}))}function kl(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function wl(e,t){return xl.apply(this,arguments)}function xl(){return xl=Ma(Oa().mark((function e(t,n){var r,i,a,o;return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=vo(t),e.next=3,Il(!0,r,n);case 3:return e.t0=Ns,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,o=kl(a||[]),r.providerData=r.providerData.filter((function(e){return o.has(e.providerId)})),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),xl.apply(this,arguments)}function El(e,t){return Sl.apply(this,arguments)}function Sl(){return Sl=Ma(Oa().mark((function e(t,n){var r,i,a=arguments;return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=Fs,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",vl._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),Sl.apply(this,arguments)}function Il(e,t,n){return _l.apply(this,arguments)}function _l(){return(_l=Ma(Oa().mark((function e(t,n,r){var i,a;return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Bs(n);case 2:i=kl(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",is(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Tl(e,t){return Cl.apply(this,arguments)}function Cl(){return Cl=Ma(Oa().mark((function e(t,n){var r,i,a,o,u,s,c,l=arguments;return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=l.length>2&&void 0!==l[2]&&l[2],a=t.auth,o="reauthenticate",e.prev=3,e.next=6,Fs(t,bl(a,o,n,t),r);case 6:return is((u=e.sent).idToken,a,"internal-error"),is(s=Ms(u.idToken),a,"internal-error"),c=s.sub,is(t.uid===c,a,"user-mismatch"),e.abrupt("return",vl._forOperation(t,o,u));case 15:throw e.prev=15,e.t0=e.catch(3),(null===(i=e.t0)||void 0===i?void 0:i.code)==="auth/".concat("user-not-found")&&Zu(a,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),Cl.apply(this,arguments)}function Nl(e,t){return Al.apply(this,arguments)}function Al(){return Al=Ma(Oa().mark((function e(t,n){var r,i,a,o,u=arguments;return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i="signIn",e.next=4,bl(t,i,n);case 4:return a=e.sent,e.next=7,vl._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),Al.apply(this,arguments)}function Rl(e,t){return Pl.apply(this,arguments)}function Pl(){return Pl=Ma(Oa().mark((function e(t,n){return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Nl(yc(t),n));case 1:case"end":return e.stop()}}),e)}))),Pl.apply(this,arguments)}function Dl(e,t){return Ol.apply(this,arguments)}function Ol(){return(Ol=Ma(Oa().mark((function e(t,n){var r;return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=vo(t),e.next=3,Il(!1,r,n.providerId);case 3:return e.abrupt("return",El(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ll(e,t){return Ml.apply(this,arguments)}function Ml(){return(Ml=Ma(Oa().mark((function e(t,n){return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Tl(vo(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Fl(e,t){return Vl.apply(this,arguments)}function Vl(){return Vl=Ma(Oa().mark((function e(t,n){return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",xs(t,"POST","/v1/accounts:signInWithCustomToken",ys(t,n)));case 1:case"end":return e.stop()}}),e)}))),Vl.apply(this,arguments)}function Ul(){return Ul=Ma(Oa().mark((function e(t,n){var r,i,a;return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=yc(t),e.next=3,Fl(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,vl._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)}))),Ul.apply(this,arguments)}var jl=function(){function e(t,n){Fa(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return fe(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?zl._fromServerResponse(e,t):Zu(e,"internal-error")}}]),e}(),zl=function(e){Na(n,e);var t=Pa(n);function n(e){var r;return Fa(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return fe(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(jl);function Bl(e,t,n){var r;is((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),is("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(is(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(is(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function ql(){return ql=Ma(Oa().mark((function e(t,n,r){var i,a;return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=vo(t),a={requestType:"PASSWORD_RESET",email:n},r&&Bl(i,a,r),e.next=5,Lc(i,a);case 5:case"end":return e.stop()}}),e)}))),ql.apply(this,arguments)}function Wl(){return Wl=Ma(Oa().mark((function e(t,n,r){return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ec(vo(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}}),e)}))),Wl.apply(this,arguments)}function Kl(){return Kl=Ma(Oa().mark((function e(t,n){return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Tc(vo(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)}))),Kl.apply(this,arguments)}function Gl(e,t){return Hl.apply(this,arguments)}function Hl(){return Hl=Ma(Oa().mark((function e(t,n){var r,i,a,o;return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=vo(t),e.next=3,Ec(r,{oobCode:n});case 3:i=e.sent,is(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return is(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:is(i.mfaInfo,r,"internal-error");case 13:is(i.email,r,"internal-error");case 14:return o=null,i.mfaInfo&&(o=jl._fromServerResponse(yc(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:a});case 17:case"end":return e.stop()}}),e)}))),Hl.apply(this,arguments)}function Ql(){return Ql=Ma(Oa().mark((function e(t,n){var r,i;return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Gl(vo(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)}))),Ql.apply(this,arguments)}function $l(e,t,n){return Yl.apply(this,arguments)}function Yl(){return Yl=Ma(Oa().mark((function e(t,n,r){var i,a,o;return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=yc(t),e.next=3,dl(i,{returnSecureToken:!0,email:n,password:r});case 3:return a=e.sent,e.next=6,vl._fromIdTokenResponse(i,"signIn",a);case 6:return o=e.sent,e.next=9,i._updateCurrentUser(o.user);case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)}))),Yl.apply(this,arguments)}function Jl(){return Jl=Ma(Oa().mark((function e(t,n,r){var i,a;return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=vo(t),a={requestType:"EMAIL_SIGNIN",email:n},is(r.handleCodeInApp,i,"argument-error"),r&&Bl(i,a,r),e.next=6,Fc(i,a);case 6:case"end":return e.stop()}}),e)}))),Jl.apply(this,arguments)}function Xl(){return Xl=Ma(Oa().mark((function e(t,n,r){var i,a;return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=vo(t),is((a=rl.credentialWithLink(n,r||cs()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",Rl(i,a));case 4:case"end":return e.stop()}}),e)}))),Xl.apply(this,arguments)}function Zl(e,t){return ef.apply(this,arguments)}function ef(){return ef=Ma(Oa().mark((function e(t,n){return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",gs(t,"POST","/v1/accounts:createAuthUri",ys(t,n)));case 1:case"end":return e.stop()}}),e)}))),ef.apply(this,arguments)}function tf(){return tf=Ma(Oa().mark((function e(t,n){var r,i,a,o;return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ls()?cs():"http://localhost",i={identifier:n,continueUri:r},e.next=4,Zl(vo(t),i);case 4:return a=e.sent,o=a.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}}),e)}))),tf.apply(this,arguments)}function nf(){return(nf=Ma(Oa().mark((function e(t,n){var r,i,a,o;return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=vo(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&Bl(r.auth,a,n),e.next=8,Dc(r.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function rf(){return(rf=Ma(Oa().mark((function e(t,n,r){var i,a,o,u;return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=vo(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&Bl(i.auth,o,r),e.next=8,Uc(i.auth,o);case 8:if(u=e.sent,u.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function af(e,t){return of.apply(this,arguments)}function of(){return of=Ma(Oa().mark((function e(t,n){return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",gs(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),of.apply(this,arguments)}function uf(){return(uf=Ma(Oa().mark((function e(t,n){var r,i,a,o,u,s,c;return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=vo(t),e.next=6,a.getIdToken();case 6:return o=e.sent,u={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,Fs(a,af(a.auth,u));case 10:return s=e.sent,a.displayName=s.displayName||null,a.photoURL=s.photoUrl||null,(c=a.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(s);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function sf(e,t,n){return cf.apply(this,arguments)}function cf(){return cf=Ma(Oa().mark((function e(t,n,r){var i,a,o,u;return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,Fs(t,Ic(i,o));case 9:return u=e.sent,e.next=12,t._updateTokensIfNecessary(u,!0);case 12:case"end":return e.stop()}}),e)}))),cf.apply(this,arguments)}var lf=fe((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Fa(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),ff=function(e){Na(n,e);var t=Pa(n);function n(e,r,i,a){var o;return Fa(this,n),(o=t.call(this,e,r,i)).username=a,o}return fe(n)}(lf),hf=function(e){Na(n,e);var t=Pa(n);function n(e,r){return Fa(this,n),t.call(this,e,"facebook.com",r)}return fe(n)}(lf),df=function(e){Na(n,e);var t=Pa(n);function n(e,r){return Fa(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return fe(n)}(ff),pf=function(e){Na(n,e);var t=Pa(n);function n(e,r){return Fa(this,n),t.call(this,e,"google.com",r)}return fe(n)}(lf),vf=function(e){Na(n,e);var t=Pa(n);function n(e,r,i){return Fa(this,n),t.call(this,e,"twitter.com",r,i)}return fe(n)}(ff);function mf(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=Ms(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new lf(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new hf(a,i);case"github.com":return new df(a,i);case"google.com":return new pf(a,i);case"twitter.com":return new vf(a,i,e.screenName||null);case"custom":case"anonymous":return new lf(a,null);default:return new lf(a,r,i)}}(n)}var yf=function(){function e(t,n){Fa(this,e),this.type=t,this.credential=n}return fe(e,[{key:"toJSON",value:function(){return{multiFactorSession:Rr({},"enroll"===this.type?"idToken":"pendingCredential",this.credential)}}}],[{key:"_fromIdtoken",value:function(t){return new e("enroll",t)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),gf=function(){function e(t,n,r){Fa(this,e),this.session=t,this.hints=n,this.signInResolver=r}return fe(e,[{key:"resolveSignIn",value:function(){var e=Ma(Oa().mark((function e(t){var n;return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=yc(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map((function(e){return jl._fromServerResponse(r,e)}));is(i.mfaPendingCredential,r,"internal-error");var o=yf._fromMfaPendingCredential(i.mfaPendingCredential);return new e(o,a,function(){var e=Ma(Oa().mark((function e(t){var a,u,s;return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,o);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,u=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,vl._fromIdTokenResponse(r,n.operationType,u);case 11:return s=e.sent,e.next=14,r._updateCurrentUser(s.user);case 14:return e.abrupt("return",s);case 15:return is(n.user,r,"internal-error"),e.abrupt("return",vl._forOperation(n.user,n.operationType,u));case 17:Zu(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function bf(e,t){return gs(e,"POST","/v2/accounts/mfaEnrollment:start",ys(e,t))}function kf(e,t){return gs(e,"POST","/v2/accounts/mfaEnrollment:withdraw",ys(e,t))}var wf=function(){function e(t){var n=this;Fa(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return jl._fromServerResponse(t.auth,e)})))}))}return fe(e,[{key:"getSession",value:function(){var e=Ma(Oa().mark((function e(){return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=yf,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=Ma(Oa().mark((function e(t,n){var r,i,a;return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,Fs(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=Ma(Oa().mark((function e(t){var n,r,i,a;return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return i=e.sent,e.next=6,Fs(this.user,kf(this.user.auth,{idToken:i,mfaEnrollmentId:r}));case 6:return a=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==r})),e.next=10,this.user._updateTokensIfNecessary(a);case 10:return e.prev=10,e.next=13,this.user.reload();case 13:e.next=19;break;case 15:if(e.prev=15,e.t0=e.catch(10),(null===(n=e.t0)||void 0===n?void 0:n.code)==="auth/".concat("user-token-expired")){e.next=19;break}throw e.t0;case 19:case"end":return e.stop()}}),e,this,[[10,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),xf=new WeakMap;var Ef="__sak",Sf=function(){function e(t,n){Fa(this,e),this.storageRetriever=t,this.type=n}return fe(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(Ef,"1"),this.storage.removeItem(Ef),Promise.resolve(!0)):Promise.resolve(!1)}catch(JA){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var If=function(e){Na(n,e);var t=Pa(n);function n(){var e;return Fa(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=Qa();return ic(e)||lc(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=dc(),e._shouldAllowMigration=!0,e}return fe(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);hc()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=Ma(Oa().mark((function e(t,r){return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ca(_a(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Ma(Oa().mark((function e(t){var r;return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ca(_a(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Ma(Oa().mark((function e(t){return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ca(_a(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(Sf);If.type="LOCAL";var _f=If,Tf=function(e){Na(n,e);var t=Pa(n);function n(){return Fa(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return fe(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(Sf);Tf.type="SESSION";var Cf=Tf;function Nf(e){return Promise.all(e.map(function(){var e=Ma(Oa().mark((function e(t){var n;return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var Af=function(){function e(t){Fa(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return fe(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=Ma(Oa().mark((function e(t){var n,r,i,a,o,u,s,c;return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(u=this.handlersMap[a])||void 0===u?void 0:u.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),s=Array.from(u).map(function(){var e=Ma(Oa().mark((function e(t){return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,Nf(s);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function Rf(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Af.receivers=[];var Pf=function(){function e(t){Fa(this,e),this.target=t,this.handlers=new Set}return fe(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=Ma(Oa().mark((function e(t,n){var r,i,a,o,u=this,s=arguments;return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=s.length>2&&void 0!==s[2]?s[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,s){var c=Rf("",20);i.port1.start();var l=setTimeout((function(){s(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){s(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),s(new Error("invalid_response"))}}},u.handlers.add(o),i.port1.addEventListener("message",o.onMessage),u.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&u.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function Df(){return window}function Of(){return"undefined"!==typeof Df().WorkerGlobalScope&&"function"===typeof Df().importScripts}function Lf(){return Mf.apply(this,arguments)}function Mf(){return(Mf=Ma(Oa().mark((function e(){var t;return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function Ff(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var Vf="firebaseLocalStorageDb",Uf="firebaseLocalStorage",jf="fbase_key",zf=function(){function e(t){Fa(this,e),this.request=t}return fe(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function Bf(e,t){return e.transaction([Uf],t?"readwrite":"readonly").objectStore(Uf)}function qf(){var e=indexedDB.deleteDatabase(Vf);return new zf(e).toPromise()}function Wf(){var e=indexedDB.open(Vf,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(Uf,{keyPath:jf})}catch(r){n(r)}})),e.addEventListener("success",Ma(Oa().mark((function n(){var r;return Oa().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(Uf)){n.next=12;break}return r.close(),n.next=5,qf();case 5:return n.t0=t,n.next=8,Wf();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function Kf(e,t,n){return Gf.apply(this,arguments)}function Gf(){return Gf=Ma(Oa().mark((function e(t,n,r){var i,a;return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Bf(t,!0).put((Rr(i={},jf,n),Rr(i,"value",r),i)),e.abrupt("return",new zf(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),Gf.apply(this,arguments)}function Hf(e,t){return Qf.apply(this,arguments)}function Qf(){return Qf=Ma(Oa().mark((function e(t,n){var r,i;return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Bf(t,!1).get(n),e.next=3,new zf(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),Qf.apply(this,arguments)}function $f(e,t){var n=Bf(e,!0).delete(t);return new zf(n).toPromise()}var Yf=function(){function e(){Fa(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return fe(e,[{key:"_openDb",value:function(){var e=Ma(Oa().mark((function e(){return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,Wf();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=Ma(Oa().mark((function e(t){var n,r;return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=Ma(Oa().mark((function e(){return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Of()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=Ma(Oa().mark((function e(){var t=this;return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=Af._getInstance(Of()?self:null),this.receiver._subscribe("keyChanged",function(){var e=Ma(Oa().mark((function e(n,r){var i;return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=Ma(Oa().mark((function e(t,n){return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=Ma(Oa().mark((function e(){var t,n,r;return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Lf();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new Pf(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=Ma(Oa().mark((function e(t){return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&Ff()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=Ma(Oa().mark((function e(){var t;return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,Wf();case 5:return t=e.sent,e.next=8,Kf(t,Ef,"1");case 8:return e.next=10,$f(t,Ef);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=Ma(Oa().mark((function e(t){return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Ma(Oa().mark((function e(t,n){var r=this;return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Ma(Oa().mark((function e(){return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return Kf(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Ma(Oa().mark((function e(t){var n;return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return Hf(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Ma(Oa().mark((function e(t){var n=this;return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Ma(Oa().mark((function e(){return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return $f(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=Ma(Oa().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f;return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=Bf(e,!1).getAll();return new zf(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=Da(t);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.fbase_key,s=o.value,r.add(u),JSON.stringify(this.localCache[u])!==JSON.stringify(s)&&(this.notifyListeners(u,s),n.push(u))}catch(h){i.e(h)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(Ma(Oa().mark((function t(){return Oa().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();Yf.type="LOCAL";var Jf=Yf;function Xf(e,t){return gs(e,"POST","/v2/accounts/mfaSignIn:start",ys(e,t))}function Zf(e){return eh.apply(this,arguments)}function eh(){return eh=Ma(Oa().mark((function e(t){return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,gs(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)}))),eh.apply(this,arguments)}function th(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=es("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function nh(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var rh=1e12,ih=function(){function e(t){Fa(this,e),this.auth=t,this.counter=rh,this._widgets=new Map}return fe(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new ah(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||rh;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||rh;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=Ma(Oa().mark((function e(t){var n,r;return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||rh,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),ah=function(){function e(t,n,r){var i=this;Fa(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;is(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return fe(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(i){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(i){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var oh=nh("rcb"),uh=new hs(3e4,6e4),sh="https://www.google.com/recaptcha/api.js?",ch=function(){function e(){Fa(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Df().grecaptcha}return fe(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return is(lh(n),e,"argument-error"),this.shouldResolveImmediately(n)?Promise.resolve(Df().grecaptcha):new Promise((function(r,i){var a=Df().setTimeout((function(){i(es(e,"network-request-failed"))}),uh.get());Df()[oh]=function(){Df().clearTimeout(a),delete Df()[oh];var o=Df().grecaptcha;if(o){var u=o.render;o.render=function(e,n){var r=u(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(es(e,"internal-error"))},th("".concat(sh,"?").concat(so({onload:oh,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i(es(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){return!!Df().grecaptcha&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();function lh(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}var fh=function(){function e(){Fa(this,e)}return fe(e,[{key:"load",value:function(){var e=Ma(Oa().mark((function e(t){return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new ih(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),hh="recaptcha",dh={theme:"light",type:"image"},ph=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},dh),r=arguments.length>2?arguments[2]:void 0;Fa(this,e),this.parameters=n,this.type=hh,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=yc(r),this.isInvisible="invisible"===this.parameters.size,is("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof t?document.getElementById(t):t;is(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new fh:new ch,this.validateStartingState()}return fe(e,[{key:"verify",value:function(){var e=Ma(Oa().mark((function e(){var t,n,r,i=this;return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){is(!this.parameters.sitekey,this.auth,"argument-error"),is(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),is("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=Df()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){is(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=Ma(Oa().mark((function e(){var t,n;return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=Ma(Oa().mark((function e(){var t;return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return is(ls()&&!Of(),this.auth,"internal-error"),e.next=3,vh();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,Zf(this.auth);case 8:is(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return is(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function vh(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var mh=function(){function e(t,n){Fa(this,e),this.verificationId=t,this.onConfirmation=n}return fe(e,[{key:"confirm",value:function(e){var t=tl._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function yh(){return yh=Ma(Oa().mark((function e(t,n,r){var i,a;return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=yc(t),e.next=3,wh(i,n,vo(r));case 3:return a=e.sent,e.abrupt("return",new mh(a,(function(e){return Rl(i,e)})));case 5:case"end":return e.stop()}}),e)}))),yh.apply(this,arguments)}function gh(e,t,n){return bh.apply(this,arguments)}function bh(){return(bh=Ma(Oa().mark((function e(t,n,r){var i,a;return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=vo(t),e.next=3,Il(!1,i,"phone");case 3:return e.next=5,wh(i.auth,n,vo(r));case 5:return a=e.sent,e.abrupt("return",new mh(a,(function(e){return Dl(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function kh(){return(kh=Ma(Oa().mark((function e(t,n,r){var i,a;return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=vo(t),e.next=3,wh(i.auth,n,vo(r));case 3:return a=e.sent,e.abrupt("return",new mh(a,(function(e){return Ll(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function wh(e,t,n){return xh.apply(this,arguments)}function xh(){return xh=Ma(Oa().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,is("string"===typeof a,t,"argument-error"),is(r.type===hh,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(u=o.session,!("phoneNumber"in o)){e.next=17;break}return is("enroll"===u.type,t,"internal-error"),e.next=13,bf(t,{idToken:u.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return s=e.sent,e.abrupt("return",s.phoneSessionInfo.sessionInfo);case 17:return is("signin"===u.type,t,"internal-error"),is(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,Xf(t,{mfaPendingCredential:u.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,$c(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),xh.apply(this,arguments)}function Eh(){return(Eh=Ma(Oa().mark((function e(t,n){return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,El(vo(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Sh=function(){function e(t){Fa(this,e),this.providerId=e.PROVIDER_ID,this.auth=yc(t)}return fe(e,[{key:"verifyPhoneNumber",value:function(e,t){return wh(this.auth,e,vo(t))}}],[{key:"credential",value:function(e,t){return tl._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?tl._fromTokenResponse(n,r):null}}]),e}();function Ih(e,t){return t?ss(t):(is(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Sh.PROVIDER_ID="phone",Sh.PHONE_SIGN_IN_METHOD="phone";var _h=function(e){Na(n,e);var t=Pa(n);function n(e){var r;return Fa(this,n),(r=t.call(this,"custom","custom")).params=e,r}return fe(n,[{key:"_getIdTokenResponse",value:function(e){return Gc(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return Gc(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return Gc(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(xc);function Th(e){return Nl(e.auth,new _h(e),e.bypassAuthState)}function Ch(e){var t=e.auth,n=e.user;return is(n,t,"internal-error"),Tl(n,new _h(e),e.bypassAuthState)}function Nh(e){return Ah.apply(this,arguments)}function Ah(){return Ah=Ma(Oa().mark((function e(t){var n,r;return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,is(r=t.user,n,"internal-error"),e.abrupt("return",El(r,new _h(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)}))),Ah.apply(this,arguments)}var Rh=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];Fa(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return fe(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=Ma(Oa().mark((function t(n,r){return Oa().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=Ma(Oa().mark((function e(t){var n,r,i,a,o,u,s;return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,u=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return s={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(u)(s);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Th;case"linkViaPopup":case"linkViaRedirect":return Nh;case"reauthViaPopup":case"reauthViaRedirect":return Ch;default:Zu(this.auth,"internal-error")}}},{key:"resolve",value:function(e){os(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){os(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),Ph=new hs(2e3,1e4);function Dh(e,t,n){return Oh.apply(this,arguments)}function Oh(){return Oh=Ma(Oa().mark((function e(t,n,r){var i,a,o;return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=yc(t),ns(t,n,il),a=Ih(i,r),o=new Vh(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),Oh.apply(this,arguments)}function Lh(){return(Lh=Ma(Oa().mark((function e(t,n,r){var i,a,o;return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ns((i=vo(t)).auth,n,il),a=Ih(i.auth,r),o=new Vh(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Mh(e,t,n){return Fh.apply(this,arguments)}function Fh(){return(Fh=Ma(Oa().mark((function e(t,n,r){var i,a,o;return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ns((i=vo(t)).auth,n,il),a=Ih(i.auth,r),o=new Vh(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Vh=function(e){Na(n,e);var t=Pa(n);function n(e,r,i,a,o){var u;return Fa(this,n),(u=t.call(this,e,r,a,o)).provider=i,u.authWindow=null,u.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=pe(u),u}return fe(n,[{key:"executeNotNull",value:function(){var e=Ma(Oa().mark((function e(){var t;return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return is(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Ma(Oa().mark((function e(){var t,n=this;return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return os(1===this.filter.length,"Popup operations only handle one event"),t=Rf(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(es(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(es(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(es(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,Ph.get())}()}}]),n}(Rh);Vh.currentPopupAction=null;var Uh=new Map,jh=function(e){Na(n,e);var t=Pa(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Fa(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return fe(n,[{key:"execute",value:function(){var e=Ma(Oa().mark((function e(){var t,r;return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Uh.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,zh(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,Ca(_a(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:Uh.set(this.auth._key(),t);case 21:return this.bypassAuthState||Uh.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=Ma(Oa().mark((function e(t){var r;return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",Ca(_a(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",Ca(_a(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Ma(Oa().mark((function e(){return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(Rh);function zh(e,t){return Bh.apply(this,arguments)}function Bh(){return Bh=Ma(Oa().mark((function e(t,n){var r,i,a;return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Hh(n),i=Gh(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),Bh.apply(this,arguments)}function qh(e,t){return Wh.apply(this,arguments)}function Wh(){return Wh=Ma(Oa().mark((function e(t,n){return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Gh(t)._set(Hh(n),"true"));case 1:case"end":return e.stop()}}),e)}))),Wh.apply(this,arguments)}function Kh(e,t){Uh.set(e._key(),t)}function Gh(e){return ss(e._redirectPersistence)}function Hh(e){return ec("pendingRedirect",e.config.apiKey,e.name)}function Qh(e,t,n){return function(e,t,n){return $h.apply(this,arguments)}(e,t,n)}function $h(){return $h=Ma(Oa().mark((function e(t,n,r){var i,a;return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=yc(t),ns(t,n,il),a=Ih(i,r),e.next=5,qh(a,i);case 5:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 6:case"end":return e.stop()}}),e)}))),$h.apply(this,arguments)}function Yh(e,t,n){return function(e,t,n){return Jh.apply(this,arguments)}(e,t,n)}function Jh(){return(Jh=Ma(Oa().mark((function e(t,n,r){var i,a,o;return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ns((i=vo(t)).auth,n,il),a=Ih(i.auth,r),e.next=5,qh(a,i.auth);case 5:return e.next=7,id(i);case 7:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",o));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Xh(e,t,n){return function(e,t,n){return Zh.apply(this,arguments)}(e,t,n)}function Zh(){return(Zh=Ma(Oa().mark((function e(t,n,r){var i,a,o;return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ns((i=vo(t)).auth,n,il),a=Ih(i.auth,r),e.next=5,Il(!1,i,n.providerId);case 5:return e.next=7,qh(a,i.auth);case 7:return e.next=9,id(i);case 9:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",o));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ed(e,t){return td.apply(this,arguments)}function td(){return td=Ma(Oa().mark((function e(t,n){return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,yc(t)._initializationPromise;case 2:return e.abrupt("return",nd(t,n,!1));case 3:case"end":return e.stop()}}),e)}))),td.apply(this,arguments)}function nd(e,t){return rd.apply(this,arguments)}function rd(){return rd=Ma(Oa().mark((function e(t,n){var r,i,a,o,u,s=arguments;return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i=yc(t),a=Ih(i,n),o=new jh(i,a,r),e.next=6,o.execute();case 6:if(!(u=e.sent)||r){e.next=13;break}return delete u.user._redirectEventId,e.next=11,i._persistUserIfCurrent(u.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",u);case 14:case"end":return e.stop()}}),e)}))),rd.apply(this,arguments)}function id(e){return ad.apply(this,arguments)}function ad(){return(ad=Ma(Oa().mark((function e(t){var n;return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Rf("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var od=function(){function e(t){Fa(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return fe(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return sd(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!sd(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(es(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ud(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(ud(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function ud(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function sd(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function cd(e){return ld.apply(this,arguments)}function ld(){return ld=Ma(Oa().mark((function e(t){var n,r=arguments;return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",gs(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),ld.apply(this,arguments)}var fd=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,hd=/^https?/;function dd(){return dd=Ma(Oa().mark((function e(t){var n,r,i,a,o;return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,cd(t);case 4:n=e.sent,r=n.authorizedDomains,i=Da(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!pd(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:Zu(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])}))),dd.apply(this,arguments)}function pd(e){var t=cs(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!hd.test(r))return!1;if(fd.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var vd=new hs(3e4,6e4);function md(){var e=Df().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=ln(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var yd=null;function gd(e){return yd=yd||function(e){return new Promise((function(t,n){var r,i,a;function o(){md(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){md(),n(es(e,"network-request-failed"))},timeout:vd.get()})}if(null===(i=null===(r=Df().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=Df().gapi)||void 0===a?void 0:a.load)){var u=nh("iframefcb");return Df()[u]=function(){gapi.load?o():n(es(e,"network-request-failed"))},th("https://apis.google.com/js/api.js?onload=".concat(u)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw yd=null,e}))}(e),yd}var bd=new hs(5e3,15e3),kd={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},wd=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function xd(e){var t=e.config;is(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?ds(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:fu},i=wd.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(so(r).slice(1))}function Ed(e){return Sd.apply(this,arguments)}function Sd(){return Sd=Ma(Oa().mark((function e(t){var n,r;return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,gd(t);case 2:return n=e.sent,is(r=Df().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:xd(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:kd,dontclear:!0},(function(e){return new Promise(function(){var n=Ma(Oa().mark((function n(r,i){var a,o,u;return Oa().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u=function(){Df().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=es(t,"network-request-failed"),o=Df().setTimeout((function(){i(a)}),bd.get()),e.ping(u).then(u,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),Sd.apply(this,arguments)}var Id={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},_d="_blank",Td="http://localhost",Cd=function(){function e(t){Fa(this,e),this.window=t,this.associatedEvent=null}return fe(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function Nd(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),u="",s=Object.assign(Object.assign({},Id),{width:r.toString(),height:i.toString(),top:a,left:o}),c=Qa().toLowerCase();n&&(u=ac(c)?_d:n),rc(c)&&(t=t||Td,s.scrollbars="yes");var f=Object.entries(s).reduce((function(e,t){var n=l(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(fc(c)&&"_self"!==u)return Ad(t||"",u),new Cd(null);var h=window.open(t||"",u,f);is(h,e,"popup-blocked");try{h.focus()}catch(d){}return new Cd(h)}function Ad(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var Rd="__/auth/handler",Pd="emulator/auth/handler";function Dd(e,t,n,r,i,a){is(e.config.authDomain,e,"auth-domain-config-required"),is(e.config.apiKey,e,"invalid-api-key");var o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:fu,eventId:i};if(t instanceof il){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(var u=0,s=Object.entries(a||{});u<s.length;u++){var c=l(s[u],2),f=c[0],h=c[1];o[f]=h}}if(t instanceof al){var d=t.getScopes().filter((function(e){return""!==e}));d.length>0&&(o.scopes=d.join(","))}e.tenantId&&(o.tid=e.tenantId);for(var p=o,v=0,m=Object.keys(p);v<m.length;v++){var y=m[v];void 0===p[y]&&delete p[y]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(Rd);return ds(t,Pd)}(e),"?").concat(so(p).slice(1))}var Od="webStorageSupport",Ld=function(){function e(){Fa(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Cf,this._completeRedirectFn=nd,this._overrideRedirectResult=Kh}return fe(e,[{key:"_openPopup",value:function(){var e=Ma(Oa().mark((function e(t,n,r,i){var a,o;return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return os(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),o=Dd(t,n,r,cs(),i),e.abrupt("return",Nd(t,o,Rf()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Ma(Oa().mark((function e(t,n,r,i){return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=Dd(t,n,r,cs(),i),Df().location.href=a,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var a}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(os(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=Ma(Oa().mark((function e(t){var n,r;return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ed(t);case 2:return n=e.sent,r=new od(t),n.register("authEvent",(function(e){return is(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(Od,{type:Od},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),Zu(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return dd.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return dc()||ic()||lc()}}]),e}(),Md=Ld,Fd=function(){function e(t){Fa(this,e),this.factorId=t}return fe(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return as("unexpected MultiFactorSessionType")}}}]),e}(),Vd=function(e){Na(n,e);var t=Pa(n);function n(e){var r;return Fa(this,n),(r=t.call(this,"phone")).credential=e,r}return fe(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return gs(e,"POST","/v2/accounts/mfaEnrollment:finalize",ys(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return gs(e,"POST","/v2/accounts/mfaSignIn:finalize",ys(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(Fd),Ud=function(){function e(){Fa(this,e)}return fe(e,null,[{key:"assertion",value:function(e){return Vd._fromCredential(e)}}]),e}();Ud.FACTOR_ID="phone";var jd,zd="@firebase/auth",Bd="0.20.4",qd=function(){function e(t){Fa(this,e),this.auth=t,this.internalListeners=new Map}return fe(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=Ma(Oa().mark((function e(t){var n;return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){is(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();function Wd(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{s(r.next(e))}catch(t){a(t)}}function u(e){try{s(r.throw(e))}catch(t){a(t)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,u)}s((r=r.apply(e,t||[])).next())}))}function Kd(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(u){a=[6,u],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}}jd="Browser",iu(new mo("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=r.options,o=a.apiKey,u=a.authDomain;return function(e,t){is(o&&!o.includes(":"),"invalid-api-key",{appName:e.name}),is(!(null===u||void 0===u?void 0:u.includes(":")),"argument-error",{appName:e.name});var r={apiKey:o,authDomain:u,clientPlatform:jd,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:pc(jd)},i=new mc(e,t,r);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ss);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(i,n),i}(r,i)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),iu(new mo("auth-internal",(function(e){return function(e){return new qd(e)}(yc(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),yu(zd,Bd,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(jd)),yu(zd,Bd,"esm2017");var Gd=function(){return Gd=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Gd.apply(this,arguments)},Hd=function(e){return{loading:void 0===e||null===e,value:e}},Qd=function(e){var t=e?e():void 0,n=(0,i.useReducer)((function(e,t){switch(t.type){case"error":return Gd(Gd({},e),{error:t.error,loading:!1,value:void 0});case"reset":return Hd(t.defaultValue);case"value":return Gd(Gd({},e),{error:void 0,loading:!1,value:t.value});default:return e}}),Hd(t)),r=n[0],a=n[1],o=function(){var t=e?e():void 0;a({type:"reset",defaultValue:t})},u=function(e){a({type:"error",error:e})},s=function(e){a({type:"value",value:e})};return(0,i.useMemo)((function(){return{error:r.error,loading:r.loading,reset:o,setError:u,setValue:s,value:r.value}}),[r.error,r.loading,o,u,s,r.value])},$d=function(e,t){var n=Qd((function(){return e.currentUser})),r=n.error,a=n.loading,o=n.setError,u=n.setValue,s=n.value;(0,i.useEffect)((function(){var n=function(e,t,n,r){return vo(e).onAuthStateChanged(t,n,r)}(e,(function(e){return Wd(void 0,void 0,void 0,(function(){var n;return Kd(this,(function(r){switch(r.label){case 0:if(!(null===t||void 0===t?void 0:t.onUserChanged))return[3,4];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,t.onUserChanged(e)];case 2:return r.sent(),[3,4];case 3:return n=r.sent(),o(n),[3,4];case 4:return u(e),[2]}}))}))}),o);return function(){n()}}),[e]);var c=[s,a,r];return(0,i.useMemo)((function(){return c}),c)},Yd=n.p+"static/media/no-avatar.f685659d27ab81eff47b.png",Jd=n(184),Xd=function(){var e=(0,i.useContext)(BO).auth,t=l($d(e),1)[0];return(0,Jd.jsx)(Di,{color:"primary",position:"static",children:(0,Jd.jsx)(Li,{variant:"dense",children:(0,Jd.jsxs)(zi,{container:!0,justifyContent:"flex-end",spacing:2,alignItems:"center",children:[t?(0,Jd.jsx)(ya,{onClick:function(){return e.signOut()},variant:"outlined",children:"\u0412\u044b\u0439\u0442\u0438"}):(0,Jd.jsx)(te,{to:Sa,children:(0,Jd.jsx)(ya,{variant:"outlined",children:"LOGIN"})}),(0,Jd.jsx)(Ea,{style:{marginLeft:10},xs:!0,src:t?t.photoURL:Yd})]})})})},Zd=i.forwardRef((function(e,t){var n=e.classes,r=e.className,a=e.component,o=void 0===a?"div":a,u=e.disableGutters,s=void 0!==u&&u,c=e.fixed,l=void 0!==c&&c,h=e.maxWidth,d=void 0===h?"lg":h,p=re(e,["classes","className","component","disableGutters","fixed","maxWidth"]);return i.createElement(o,f({className:ae(n.root,r,l&&n.fixed,s&&n.disableGutters,!1!==d&&n["maxWidth".concat(Ni(String(d)))]),ref:t},p))})),ep=Ci((function(e){return{root:Rr({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",paddingLeft:e.spacing(2),paddingRight:e.spacing(2),display:"block"},e.breakpoints.up("sm"),{paddingLeft:e.spacing(3),paddingRight:e.spacing(3)}),disableGutters:{paddingLeft:0,paddingRight:0},fixed:Object.keys(e.breakpoints.values).reduce((function(t,n){var r=e.breakpoints.values[n];return 0!==r&&(t[e.breakpoints.up(n)]={maxWidth:r}),t}),{}),maxWidthXs:Rr({},e.breakpoints.up("xs"),{maxWidth:Math.max(e.breakpoints.values.xs,444)}),maxWidthSm:Rr({},e.breakpoints.up("sm"),{maxWidth:e.breakpoints.values.sm}),maxWidthMd:Rr({},e.breakpoints.up("md"),{maxWidth:e.breakpoints.values.md}),maxWidthLg:Rr({},e.breakpoints.up("lg"),{maxWidth:e.breakpoints.values.lg}),maxWidthXl:Rr({},e.breakpoints.up("xl"),{maxWidth:e.breakpoints.values.xl})}}),{name:"MuiContainer"})(Zd);function tp(e,t){var n={};return Object.keys(e).forEach((function(r){-1===t.indexOf(r)&&(n[r]=e[r])})),n}function np(e){var t=function(t){var n=e(t);return t.css?f({},li(n,e(f({theme:t.theme},t.css))),tp(t.css,[e.filterProps])):t.sx?f({},li(n,e(f({theme:t.theme},t.sx))),tp(t.sx,[e.filterProps])):n};return t.propTypes={},t.filterProps=["css","sx"].concat(ln(e.filterProps)),t}var rp=np;var ip=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=function(e){return t.reduce((function(t,n){var r=n(e);return r?li(t,r):t}),{})};return r.propTypes={},r.filterProps=t.reduce((function(e,t){return e.concat(t.filterProps)}),[]),r};function ap(e,t){return t&&"string"===typeof t?t.split(".").reduce((function(e,t){return e&&e[t]?e[t]:null}),e):null}var op=function(e){var t=e.prop,n=e.cssProperty,r=void 0===n?e.prop:n,i=e.themeKey,a=e.transform,o=function(e){if(null==e[t])return null;var n=e[t],o=ap(e.theme,i)||{};return ci(e,n,(function(e){var t;return"function"===typeof o?t=o(e):Array.isArray(o)?t=o[e]||e:(t=ap(o,e)||e,a&&(t=a(t))),!1===r?t:Rr({},r,t)}))};return o.propTypes={},o.filterProps=[t],o};function up(e){return"number"!==typeof e?e:"".concat(e,"px solid")}var sp=ip(op({prop:"border",themeKey:"borders",transform:up}),op({prop:"borderTop",themeKey:"borders",transform:up}),op({prop:"borderRight",themeKey:"borders",transform:up}),op({prop:"borderBottom",themeKey:"borders",transform:up}),op({prop:"borderLeft",themeKey:"borders",transform:up}),op({prop:"borderColor",themeKey:"palette"}),op({prop:"borderRadius",themeKey:"shape"})),cp=ip(op({prop:"displayPrint",cssProperty:!1,transform:function(e){return{"@media print":{display:e}}}}),op({prop:"display"}),op({prop:"overflow"}),op({prop:"textOverflow"}),op({prop:"visibility"}),op({prop:"whiteSpace"})),lp=ip(op({prop:"flexBasis"}),op({prop:"flexDirection"}),op({prop:"flexWrap"}),op({prop:"justifyContent"}),op({prop:"alignItems"}),op({prop:"alignContent"}),op({prop:"order"}),op({prop:"flex"}),op({prop:"flexGrow"}),op({prop:"flexShrink"}),op({prop:"alignSelf"}),op({prop:"justifyItems"}),op({prop:"justifySelf"})),fp=ip(op({prop:"gridGap"}),op({prop:"gridColumnGap"}),op({prop:"gridRowGap"}),op({prop:"gridColumn"}),op({prop:"gridRow"}),op({prop:"gridAutoFlow"}),op({prop:"gridAutoColumns"}),op({prop:"gridAutoRows"}),op({prop:"gridTemplateColumns"}),op({prop:"gridTemplateRows"}),op({prop:"gridTemplateAreas"}),op({prop:"gridArea"})),hp=ip(op({prop:"position"}),op({prop:"zIndex",themeKey:"zIndex"}),op({prop:"top"}),op({prop:"right"}),op({prop:"bottom"}),op({prop:"left"})),dp=ip(op({prop:"color",themeKey:"palette"}),op({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette"})),pp=op({prop:"boxShadow",themeKey:"shadows"});function vp(e){return e<=1?"".concat(100*e,"%"):e}var mp=op({prop:"width",transform:vp}),yp=op({prop:"maxWidth",transform:vp}),gp=op({prop:"minWidth",transform:vp}),bp=op({prop:"height",transform:vp}),kp=op({prop:"maxHeight",transform:vp}),wp=op({prop:"minHeight",transform:vp}),xp=(op({prop:"size",cssProperty:"width",transform:vp}),op({prop:"size",cssProperty:"height",transform:vp}),ip(mp,yp,gp,bp,kp,wp,op({prop:"boxSizing"}))),Ep=ip(op({prop:"fontFamily",themeKey:"typography"}),op({prop:"fontSize",themeKey:"typography"}),op({prop:"fontStyle",themeKey:"typography"}),op({prop:"fontWeight",themeKey:"typography"}),op({prop:"letterSpacing"}),op({prop:"lineHeight"}),op({prop:"textAlign"}));function Sp(e,t){var n={};return Object.keys(e).forEach((function(r){-1===t.indexOf(r)&&(n[r]=e[r])})),n}var Ip=function(e){var t=function(e){return function(t){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=r.name,o=re(r,["name"]),u=a,s=_r("function"===typeof t?function(e){return{root:function(n){return t(f({theme:e},n))}}}:{root:t},f({Component:e,name:a||e.displayName,classNamePrefix:u},o));t.filterProps&&(n=t.filterProps,delete t.filterProps),t.propTypes&&(t.propTypes,delete t.propTypes);var c=i.forwardRef((function(t,r){var a=t.children,o=t.className,u=t.clone,c=t.component,l=re(t,["children","className","clone","component"]),h=s(t),d=ae(h.root,o),p=l;if(n&&(p=Sp(p,n)),u)return i.cloneElement(a,f({className:ae(a.props.className,d)},p));if("function"===typeof a)return a(f({className:d},p));var v=c||e;return i.createElement(v,f({ref:r,className:d},p),a)}));return ue()(c,e),c}}(e);return function(e,n){return t(e,f({defaultTheme:Ti},n))}},_p=rp(ip(sp,cp,lp,fp,hp,dp,pp,xp,bi,Ep)),Tp=Ip("div")(_p,{name:"MuiBox"});var Cp,Np=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return _r(e,f({defaultTheme:Ti},t))},Ap=Np((function(){return{gridContainer:{height:window.innerHeight-50}}})),Rp=function(){function e(t,n){var r=this;Fa(this,e),this._delegate=t,this.firebase=n,nu(t,new mo("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return fe(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),vu(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Xo;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Xo;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){nu(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){ru(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),Pp=(Rr(Cp={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),Rr(Cp,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),Cp),Dp=new no("app-compat","Firebase",Pp);var Op=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=hu(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(ao(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:yu,setLogLevel:bu,onLog:gu,apps:null,SDK_VERSION:fu,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(iu(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw Dp.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&Wa(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!ao(n,e=e||Xo))throw Dp.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(Rp);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){Wa(n,e)},createSubscribe:fo,ErrorFactory:no,deepExtend:Wa}),n}(),Lp=new To("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){Lp.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var Mp=self.firebase.SDK_VERSION;Mp&&Mp.indexOf("LITE")>=0&&Lp.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var Fp=Op;!function(e){yu("@firebase/app-compat","0.1.28",e)}();Fp.registerVersion("firebase","9.8.4","app-compat");var Vp=function(){var e=(0,i.useContext)(BO).auth,t=function(){var t=Ma(Oa().mark((function t(){var n,r;return Oa().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=new Fp.auth.GoogleAuthProvider,t.next=3,e.signInWithPopup(n);case 3:r=t.sent,console.log(r);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),n=Ap();return(0,Jd.jsx)(ep,{children:(0,Jd.jsx)(zi,{container:!0,className:n.gridContainer,alignItems:"center",justifyContent:"center",children:(0,Jd.jsx)(zi,{container:!0,alignItems:"center",direction:"column",children:(0,Jd.jsx)(Tp,{p:5,children:(0,Jd.jsx)(ya,{onClick:t,variant:"outlined",children:"\u0412\u043e\u0439\u0442\u0438 \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e Google"})})})})})};function Up(e){var t=e.props,n=e.states,r=e.muiFormControl;return n.reduce((function(e,n){return e[n]=t[n],r&&"undefined"===typeof t[n]&&(e[n]=r[n]),e}),{})}var jp=i.createContext();var zp=jp;function Bp(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function r(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];var o=this,u=function(){e.apply(o,i)};clearTimeout(t),t=setTimeout(u,n)}return r.clear=function(){clearTimeout(t)},r}function qp(e,t){return parseInt(e[t],10)||0}var Wp="undefined"!==typeof window?i.useLayoutEffect:i.useEffect,Kp={visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"},Gp=i.forwardRef((function(e,t){var n=e.onChange,r=e.rows,a=e.rowsMax,o=e.rowsMin,u=e.maxRows,s=e.minRows,c=void 0===s?1:s,l=e.style,h=e.value,d=re(e,["onChange","rows","rowsMax","rowsMin","maxRows","minRows","style","value"]),p=u||a,v=r||o||c,m=i.useRef(null!=h).current,y=i.useRef(null),g=Wi(t,y),b=i.useRef(null),k=i.useRef(0),w=i.useState({}),x=w[0],E=w[1],S=i.useCallback((function(){var t=y.current,n=window.getComputedStyle(t),r=b.current;r.style.width=n.width,r.value=t.value||e.placeholder||"x","\n"===r.value.slice(-1)&&(r.value+=" ");var i=n["box-sizing"],a=qp(n,"padding-bottom")+qp(n,"padding-top"),o=qp(n,"border-bottom-width")+qp(n,"border-top-width"),u=r.scrollHeight-a;r.value="x";var s=r.scrollHeight-a,c=u;v&&(c=Math.max(Number(v)*s,c)),p&&(c=Math.min(Number(p)*s,c));var l=(c=Math.max(c,s))+("border-box"===i?a+o:0),f=Math.abs(c-u)<=1;E((function(e){return k.current<20&&(l>0&&Math.abs((e.outerHeightStyle||0)-l)>1||e.overflow!==f)?(k.current+=1,{overflow:f,outerHeightStyle:l}):e}))}),[p,v,e.placeholder]);i.useEffect((function(){var e=Bp((function(){k.current=0,S()}));return window.addEventListener("resize",e),function(){e.clear(),window.removeEventListener("resize",e)}}),[S]),Wp((function(){S()})),i.useEffect((function(){k.current=0}),[h]);return i.createElement(i.Fragment,null,i.createElement("textarea",f({value:h,onChange:function(e){k.current=0,m||S(),n&&n(e)},ref:g,rows:v,style:f({height:x.outerHeightStyle,overflow:x.overflow?"hidden":null},l)},d)),i.createElement("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:b,tabIndex:-1,style:f({},Kp,l)}))})),Hp=Gp;function Qp(e){return null!=e&&!(Array.isArray(e)&&0===e.length)}function $p(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e&&(Qp(e.value)&&""!==e.value||t&&Qp(e.defaultValue)&&""!==e.defaultValue)}var Yp="undefined"===typeof window?i.useEffect:i.useLayoutEffect,Jp=i.forwardRef((function(e,t){var n=e["aria-describedby"],r=e.autoComplete,a=e.autoFocus,o=e.classes,u=e.className,s=(e.color,e.defaultValue),c=e.disabled,l=e.endAdornment,h=(e.error,e.fullWidth),d=void 0!==h&&h,p=e.id,v=e.inputComponent,m=void 0===v?"input":v,y=e.inputProps,g=void 0===y?{}:y,b=e.inputRef,k=(e.margin,e.multiline),w=void 0!==k&&k,x=e.name,E=e.onBlur,S=e.onChange,I=e.onClick,_=e.onFocus,T=e.onKeyDown,C=e.onKeyUp,N=e.placeholder,A=e.readOnly,R=e.renderSuffix,P=e.rows,D=e.rowsMax,O=e.rowsMin,L=e.maxRows,M=e.minRows,F=e.startAdornment,V=e.type,U=void 0===V?"text":V,j=e.value,z=re(e,["aria-describedby","autoComplete","autoFocus","classes","className","color","defaultValue","disabled","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","rowsMax","rowsMin","maxRows","minRows","startAdornment","type","value"]),B=null!=g.value?g.value:j,q=i.useRef(null!=B).current,W=i.useRef(),K=i.useCallback((function(e){0}),[]),G=Wi(g.ref,K),H=Wi(b,G),Q=Wi(W,H),$=i.useState(!1),Y=$[0],J=$[1],X=i.useContext(jp);var Z=Up({props:e,muiFormControl:X,states:["color","disabled","error","hiddenLabel","margin","required","filled"]});Z.focused=X?X.focused:Y,i.useEffect((function(){!X&&c&&Y&&(J(!1),E&&E())}),[X,c,Y,E]);var ee=X&&X.onFilled,te=X&&X.onEmpty,ne=i.useCallback((function(e){$p(e)?ee&&ee():te&&te()}),[ee,te]);Yp((function(){q&&ne({value:B})}),[B,ne,q]);i.useEffect((function(){ne(W.current)}),[]);var ie=m,oe=f({},g,{ref:Q});"string"!==typeof ie?oe=f({inputRef:Q,type:U},oe,{ref:null}):w?!P||L||M||D||O?(oe=f({minRows:P||M,rowsMax:D,maxRows:L},oe),ie=Hp):ie="textarea":oe=f({type:U},oe);return i.useEffect((function(){X&&X.setAdornedStart(Boolean(F))}),[X,F]),i.createElement("div",f({className:ae(o.root,o["color".concat(Ni(Z.color||"primary"))],u,Z.disabled&&o.disabled,Z.error&&o.error,d&&o.fullWidth,Z.focused&&o.focused,X&&o.formControl,w&&o.multiline,F&&o.adornedStart,l&&o.adornedEnd,"dense"===Z.margin&&o.marginDense),onClick:function(e){W.current&&e.currentTarget===e.target&&W.current.focus(),I&&I(e)},ref:t},z),F,i.createElement(zp.Provider,{value:null},i.createElement(ie,f({"aria-invalid":Z.error,"aria-describedby":n,autoComplete:r,autoFocus:a,defaultValue:s,disabled:Z.disabled,id:p,onAnimationStart:function(e){ne("mui-auto-fill-cancel"===e.animationName?W.current:{value:"x"})},name:x,placeholder:N,readOnly:A,required:Z.required,rows:P,value:B,onKeyDown:T,onKeyUp:C},oe,{className:ae(o.input,g.className,Z.disabled&&o.disabled,w&&o.inputMultiline,Z.hiddenLabel&&o.inputHiddenLabel,F&&o.inputAdornedStart,l&&o.inputAdornedEnd,"search"===U&&o.inputTypeSearch,"dense"===Z.margin&&o.inputMarginDense),onBlur:function(e){E&&E(e),g.onBlur&&g.onBlur(e),X&&X.onBlur?X.onBlur(e):J(!1)},onChange:function(e){if(!q){var t=e.target||W.current;if(null==t)throw new Error(Dr(1));ne({value:t.value})}for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];g.onChange&&g.onChange.apply(g,[e].concat(r)),S&&S.apply(void 0,[e].concat(r))},onFocus:function(e){Z.disabled?e.stopPropagation():(_&&_(e),g.onFocus&&g.onFocus(e),X&&X.onFocus?X.onFocus(e):J(!0))}}))),l,R?R(f({},Z,{startAdornment:F})):null)})),Xp=Ci((function(e){var t="light"===e.palette.type,n={color:"currentColor",opacity:t?.42:.5,transition:e.transitions.create("opacity",{duration:e.transitions.duration.shorter})},r={opacity:"0 !important"},i={opacity:t?.42:.5};return{"@global":{"@keyframes mui-auto-fill":{},"@keyframes mui-auto-fill-cancel":{}},root:f({},e.typography.body1,{color:e.palette.text.primary,lineHeight:"1.1876em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center","&$disabled":{color:e.palette.text.disabled,cursor:"default"}}),formControl:{},focused:{},disabled:{},adornedStart:{},adornedEnd:{},error:{},marginDense:{},multiline:{padding:"".concat(6,"px 0 ").concat(7,"px"),"&$marginDense":{paddingTop:3}},colorSecondary:{},fullWidth:{width:"100%"},input:{font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"".concat(6,"px 0 ").concat(7,"px"),border:0,boxSizing:"content-box",background:"none",height:"1.1876em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":n,"&::-moz-placeholder":n,"&:-ms-input-placeholder":n,"&::-ms-input-placeholder":n,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{"-webkit-appearance":"none"},"label[data-shrink=false] + $formControl &":{"&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&:-ms-input-placeholder":r,"&::-ms-input-placeholder":r,"&:focus::-webkit-input-placeholder":i,"&:focus::-moz-placeholder":i,"&:focus:-ms-input-placeholder":i,"&:focus::-ms-input-placeholder":i},"&$disabled":{opacity:1},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},inputMarginDense:{paddingTop:3},inputMultiline:{height:"auto",resize:"none",padding:0},inputTypeSearch:{"-moz-appearance":"textfield","-webkit-appearance":"textfield"},inputAdornedStart:{},inputAdornedEnd:{},inputHiddenLabel:{}}}),{name:"MuiInputBase"})(Jp),Zp=i.forwardRef((function(e,t){var n=e.disableUnderline,r=e.classes,a=e.fullWidth,o=void 0!==a&&a,u=e.inputComponent,s=void 0===u?"input":u,c=e.multiline,l=void 0!==c&&c,h=e.type,d=void 0===h?"text":h,p=re(e,["disableUnderline","classes","fullWidth","inputComponent","multiline","type"]);return i.createElement(Xp,f({classes:f({},r,{root:ae(r.root,!n&&r.underline),underline:null}),fullWidth:o,inputComponent:s,multiline:l,ref:t,type:d},p))}));Zp.muiName="Input";var ev=Ci((function(e){var t="light"===e.palette.type?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return{root:{position:"relative"},formControl:{"label + &":{marginTop:16}},focused:{},disabled:{},colorSecondary:{"&$underline:after":{borderBottomColor:e.palette.secondary.main}},underline:{"&:after":{borderBottom:"2px solid ".concat(e.palette.primary.main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},"&$focused:after":{transform:"scaleX(1)"},"&$error:after":{borderBottomColor:e.palette.error.main,transform:"scaleX(1)"},"&:before":{borderBottom:"1px solid ".concat(t),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},"&:hover:not($disabled):before":{borderBottom:"2px solid ".concat(e.palette.text.primary),"@media (hover: none)":{borderBottom:"1px solid ".concat(t)}},"&$disabled:before":{borderBottomStyle:"dotted"}},error:{},marginDense:{},multiline:{},fullWidth:{},input:{},inputMarginDense:{},inputMultiline:{},inputTypeSearch:{}}}),{name:"MuiInput"})(Zp),tv=i.forwardRef((function(e,t){var n=e.disableUnderline,r=e.classes,a=e.fullWidth,o=void 0!==a&&a,u=e.inputComponent,s=void 0===u?"input":u,c=e.multiline,l=void 0!==c&&c,h=e.type,d=void 0===h?"text":h,p=re(e,["disableUnderline","classes","fullWidth","inputComponent","multiline","type"]);return i.createElement(Xp,f({classes:f({},r,{root:ae(r.root,!n&&r.underline),underline:null}),fullWidth:o,inputComponent:s,multiline:l,ref:t,type:d},p))}));tv.muiName="Input";var nv=Ci((function(e){var t="light"===e.palette.type,n=t?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",r=t?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.09)";return{root:{position:"relative",backgroundColor:r,borderTopLeftRadius:e.shape.borderRadius,borderTopRightRadius:e.shape.borderRadius,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),"&:hover":{backgroundColor:t?"rgba(0, 0, 0, 0.13)":"rgba(255, 255, 255, 0.13)","@media (hover: none)":{backgroundColor:r}},"&$focused":{backgroundColor:t?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.09)"},"&$disabled":{backgroundColor:t?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)"}},colorSecondary:{"&$underline:after":{borderBottomColor:e.palette.secondary.main}},underline:{"&:after":{borderBottom:"2px solid ".concat(e.palette.primary.main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},"&$focused:after":{transform:"scaleX(1)"},"&$error:after":{borderBottomColor:e.palette.error.main,transform:"scaleX(1)"},"&:before":{borderBottom:"1px solid ".concat(n),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},"&:hover:before":{borderBottom:"1px solid ".concat(e.palette.text.primary)},"&$disabled:before":{borderBottomStyle:"dotted"}},focused:{},disabled:{},adornedStart:{paddingLeft:12},adornedEnd:{paddingRight:12},error:{},marginDense:{},multiline:{padding:"27px 12px 10px","&$marginDense":{paddingTop:23,paddingBottom:6}},input:{padding:"27px 12px 10px","&:-webkit-autofill":{WebkitBoxShadow:"light"===e.palette.type?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===e.palette.type?null:"#fff",caretColor:"light"===e.palette.type?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},inputMarginDense:{paddingTop:23,paddingBottom:6},inputHiddenLabel:{paddingTop:18,paddingBottom:19,"&$inputMarginDense":{paddingTop:10,paddingBottom:11}},inputMultiline:{padding:0},inputAdornedStart:{paddingLeft:0},inputAdornedEnd:{paddingRight:0}}}),{name:"MuiFilledInput"})(tv);function rv(){return At()||Ti}var iv=i.forwardRef((function(e,t){e.children;var n=e.classes,r=e.className,a=e.label,o=e.labelWidth,u=e.notched,s=e.style,c=re(e,["children","classes","className","label","labelWidth","notched","style"]),l="rtl"===rv().direction?"right":"left";if(void 0!==a)return i.createElement("fieldset",f({"aria-hidden":!0,className:ae(n.root,r),ref:t,style:s},c),i.createElement("legend",{className:ae(n.legendLabelled,u&&n.legendNotched)},a?i.createElement("span",null,a):i.createElement("span",{dangerouslySetInnerHTML:{__html:"&#8203;"}})));var h=o>0?.75*o+8:.01;return i.createElement("fieldset",f({"aria-hidden":!0,style:f(Rr({},"padding".concat(Ni(l)),8),s),className:ae(n.root,r),ref:t},c),i.createElement("legend",{className:n.legend,style:{width:u?h:.01}},i.createElement("span",{dangerouslySetInnerHTML:{__html:"&#8203;"}})))})),av=Ci((function(e){return{root:{position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden"},legend:{textAlign:"left",padding:0,lineHeight:"11px",transition:e.transitions.create("width",{duration:150,easing:e.transitions.easing.easeOut})},legendLabelled:{display:"block",width:"auto",textAlign:"left",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:e.transitions.create("max-width",{duration:50,easing:e.transitions.easing.easeOut}),"& > span":{paddingLeft:5,paddingRight:5,display:"inline-block"}},legendNotched:{maxWidth:1e3,transition:e.transitions.create("max-width",{duration:100,easing:e.transitions.easing.easeOut,delay:50})}}}),{name:"PrivateNotchedOutline"})(iv),ov=i.forwardRef((function(e,t){var n=e.classes,r=e.fullWidth,a=void 0!==r&&r,o=e.inputComponent,u=void 0===o?"input":o,s=e.label,c=e.labelWidth,l=void 0===c?0:c,h=e.multiline,d=void 0!==h&&h,p=e.notched,v=e.type,m=void 0===v?"text":v,y=re(e,["classes","fullWidth","inputComponent","label","labelWidth","multiline","notched","type"]);return i.createElement(Xp,f({renderSuffix:function(e){return i.createElement(av,{className:n.notchedOutline,label:s,labelWidth:l,notched:"undefined"!==typeof p?p:Boolean(e.startAdornment||e.filled||e.focused)})},classes:f({},n,{root:ae(n.root,n.underline),notchedOutline:null}),fullWidth:a,inputComponent:u,multiline:d,ref:t,type:m},y))}));ov.muiName="Input";var uv=Ci((function(e){var t="light"===e.palette.type?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{root:{position:"relative",borderRadius:e.shape.borderRadius,"&:hover $notchedOutline":{borderColor:e.palette.text.primary},"@media (hover: none)":{"&:hover $notchedOutline":{borderColor:t}},"&$focused $notchedOutline":{borderColor:e.palette.primary.main,borderWidth:2},"&$error $notchedOutline":{borderColor:e.palette.error.main},"&$disabled $notchedOutline":{borderColor:e.palette.action.disabled}},colorSecondary:{"&$focused $notchedOutline":{borderColor:e.palette.secondary.main}},focused:{},disabled:{},adornedStart:{paddingLeft:14},adornedEnd:{paddingRight:14},error:{},marginDense:{},multiline:{padding:"18.5px 14px","&$marginDense":{paddingTop:10.5,paddingBottom:10.5}},notchedOutline:{borderColor:t},input:{padding:"18.5px 14px","&:-webkit-autofill":{WebkitBoxShadow:"light"===e.palette.type?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===e.palette.type?null:"#fff",caretColor:"light"===e.palette.type?null:"#fff",borderRadius:"inherit"}},inputMarginDense:{paddingTop:10.5,paddingBottom:10.5},inputMultiline:{padding:0},inputAdornedStart:{paddingLeft:0},inputAdornedEnd:{paddingRight:0}}}),{name:"MuiOutlinedInput"})(ov);function sv(){return i.useContext(zp)}var cv=i.forwardRef((function(e,t){var n=e.children,r=e.classes,a=e.className,o=(e.color,e.component),u=void 0===o?"label":o,s=(e.disabled,e.error,e.filled,e.focused,e.required,re(e,["children","classes","className","color","component","disabled","error","filled","focused","required"])),c=Up({props:e,muiFormControl:sv(),states:["color","required","focused","disabled","error","filled"]});return i.createElement(u,f({className:ae(r.root,r["color".concat(Ni(c.color||"primary"))],a,c.disabled&&r.disabled,c.error&&r.error,c.filled&&r.filled,c.focused&&r.focused,c.required&&r.required),ref:t},s),n,c.required&&i.createElement("span",{"aria-hidden":!0,className:ae(r.asterisk,c.error&&r.error)},"\u2009","*"))})),lv=Ci((function(e){return{root:f({color:e.palette.text.secondary},e.typography.body1,{lineHeight:1,padding:0,"&$focused":{color:e.palette.primary.main},"&$disabled":{color:e.palette.text.disabled},"&$error":{color:e.palette.error.main}}),colorSecondary:{"&$focused":{color:e.palette.secondary.main}},focused:{},disabled:{},error:{},filled:{},required:{},asterisk:{"&$error":{color:e.palette.error.main}}}}),{name:"MuiFormLabel"})(cv),fv=i.forwardRef((function(e,t){var n=e.classes,r=e.className,a=e.disableAnimation,o=void 0!==a&&a,u=(e.margin,e.shrink),s=(e.variant,re(e,["classes","className","disableAnimation","margin","shrink","variant"])),c=sv(),l=u;"undefined"===typeof l&&c&&(l=c.filled||c.focused||c.adornedStart);var h=Up({props:e,muiFormControl:c,states:["margin","variant"]});return i.createElement(lv,f({"data-shrink":l,className:ae(n.root,r,c&&n.formControl,!o&&n.animated,l&&n.shrink,"dense"===h.margin&&n.marginDense,{filled:n.filled,outlined:n.outlined}[h.variant]),classes:{focused:n.focused,disabled:n.disabled,error:n.error,required:n.required,asterisk:n.asterisk},ref:t},s))})),hv=Ci((function(e){return{root:{display:"block",transformOrigin:"top left"},focused:{},disabled:{},error:{},required:{},asterisk:{},formControl:{position:"absolute",left:0,top:0,transform:"translate(0, 24px) scale(1)"},marginDense:{transform:"translate(0, 21px) scale(1)"},shrink:{transform:"translate(0, 1.5px) scale(0.75)",transformOrigin:"top left"},animated:{transition:e.transitions.create(["color","transform"],{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut})},filled:{zIndex:1,pointerEvents:"none",transform:"translate(12px, 20px) scale(1)","&$marginDense":{transform:"translate(12px, 17px) scale(1)"},"&$shrink":{transform:"translate(12px, 10px) scale(0.75)","&$marginDense":{transform:"translate(12px, 7px) scale(0.75)"}}},outlined:{zIndex:1,pointerEvents:"none",transform:"translate(14px, 20px) scale(1)","&$marginDense":{transform:"translate(14px, 12px) scale(1)"},"&$shrink":{transform:"translate(14px, -6px) scale(0.75)"}}}}),{name:"MuiInputLabel"})(fv);function dv(e,t){return i.isValidElement(e)&&-1!==t.indexOf(e.type.muiName)}var pv=i.forwardRef((function(e,t){var n=e.children,r=e.classes,a=e.className,o=e.color,u=void 0===o?"primary":o,s=e.component,c=void 0===s?"div":s,l=e.disabled,h=void 0!==l&&l,d=e.error,p=void 0!==d&&d,v=e.fullWidth,m=void 0!==v&&v,y=e.focused,g=e.hiddenLabel,b=void 0!==g&&g,k=e.margin,w=void 0===k?"none":k,x=e.required,E=void 0!==x&&x,S=e.size,I=e.variant,_=void 0===I?"standard":I,T=re(e,["children","classes","className","color","component","disabled","error","fullWidth","focused","hiddenLabel","margin","required","size","variant"]),C=i.useState((function(){var e=!1;return n&&i.Children.forEach(n,(function(t){if(dv(t,["Input","Select"])){var n=dv(t,["Select"])?t.props.input:t;n&&n.props.startAdornment&&(e=!0)}})),e})),N=C[0],A=C[1],R=i.useState((function(){var e=!1;return n&&i.Children.forEach(n,(function(t){dv(t,["Input","Select"])&&$p(t.props,!0)&&(e=!0)})),e})),P=R[0],D=R[1],O=i.useState(!1),L=O[0],M=O[1],F=void 0!==y?y:L;h&&F&&M(!1);var V=i.useCallback((function(){D(!0)}),[]),U={adornedStart:N,setAdornedStart:A,color:u,disabled:h,error:p,filled:P,focused:F,fullWidth:m,hiddenLabel:b,margin:("small"===S?"dense":void 0)||w,onBlur:function(){M(!1)},onEmpty:i.useCallback((function(){D(!1)}),[]),onFilled:V,onFocus:function(){M(!0)},registerEffect:undefined,required:E,variant:_};return i.createElement(zp.Provider,{value:U},i.createElement(c,f({className:ae(r.root,a,"none"!==w&&r["margin".concat(Ni(w))],m&&r.fullWidth),ref:t},T),n))})),vv=Ci({root:{display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},marginNormal:{marginTop:16,marginBottom:8},marginDense:{marginTop:8,marginBottom:4},fullWidth:{width:"100%"}},{name:"MuiFormControl"})(pv),mv=i.forwardRef((function(e,t){var n=e.children,r=e.classes,a=e.className,o=e.component,u=void 0===o?"p":o,s=(e.disabled,e.error,e.filled,e.focused,e.margin,e.required,e.variant,re(e,["children","classes","className","component","disabled","error","filled","focused","margin","required","variant"])),c=Up({props:e,muiFormControl:sv(),states:["variant","margin","disabled","error","filled","focused","required"]});return i.createElement(u,f({className:ae(r.root,("filled"===c.variant||"outlined"===c.variant)&&r.contained,a,c.disabled&&r.disabled,c.error&&r.error,c.filled&&r.filled,c.focused&&r.focused,c.required&&r.required,"dense"===c.margin&&r.marginDense),ref:t},s)," "===n?i.createElement("span",{dangerouslySetInnerHTML:{__html:"&#8203;"}}):n)})),yv=Ci((function(e){return{root:f({color:e.palette.text.secondary},e.typography.caption,{textAlign:"left",marginTop:3,margin:0,"&$disabled":{color:e.palette.text.disabled},"&$error":{color:e.palette.error.main}}),error:{},disabled:{},marginDense:{marginTop:4},contained:{marginLeft:14,marginRight:14},focused:{},filled:{},required:{}}}),{name:"MuiFormHelperText"})(mv);n(441);function gv(e){return e&&e.ownerDocument||document}function bv(e){return gv(e).defaultView||window}function kv(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t){return null==t?e:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r),t.apply(this,r)}}),(function(){}))}var wv="undefined"!==typeof window?i.useLayoutEffect:i.useEffect;var xv=i.forwardRef((function(e,t){var n=e.children,r=e.container,a=e.disablePortal,o=void 0!==a&&a,u=e.onRendered,s=i.useState(null),c=s[0],l=s[1],f=Wi(i.isValidElement(n)?n.ref:null,t);return wv((function(){o||l(function(e){return e="function"===typeof e?e():e,Bi.findDOMNode(e)}(r)||document.body)}),[r,o]),wv((function(){if(c&&!o)return qi(t,c),function(){qi(t,null)}}),[t,c,o]),wv((function(){u&&(c||o)&&u()}),[u,c,o]),o?i.isValidElement(n)?i.cloneElement(n,{ref:f}):n:c?Bi.createPortal(n,c):c}));function Ev(){var e=document.createElement("div");e.style.width="99px",e.style.height="99px",e.style.position="absolute",e.style.top="-9999px",e.style.overflow="scroll",document.body.appendChild(e);var t=e.offsetWidth-e.clientWidth;return document.body.removeChild(e),t}function Sv(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function Iv(e){return parseInt(window.getComputedStyle(e)["padding-right"],10)||0}function _v(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4?arguments[4]:void 0,a=[t,n].concat(ln(r)),o=["TEMPLATE","SCRIPT","STYLE"];[].forEach.call(e.children,(function(e){1===e.nodeType&&-1===a.indexOf(e)&&-1===o.indexOf(e.tagName)&&Sv(e,i)}))}function Tv(e,t){var n=-1;return e.some((function(e,r){return!!t(e)&&(n=r,!0)})),n}function Cv(e,t){var n,r=[],i=[],a=e.container;if(!t.disableScrollLock){if(function(e){var t=gv(e);return t.body===e?bv(t).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}(a)){var o=Ev();r.push({value:a.style.paddingRight,key:"padding-right",el:a}),a.style["padding-right"]="".concat(Iv(a)+o,"px"),n=gv(a).querySelectorAll(".mui-fixed"),[].forEach.call(n,(function(e){i.push(e.style.paddingRight),e.style.paddingRight="".concat(Iv(e)+o,"px")}))}var u=a.parentElement,s="HTML"===u.nodeName&&"scroll"===window.getComputedStyle(u)["overflow-y"]?u:a;r.push({value:s.style.overflow,key:"overflow",el:s}),s.style.overflow="hidden"}return function(){n&&[].forEach.call(n,(function(e,t){i[t]?e.style.paddingRight=i[t]:e.style.removeProperty("padding-right")})),r.forEach((function(e){var t=e.value,n=e.el,r=e.key;t?n.style.setProperty(r,t):n.style.removeProperty(r)}))}}var Nv=function(){function e(){Fa(this,e),this.modals=[],this.containers=[]}return fe(e,[{key:"add",value:function(e,t){var n=this.modals.indexOf(e);if(-1!==n)return n;n=this.modals.length,this.modals.push(e),e.modalRef&&Sv(e.modalRef,!1);var r=function(e){var t=[];return[].forEach.call(e.children,(function(e){e.getAttribute&&"true"===e.getAttribute("aria-hidden")&&t.push(e)})),t}(t);_v(t,e.mountNode,e.modalRef,r,!0);var i=Tv(this.containers,(function(e){return e.container===t}));return-1!==i?(this.containers[i].modals.push(e),n):(this.containers.push({modals:[e],container:t,restore:null,hiddenSiblingNodes:r}),n)}},{key:"mount",value:function(e,t){var n=Tv(this.containers,(function(t){return-1!==t.modals.indexOf(e)})),r=this.containers[n];r.restore||(r.restore=Cv(r,t))}},{key:"remove",value:function(e){var t=this.modals.indexOf(e);if(-1===t)return t;var n=Tv(this.containers,(function(t){return-1!==t.modals.indexOf(e)})),r=this.containers[n];if(r.modals.splice(r.modals.indexOf(e),1),this.modals.splice(t,1),0===r.modals.length)r.restore&&r.restore(),e.modalRef&&Sv(e.modalRef,!0),_v(r.container,e.mountNode,e.modalRef,r.hiddenSiblingNodes,!1),this.containers.splice(n,1);else{var i=r.modals[r.modals.length-1];i.modalRef&&Sv(i.modalRef,!1)}return t}},{key:"isTopModal",value:function(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}]),e}();var Av=function(e){var t=e.children,n=e.disableAutoFocus,r=void 0!==n&&n,a=e.disableEnforceFocus,o=void 0!==a&&a,u=e.disableRestoreFocus,s=void 0!==u&&u,c=e.getDoc,l=e.isEnabled,f=e.open,h=i.useRef(),d=i.useRef(null),p=i.useRef(null),v=i.useRef(),m=i.useRef(null),y=i.useCallback((function(e){m.current=Bi.findDOMNode(e)}),[]),g=Wi(t.ref,y),b=i.useRef();return i.useEffect((function(){b.current=f}),[f]),!b.current&&f&&"undefined"!==typeof window&&(v.current=c().activeElement),i.useEffect((function(){if(f){var e=gv(m.current);r||!m.current||m.current.contains(e.activeElement)||(m.current.hasAttribute("tabIndex")||m.current.setAttribute("tabIndex",-1),m.current.focus());var t=function(){null!==m.current&&(e.hasFocus()&&!o&&l()&&!h.current?m.current&&!m.current.contains(e.activeElement)&&m.current.focus():h.current=!1)},n=function(t){!o&&l()&&9===t.keyCode&&e.activeElement===m.current&&(h.current=!0,t.shiftKey?p.current.focus():d.current.focus())};e.addEventListener("focus",t,!0),e.addEventListener("keydown",n,!0);var i=setInterval((function(){t()}),50);return function(){clearInterval(i),e.removeEventListener("focus",t,!0),e.removeEventListener("keydown",n,!0),s||(v.current&&v.current.focus&&v.current.focus(),v.current=null)}}}),[r,o,s,l,f]),i.createElement(i.Fragment,null,i.createElement("div",{tabIndex:0,ref:d,"data-test":"sentinelStart"}),i.cloneElement(t,{ref:g}),i.createElement("div",{tabIndex:0,ref:p,"data-test":"sentinelEnd"}))},Rv={root:{zIndex:-1,position:"fixed",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},invisible:{backgroundColor:"transparent"}},Pv=i.forwardRef((function(e,t){var n=e.invisible,r=void 0!==n&&n,a=e.open,o=re(e,["invisible","open"]);return a?i.createElement("div",f({"aria-hidden":!0,ref:t},o,{style:f({},Rv.root,r?Rv.invisible:{},o.style)})):null}));var Dv=new Nv,Ov=i.forwardRef((function(e,t){var n=At(),r=Tr({name:"MuiModal",props:f({},e),theme:n}),a=r.BackdropComponent,o=void 0===a?Pv:a,u=r.BackdropProps,s=r.children,c=r.closeAfterTransition,l=void 0!==c&&c,h=r.container,d=r.disableAutoFocus,p=void 0!==d&&d,v=r.disableBackdropClick,m=void 0!==v&&v,y=r.disableEnforceFocus,g=void 0!==y&&y,b=r.disableEscapeKeyDown,k=void 0!==b&&b,w=r.disablePortal,x=void 0!==w&&w,E=r.disableRestoreFocus,S=void 0!==E&&E,I=r.disableScrollLock,_=void 0!==I&&I,T=r.hideBackdrop,C=void 0!==T&&T,N=r.keepMounted,A=void 0!==N&&N,R=r.manager,P=void 0===R?Dv:R,D=r.onBackdropClick,O=r.onClose,L=r.onEscapeKeyDown,M=r.onRendered,F=r.open,V=re(r,["BackdropComponent","BackdropProps","children","closeAfterTransition","container","disableAutoFocus","disableBackdropClick","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","manager","onBackdropClick","onClose","onEscapeKeyDown","onRendered","open"]),U=i.useState(!0),j=U[0],z=U[1],B=i.useRef({}),q=i.useRef(null),W=i.useRef(null),K=Wi(W,t),G=function(e){return!!e.children&&e.children.props.hasOwnProperty("in")}(r),H=function(){return gv(q.current)},Q=function(){return B.current.modalRef=W.current,B.current.mountNode=q.current,B.current},$=function(){P.mount(Q(),{disableScrollLock:_}),W.current.scrollTop=0},Y=Gi((function(){var e=function(e){return e="function"===typeof e?e():e,Bi.findDOMNode(e)}(h)||H().body;P.add(Q(),e),W.current&&$()})),J=i.useCallback((function(){return P.isTopModal(Q())}),[P]),X=Gi((function(e){q.current=e,e&&(M&&M(),F&&J()?$():Sv(W.current,!0))})),Z=i.useCallback((function(){P.remove(Q())}),[P]);if(i.useEffect((function(){return function(){Z()}}),[Z]),i.useEffect((function(){F?Y():G&&l||Z()}),[F,Z,G,l,Y]),!A&&!F&&(!G||j))return null;var ee=function(e){return{root:{position:"fixed",zIndex:e.zIndex.modal,right:0,bottom:0,top:0,left:0},hidden:{visibility:"hidden"}}}(n||{zIndex:Ii}),te={};return void 0===s.props.tabIndex&&(te.tabIndex=s.props.tabIndex||"-1"),G&&(te.onEnter=kv((function(){z(!1)}),s.props.onEnter),te.onExited=kv((function(){z(!0),l&&Z()}),s.props.onExited)),i.createElement(xv,{ref:X,container:h,disablePortal:x},i.createElement("div",f({ref:K,onKeyDown:function(e){"Escape"===e.key&&J()&&(L&&L(e),k||(e.stopPropagation(),O&&O(e,"escapeKeyDown")))},role:"presentation"},V,{style:f({},ee.root,!F&&j?ee.hidden:{},V.style)}),C?null:i.createElement(o,f({open:F,onClick:function(e){e.target===e.currentTarget&&(D&&D(e),!m&&O&&O(e,"backdropClick"))}},u)),i.createElement(Av,{disableEnforceFocus:g,disableAutoFocus:p,disableRestoreFocus:S,getDoc:H,isEnabled:J,open:F},i.cloneElement(s,te))))})),Lv=!1,Mv="unmounted",Fv="exited",Vv="entering",Uv="entered",jv="exiting",zv=function(e){function t(t,n){var r;r=e.call(this,t,n)||this;var i,a=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?a?(i=Fv,r.appearStatus=Vv):i=Uv:i=t.unmountOnExit||t.mountOnEnter?Mv:Fv,r.state={status:i},r.nextCallback=null,r}de(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&t.status===Mv?{status:Fv}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==Vv&&n!==Uv&&(t=Vv):n!==Vv&&n!==Uv||(t=jv)}this.updateStatus(!1,t)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},n.updateStatus=function(e,t){void 0===e&&(e=!1),null!==t?(this.cancelNextCallback(),t===Vv?this.performEnter(e):this.performExit()):this.props.unmountOnExit&&this.state.status===Fv&&this.setState({status:Mv})},n.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,i=this.props.nodeRef?[r]:[Bi.findDOMNode(this),r],a=i[0],o=i[1],u=this.getTimeouts(),s=r?u.appear:u.enter;!e&&!n||Lv?this.safeSetState({status:Uv},(function(){t.props.onEntered(a)})):(this.props.onEnter(a,o),this.safeSetState({status:Vv},(function(){t.props.onEntering(a,o),t.onTransitionEnd(s,(function(){t.safeSetState({status:Uv},(function(){t.props.onEntered(a,o)}))}))})))},n.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:Bi.findDOMNode(this);t&&!Lv?(this.props.onExit(r),this.safeSetState({status:jv},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:Fv},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:Fv},(function(){e.props.onExited(r)}))},n.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},n.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},n.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:Bi.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],a=i[0],o=i[1];this.props.addEndListener(a,o)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},n.render=function(){var e=this.state.status;if(e===Mv)return null;var t=this.props,n=t.children,r=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,ne(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return i.createElement(ra.Provider,{value:null},"function"===typeof n?n(e,r):i.cloneElement(i.Children.only(n),r))},t}(i.Component);function Bv(){}zv.contextType=ra,zv.propTypes={},zv.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Bv,onEntering:Bv,onEntered:Bv,onExit:Bv,onExiting:Bv,onExited:Bv},zv.UNMOUNTED=Mv,zv.EXITED=Fv,zv.ENTERING=Vv,zv.ENTERED=Uv,zv.EXITING=jv;var qv=zv;function Wv(e,t){var n=e.timeout,r=e.style,i=void 0===r?{}:r;return{duration:i.transitionDuration||"number"===typeof n?n:n[t.mode]||0,delay:i.transitionDelay}}function Kv(e){return"scale(".concat(e,", ").concat(Math.pow(e,2),")")}var Gv={entering:{opacity:1,transform:Kv(1)},entered:{opacity:1,transform:"none"}},Hv=i.forwardRef((function(e,t){var n=e.children,r=e.disableStrictModeCompat,a=void 0!==r&&r,o=e.in,u=e.onEnter,s=e.onEntered,c=e.onEntering,h=e.onExit,d=e.onExited,p=e.onExiting,v=e.style,m=e.timeout,y=void 0===m?"auto":m,g=e.TransitionComponent,b=void 0===g?qv:g,k=re(e,["children","disableStrictModeCompat","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"]),w=i.useRef(),x=i.useRef(),E=rv(),S=E.unstable_strictMode&&!a,I=i.useRef(null),_=Wi(n.ref,t),T=Wi(S?I:void 0,_),C=function(e){return function(t,n){if(e){var r=l(S?[I.current,t]:[t,n],2),i=r[0],a=r[1];void 0===a?e(i):e(i,a)}}},N=C(c),A=C((function(e,t){!function(e){e.scrollTop}(e);var n,r=Wv({style:v,timeout:y},{mode:"enter"}),i=r.duration,a=r.delay;"auto"===y?(n=E.transitions.getAutoHeightDuration(e.clientHeight),x.current=n):n=i,e.style.transition=[E.transitions.create("opacity",{duration:n,delay:a}),E.transitions.create("transform",{duration:.666*n,delay:a})].join(","),u&&u(e,t)})),R=C(s),P=C(p),D=C((function(e){var t,n=Wv({style:v,timeout:y},{mode:"exit"}),r=n.duration,i=n.delay;"auto"===y?(t=E.transitions.getAutoHeightDuration(e.clientHeight),x.current=t):t=r,e.style.transition=[E.transitions.create("opacity",{duration:t,delay:i}),E.transitions.create("transform",{duration:.666*t,delay:i||.333*t})].join(","),e.style.opacity="0",e.style.transform=Kv(.75),h&&h(e)})),O=C(d);return i.useEffect((function(){return function(){clearTimeout(w.current)}}),[]),i.createElement(b,f({appear:!0,in:o,nodeRef:S?I:void 0,onEnter:A,onEntered:R,onEntering:N,onExit:D,onExited:O,onExiting:P,addEndListener:function(e,t){var n=S?e:t;"auto"===y&&(w.current=setTimeout(n,x.current||0))},timeout:"auto"===y?null:y},k),(function(e,t){return i.cloneElement(n,f({style:f({opacity:0,transform:Kv(.75),visibility:"exited"!==e||o?void 0:"hidden"},Gv[e],v,n.props.style),ref:T},t))}))}));Hv.muiSupportAuto=!0;var Qv=Hv;function $v(e,t){var n=0;return"number"===typeof t?n=t:"center"===t?n=e.height/2:"bottom"===t&&(n=e.height),n}function Yv(e,t){var n=0;return"number"===typeof t?n=t:"center"===t?n=e.width/2:"right"===t&&(n=e.width),n}function Jv(e){return[e.horizontal,e.vertical].map((function(e){return"number"===typeof e?"".concat(e,"px"):e})).join(" ")}function Xv(e){return"function"===typeof e?e():e}var Zv=i.forwardRef((function(e,t){var n=e.action,r=e.anchorEl,a=e.anchorOrigin,o=void 0===a?{vertical:"top",horizontal:"left"}:a,u=e.anchorPosition,s=e.anchorReference,c=void 0===s?"anchorEl":s,l=e.children,h=e.classes,d=e.className,p=e.container,v=e.elevation,m=void 0===v?8:v,y=e.getContentAnchorEl,g=e.marginThreshold,b=void 0===g?16:g,k=e.onEnter,w=e.onEntered,x=e.onEntering,E=e.onExit,S=e.onExited,I=e.onExiting,_=e.open,T=e.PaperProps,C=void 0===T?{}:T,N=e.transformOrigin,A=void 0===N?{vertical:"top",horizontal:"left"}:N,R=e.TransitionComponent,P=void 0===R?Qv:R,D=e.transitionDuration,O=void 0===D?"auto":D,L=e.TransitionProps,M=void 0===L?{}:L,F=re(e,["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","classes","className","container","elevation","getContentAnchorEl","marginThreshold","onEnter","onEntered","onEntering","onExit","onExited","onExiting","open","PaperProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps"]),V=i.useRef(),U=i.useCallback((function(e){if("anchorPosition"===c)return u;var t=Xv(r),n=(t&&1===t.nodeType?t:gv(V.current).body).getBoundingClientRect(),i=0===e?o.vertical:"center";return{top:n.top+$v(n,i),left:n.left+Yv(n,o.horizontal)}}),[r,o.horizontal,o.vertical,u,c]),j=i.useCallback((function(e){var t=0;if(y&&"anchorEl"===c){var n=y(e);if(n&&e.contains(n)){var r=function(e,t){for(var n=t,r=0;n&&n!==e;)r+=(n=n.parentElement).scrollTop;return r}(e,n);t=n.offsetTop+n.clientHeight/2-r||0}0}return t}),[o.vertical,c,y]),z=i.useCallback((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return{vertical:$v(e,A.vertical)+t,horizontal:Yv(e,A.horizontal)}}),[A.horizontal,A.vertical]),B=i.useCallback((function(e){var t=j(e),n={width:e.offsetWidth,height:e.offsetHeight},i=z(n,t);if("none"===c)return{top:null,left:null,transformOrigin:Jv(i)};var a=U(t),o=a.top-i.vertical,u=a.left-i.horizontal,s=o+n.height,l=u+n.width,f=bv(Xv(r)),h=f.innerHeight-b,d=f.innerWidth-b;if(o<b){var p=o-b;o-=p,i.vertical+=p}else if(s>h){var v=s-h;o-=v,i.vertical+=v}if(u<b){var m=u-b;u-=m,i.horizontal+=m}else if(l>d){var y=l-d;u-=y,i.horizontal+=y}return{top:"".concat(Math.round(o),"px"),left:"".concat(Math.round(u),"px"),transformOrigin:Jv(i)}}),[r,c,U,j,z,b]),q=i.useCallback((function(){var e=V.current;if(e){var t=B(e);null!==t.top&&(e.style.top=t.top),null!==t.left&&(e.style.left=t.left),e.style.transformOrigin=t.transformOrigin}}),[B]),W=i.useCallback((function(e){V.current=Bi.findDOMNode(e)}),[]);i.useEffect((function(){_&&q()})),i.useImperativeHandle(n,(function(){return _?{updatePosition:function(){q()}}:null}),[_,q]),i.useEffect((function(){if(_){var e=Bp((function(){q()}));return window.addEventListener("resize",e),function(){e.clear(),window.removeEventListener("resize",e)}}}),[_,q]);var K=O;"auto"!==O||P.muiSupportAuto||(K=void 0);var G=p||(r?gv(Xv(r)).body:void 0);return i.createElement(Ov,f({container:G,open:_,ref:t,BackdropProps:{invisible:!0},className:ae(h.root,d)},F),i.createElement(P,f({appear:!0,in:_,onEnter:k,onEntered:w,onExit:E,onExited:S,onExiting:I,timeout:K},M,{onEntering:kv((function(e,t){x&&x(e,t),q()}),M.onEntering)}),i.createElement(Ri,f({elevation:m,ref:W},C,{className:ae(h.paper,C.className)}),l)))})),em=Ci({root:{},paper:{position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}},{name:"MuiPopover"})(Zv);var tm=i.createContext({}),nm=i.forwardRef((function(e,t){var n=e.children,r=e.classes,a=e.className,o=e.component,u=void 0===o?"ul":o,s=e.dense,c=void 0!==s&&s,l=e.disablePadding,h=void 0!==l&&l,d=e.subheader,p=re(e,["children","classes","className","component","dense","disablePadding","subheader"]),v=i.useMemo((function(){return{dense:c}}),[c]);return i.createElement(tm.Provider,{value:v},i.createElement(u,f({className:ae(r.root,a,c&&r.dense,!h&&r.padding,d&&r.subheader),ref:t},p),d,n))})),rm=Ci({root:{listStyle:"none",margin:0,padding:0,position:"relative"},padding:{paddingTop:8,paddingBottom:8},dense:{},subheader:{paddingTop:0}},{name:"MuiList"})(nm);function im(e,t,n){return e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:n?null:e.firstChild}function am(e,t,n){return e===t?n?e.firstChild:e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:n?null:e.lastChild}function om(e,t){if(void 0===t)return!0;var n=e.innerText;return void 0===n&&(n=e.textContent),0!==(n=n.trim().toLowerCase()).length&&(t.repeating?n[0]===t.keys[0]:0===n.indexOf(t.keys.join("")))}function um(e,t,n,r,i,a){for(var o=!1,u=i(e,t,!!t&&n);u;){if(u===e.firstChild){if(o)return;o=!0}var s=!r&&(u.disabled||"true"===u.getAttribute("aria-disabled"));if(u.hasAttribute("tabindex")&&om(u,a)&&!s)return void u.focus();u=i(e,u,n)}}var sm="undefined"===typeof window?i.useEffect:i.useLayoutEffect,cm=i.forwardRef((function(e,t){var n=e.actions,r=e.autoFocus,a=void 0!==r&&r,o=e.autoFocusItem,u=void 0!==o&&o,s=e.children,c=e.className,l=e.disabledItemsFocusable,h=void 0!==l&&l,d=e.disableListWrap,p=void 0!==d&&d,v=e.onKeyDown,m=e.variant,y=void 0===m?"selectedMenu":m,g=re(e,["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"]),b=i.useRef(null),k=i.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});sm((function(){a&&b.current.focus()}),[a]),i.useImperativeHandle(n,(function(){return{adjustStyleForScrollbar:function(e,t){var n=!b.current.style.width;if(e.clientHeight<b.current.clientHeight&&n){var r="".concat(Ev(),"px");b.current.style["rtl"===t.direction?"paddingLeft":"paddingRight"]=r,b.current.style.width="calc(100% + ".concat(r,")")}return b.current}}}),[]);var w=Wi(i.useCallback((function(e){b.current=Bi.findDOMNode(e)}),[]),t),x=-1;i.Children.forEach(s,(function(e,t){i.isValidElement(e)&&(e.props.disabled||("selectedMenu"===y&&e.props.selected||-1===x)&&(x=t))}));var E=i.Children.map(s,(function(e,t){if(t===x){var n={};return u&&(n.autoFocus=!0),void 0===e.props.tabIndex&&"selectedMenu"===y&&(n.tabIndex=0),i.cloneElement(e,n)}return e}));return i.createElement(rm,f({role:"menu",ref:w,className:c,onKeyDown:function(e){var t=b.current,n=e.key,r=gv(t).activeElement;if("ArrowDown"===n)e.preventDefault(),um(t,r,p,h,im);else if("ArrowUp"===n)e.preventDefault(),um(t,r,p,h,am);else if("Home"===n)e.preventDefault(),um(t,null,p,h,im);else if("End"===n)e.preventDefault(),um(t,null,p,h,am);else if(1===n.length){var i=k.current,a=n.toLowerCase(),o=performance.now();i.keys.length>0&&(o-i.lastTime>500?(i.keys=[],i.repeating=!0,i.previousKeyMatched=!0):i.repeating&&a!==i.keys[0]&&(i.repeating=!1)),i.lastTime=o,i.keys.push(a);var u=r&&!i.repeating&&om(r,i);i.previousKeyMatched&&(u||um(t,r,!1,h,im,i))?e.preventDefault():i.previousKeyMatched=!1}v&&v(e)},tabIndex:a?0:-1},g),E)})),lm=cm,fm={vertical:"top",horizontal:"right"},hm={vertical:"top",horizontal:"left"},dm=i.forwardRef((function(e,t){var n=e.autoFocus,r=void 0===n||n,a=e.children,o=e.classes,u=e.disableAutoFocusItem,s=void 0!==u&&u,c=e.MenuListProps,l=void 0===c?{}:c,h=e.onClose,d=e.onEntering,p=e.open,v=e.PaperProps,m=void 0===v?{}:v,y=e.PopoverClasses,g=e.transitionDuration,b=void 0===g?"auto":g,k=e.TransitionProps,w=(k=void 0===k?{}:k).onEntering,x=re(k,["onEntering"]),E=e.variant,S=void 0===E?"selectedMenu":E,I=re(e,["autoFocus","children","classes","disableAutoFocusItem","MenuListProps","onClose","onEntering","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant"]),_=rv(),T=r&&!s&&p,C=i.useRef(null),N=i.useRef(null),A=-1;i.Children.map(a,(function(e,t){i.isValidElement(e)&&(e.props.disabled||("menu"!==S&&e.props.selected||-1===A)&&(A=t))}));var R=i.Children.map(a,(function(e,t){return t===A?i.cloneElement(e,{ref:function(t){N.current=Bi.findDOMNode(t),qi(e.ref,t)}}):e}));return i.createElement(em,f({getContentAnchorEl:function(){return N.current},classes:y,onClose:h,TransitionProps:f({onEntering:function(e,t){C.current&&C.current.adjustStyleForScrollbar(e,_),d&&d(e,t),w&&w(e,t)}},x),anchorOrigin:"rtl"===_.direction?fm:hm,transformOrigin:"rtl"===_.direction?fm:hm,PaperProps:f({},m,{classes:f({},m.classes,{root:o.paper})}),open:p,ref:t,transitionDuration:b},I),i.createElement(lm,f({onKeyDown:function(e){"Tab"===e.key&&(e.preventDefault(),h&&h(e,"tabKeyDown"))},actions:C,autoFocus:r&&(-1===A||s),autoFocusItem:T,variant:S},l,{className:ae(o.list,l.className)}),R))})),pm=Ci({paper:{maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"},list:{outline:0}},{name:"MuiMenu"})(dm);function vm(e,t){return"object"===mr(t)&&null!==t?e===t:String(e)===String(t)}var mm=i.forwardRef((function(e,t){var n=e["aria-label"],r=e.autoFocus,a=e.autoWidth,o=e.children,u=e.classes,s=e.className,c=e.defaultValue,h=e.disabled,d=e.displayEmpty,p=e.IconComponent,v=e.inputRef,m=e.labelId,y=e.MenuProps,g=void 0===y?{}:y,b=e.multiple,k=e.name,w=e.onBlur,x=e.onChange,E=e.onClose,S=e.onFocus,I=e.onOpen,_=e.open,T=e.readOnly,C=e.renderValue,N=e.SelectDisplayProps,A=void 0===N?{}:N,R=e.tabIndex,P=(e.type,e.value),D=e.variant,O=void 0===D?"standard":D,L=re(e,["aria-label","autoFocus","autoWidth","children","classes","className","defaultValue","disabled","displayEmpty","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"]),M=function(e){var t=e.controlled,n=e.default,r=(e.name,e.state,i.useRef(void 0!==t).current),a=i.useState(n),o=a[0],u=a[1];return[r?t:o,i.useCallback((function(e){r||u(e)}),[])]}({controlled:P,default:c,name:"Select"}),F=l(M,2),V=F[0],U=F[1],j=i.useRef(null),z=i.useState(null),B=z[0],q=z[1],W=i.useRef(null!=_).current,K=i.useState(),G=K[0],H=K[1],Q=i.useState(!1),$=Q[0],Y=Q[1],J=Wi(t,v);i.useImperativeHandle(J,(function(){return{focus:function(){B.focus()},node:j.current,value:V}}),[B,V]),i.useEffect((function(){r&&B&&B.focus()}),[r,B]),i.useEffect((function(){if(B){var e=gv(B).getElementById(m);if(e){var t=function(){getSelection().isCollapsed&&B.focus()};return e.addEventListener("click",t),function(){e.removeEventListener("click",t)}}}}),[m,B]);var X,Z,ee=function(e,t){e?I&&I(t):E&&E(t),W||(H(a?null:B.clientWidth),Y(e))},te=i.Children.toArray(o),ne=function(e){return function(t){var n;if(b||ee(!1,t),b){n=Array.isArray(V)?V.slice():[];var r=V.indexOf(e.props.value);-1===r?n.push(e.props.value):n.splice(r,1)}else n=e.props.value;e.props.onClick&&e.props.onClick(t),V!==n&&(U(n),x&&(t.persist(),Object.defineProperty(t,"target",{writable:!0,value:{value:n,name:k}}),x(t,e)))}},ie=null!==B&&(W?_:$);delete L["aria-invalid"];var oe=[],ue=!1;($p({value:V})||d)&&(C?X=C(V):ue=!0);var se=te.map((function(e){if(!i.isValidElement(e))return null;var t;if(b){if(!Array.isArray(V))throw new Error(Dr(2));t=V.some((function(t){return vm(t,e.props.value)})),t&&ue&&oe.push(e.props.children)}else(t=vm(V,e.props.value))&&ue&&(Z=e.props.children);return t&&!0,i.cloneElement(e,{"aria-selected":t?"true":void 0,onClick:ne(e),onKeyUp:function(t){" "===t.key&&t.preventDefault(),e.props.onKeyUp&&e.props.onKeyUp(t)},role:"option",selected:t,value:void 0,"data-value":e.props.value})}));ue&&(X=b?oe.join(", "):Z);var ce,le=G;!a&&W&&B&&(le=B.clientWidth),ce="undefined"!==typeof R?R:h?null:0;var fe=A.id||(k?"mui-component-select-".concat(k):void 0);return i.createElement(i.Fragment,null,i.createElement("div",f({className:ae(u.root,u.select,u.selectMenu,u[O],s,h&&u.disabled),ref:q,tabIndex:ce,role:"button","aria-disabled":h?"true":void 0,"aria-expanded":ie?"true":void 0,"aria-haspopup":"listbox","aria-label":n,"aria-labelledby":[m,fe].filter(Boolean).join(" ")||void 0,onKeyDown:function(e){if(!T){-1!==[" ","ArrowUp","ArrowDown","Enter"].indexOf(e.key)&&(e.preventDefault(),ee(!0,e))}},onMouseDown:h||T?null:function(e){0===e.button&&(e.preventDefault(),B.focus(),ee(!0,e))},onBlur:function(e){!ie&&w&&(e.persist(),Object.defineProperty(e,"target",{writable:!0,value:{value:V,name:k}}),w(e))},onFocus:S},A,{id:fe}),function(e){return null==e||"string"===typeof e&&!e.trim()}(X)?i.createElement("span",{dangerouslySetInnerHTML:{__html:"&#8203;"}}):X),i.createElement("input",f({value:Array.isArray(V)?V.join(","):V,name:k,ref:j,"aria-hidden":!0,onChange:function(e){var t=te.map((function(e){return e.props.value})).indexOf(e.target.value);if(-1!==t){var n=te[t];U(n.props.value),x&&x(e,n)}},tabIndex:-1,className:u.nativeInput,autoFocus:r},L)),i.createElement(p,{className:ae(u.icon,u["icon".concat(Ni(O))],ie&&u.iconOpen,h&&u.disabled)}),i.createElement(pm,f({id:"menu-".concat(k||""),anchorEl:B,open:ie,onClose:function(e){ee(!1,e)}},g,{MenuListProps:f({"aria-labelledby":m,role:"listbox",disableListWrap:!0},g.MenuListProps),PaperProps:f({},g.PaperProps,{style:f({minWidth:le},null!=g.PaperProps?g.PaperProps.style:null)})}),se))})),ym=mm,gm=ka(i.createElement("path",{d:"M7 10l5 5 5-5z"})),bm=i.forwardRef((function(e,t){var n=e.classes,r=e.className,a=e.disabled,o=e.IconComponent,u=e.inputRef,s=e.variant,c=void 0===s?"standard":s,l=re(e,["classes","className","disabled","IconComponent","inputRef","variant"]);return i.createElement(i.Fragment,null,i.createElement("select",f({className:ae(n.root,n.select,n[c],r,a&&n.disabled),disabled:a,ref:u||t},l)),e.multiple?null:i.createElement(o,{className:ae(n.icon,n["icon".concat(Ni(c))],a&&n.disabled)}))})),km=bm,wm=function(e){return{root:{},select:{"-moz-appearance":"none","-webkit-appearance":"none",userSelect:"none",borderRadius:0,minWidth:16,cursor:"pointer","&:focus":{backgroundColor:"light"===e.palette.type?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)",borderRadius:0},"&::-ms-expand":{display:"none"},"&$disabled":{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:e.palette.background.paper},"&&":{paddingRight:24}},filled:{"&&":{paddingRight:32}},outlined:{borderRadius:e.shape.borderRadius,"&&":{paddingRight:32}},selectMenu:{height:"auto",minHeight:"1.1876em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"},disabled:{},icon:{position:"absolute",right:0,top:"calc(50% - 12px)",pointerEvents:"none",color:e.palette.action.active,"&$disabled":{color:e.palette.action.disabled}},iconOpen:{transform:"rotate(180deg)"},iconFilled:{right:7},iconOutlined:{right:7},nativeInput:{bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%"}}},xm=i.createElement(ev,null),Em=i.forwardRef((function(e,t){var n=e.children,r=e.classes,a=e.IconComponent,o=void 0===a?gm:a,u=e.input,s=void 0===u?xm:u,c=e.inputProps,l=(e.variant,re(e,["children","classes","IconComponent","input","inputProps","variant"])),h=Up({props:e,muiFormControl:sv(),states:["variant"]});return i.cloneElement(s,f({inputComponent:km,inputProps:f({children:n,classes:r,IconComponent:o,variant:h.variant,type:void 0},c,s?s.props.inputProps:{}),ref:t},l))}));Em.muiName="Select";Ci(wm,{name:"MuiNativeSelect"})(Em);var Sm=wm,Im=i.createElement(ev,null),_m=i.createElement(nv,null),Tm=i.forwardRef((function e(t,n){var r=t.autoWidth,a=void 0!==r&&r,o=t.children,u=t.classes,s=t.displayEmpty,c=void 0!==s&&s,l=t.IconComponent,h=void 0===l?gm:l,d=t.id,p=t.input,v=t.inputProps,m=t.label,y=t.labelId,g=t.labelWidth,b=void 0===g?0:g,k=t.MenuProps,w=t.multiple,x=void 0!==w&&w,E=t.native,S=void 0!==E&&E,I=t.onClose,_=t.onOpen,T=t.open,C=t.renderValue,N=t.SelectDisplayProps,A=t.variant,R=void 0===A?"standard":A,P=re(t,["autoWidth","children","classes","displayEmpty","IconComponent","id","input","inputProps","label","labelId","labelWidth","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"]),D=S?km:ym,O=Up({props:t,muiFormControl:sv(),states:["variant"]}).variant||R,L=p||{standard:Im,outlined:i.createElement(uv,{label:m,labelWidth:b}),filled:_m}[O];return i.cloneElement(L,f({inputComponent:D,inputProps:f({children:o,IconComponent:h,variant:O,type:void 0,multiple:x},S?{id:d}:{autoWidth:a,displayEmpty:c,labelId:y,MenuProps:k,onClose:I,onOpen:_,open:T,renderValue:C,SelectDisplayProps:f({id:d},N)},v,{classes:v?_t({baseClasses:u,newClasses:v.classes,Component:e}):u},p?p.props.inputProps:{}),ref:n},P))}));Tm.muiName="Select";var Cm,Nm=Ci(Sm,{name:"MuiSelect"})(Tm),Am={standard:ev,filled:nv,outlined:uv},Rm=i.forwardRef((function(e,t){var n=e.autoComplete,r=e.autoFocus,a=void 0!==r&&r,o=e.children,u=e.classes,s=e.className,c=e.color,l=void 0===c?"primary":c,h=e.defaultValue,d=e.disabled,p=void 0!==d&&d,v=e.error,m=void 0!==v&&v,y=e.FormHelperTextProps,g=e.fullWidth,b=void 0!==g&&g,k=e.helperText,w=e.hiddenLabel,x=e.id,E=e.InputLabelProps,S=e.inputProps,I=e.InputProps,_=e.inputRef,T=e.label,C=e.multiline,N=void 0!==C&&C,A=e.name,R=e.onBlur,P=e.onChange,D=e.onFocus,O=e.placeholder,L=e.required,M=void 0!==L&&L,F=e.rows,V=e.rowsMax,U=e.maxRows,j=e.minRows,z=e.select,B=void 0!==z&&z,q=e.SelectProps,W=e.type,K=e.value,G=e.variant,H=void 0===G?"standard":G,Q=re(e,["autoComplete","autoFocus","children","classes","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","hiddenLabel","id","InputLabelProps","inputProps","InputProps","inputRef","label","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","rowsMax","maxRows","minRows","select","SelectProps","type","value","variant"]);var $={};if("outlined"===H&&(E&&"undefined"!==typeof E.shrink&&($.notched=E.shrink),T)){var Y,J=null!==(Y=null===E||void 0===E?void 0:E.required)&&void 0!==Y?Y:M;$.label=i.createElement(i.Fragment,null,T,J&&"\xa0*")}B&&(q&&q.native||($.id=void 0),$["aria-describedby"]=void 0);var X=k&&x?"".concat(x,"-helper-text"):void 0,Z=T&&x?"".concat(x,"-label"):void 0,ee=Am[H],te=i.createElement(ee,f({"aria-describedby":X,autoComplete:n,autoFocus:a,defaultValue:h,fullWidth:b,multiline:N,name:A,rows:F,rowsMax:V,maxRows:U,minRows:j,type:W,value:K,id:x,inputRef:_,onBlur:R,onChange:P,onFocus:D,placeholder:O,inputProps:S},$,I));return i.createElement(vv,f({className:ae(u.root,s),disabled:p,error:m,fullWidth:b,hiddenLabel:w,ref:t,required:M,color:l,variant:H},Q),T&&i.createElement(hv,f({htmlFor:x,id:Z},E),T),B?i.createElement(Nm,f({"aria-describedby":X,id:x,labelId:Z,value:K,input:te},q),o):te,k&&i.createElement(yv,f({id:X},y),k))})),Pm=Ci({root:{}},{name:"MuiTextField"})(Rm),Dm="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},Om={},Lm=Lm||{},Mm=Dm||self;function Fm(){}function Vm(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Um(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var jm="closure_uid_"+(1e9*Math.random()>>>0),zm=0;function Bm(e,t,n){return e.call.apply(e.bind,arguments)}function qm(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Wm(e,t,n){return(Wm=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Bm:qm).apply(null,arguments)}function Km(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Gm(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function Hm(){this.s=this.s,this.o=this.o}var Qm={};Hm.prototype.s=!1,Hm.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,jm)&&e[jm]||(e[jm]=++zm)}(this);delete Qm[e]}},Hm.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var $m=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},Ym=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,a=0;a<r;a++)a in i&&t.call(n,i[a],a,e)};function Jm(e){return Array.prototype.concat.apply([],arguments)}function Xm(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Zm(e){return/^[\s\xa0]*$/.test(e)}var ey,ty=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function ny(e,t){return-1!=e.indexOf(t)}function ry(e,t){return e<t?-1:e>t?1:0}e:{var iy=Mm.navigator;if(iy){var ay=iy.userAgent;if(ay){ey=ay;break e}}ey=""}function oy(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function uy(e){var t={};for(var n in e)t[n]=e[n];return t}var sy="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function cy(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<sy.length;a++)n=sy[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function ly(e){return ly[" "](e),e}ly[" "]=Fm;var fy,hy=ny(ey,"Opera"),dy=ny(ey,"Trident")||ny(ey,"MSIE"),py=ny(ey,"Edge"),vy=py||dy,my=ny(ey,"Gecko")&&!(ny(ey.toLowerCase(),"webkit")&&!ny(ey,"Edge"))&&!(ny(ey,"Trident")||ny(ey,"MSIE"))&&!ny(ey,"Edge"),yy=ny(ey.toLowerCase(),"webkit")&&!ny(ey,"Edge");function gy(){var e=Mm.document;return e?e.documentMode:void 0}e:{var by="",ky=function(){var e=ey;return my?/rv:([^\);]+)(\)|;)/.exec(e):py?/Edge\/([\d\.]+)/.exec(e):dy?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):yy?/WebKit\/(\S+)/.exec(e):hy?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(ky&&(by=ky?ky[1]:""),dy){var wy=gy();if(null!=wy&&wy>parseFloat(by)){fy=String(wy);break e}}fy=by}var xy,Ey={};function Sy(){return function(e){var t=Ey;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=ty(String(fy)).split("."),n=ty("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=ry(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||ry(0==a[2].length,0==o[2].length)||ry(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(Mm.document&&dy){var Iy=gy();xy=Iy||(parseInt(fy,10)||void 0)}else xy=void 0;var _y=xy,Ty=function(){if(!Mm.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Mm.addEventListener("test",Fm,t),Mm.removeEventListener("test",Fm,t)}catch(n){}return e}();function Cy(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function Ny(e,t){if(Cy.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(my){e:{try{ly(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Ay[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Ny.Z.h.call(this)}}Cy.prototype.h=function(){this.defaultPrevented=!0},Gm(Ny,Cy);var Ay={2:"touch",3:"pen",4:"mouse"};Ny.prototype.h=function(){Ny.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Ry="closure_listenable_"+(1e6*Math.random()|0),Py=0;function Dy(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++Py,this.ca=this.fa=!1}function Oy(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function Ly(e){this.src=e,this.g={},this.h=0}function My(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=$m(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(Oy(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Fy(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ca&&a.listener==t&&a.capture==!!n&&a.ia==r)return i}return-1}Ly.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=Fy(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new Dy(t,this.src,a,!!r,i)).fa=n,e.push(t)),t};var Vy="closure_lm_"+(1e6*Math.random()|0),Uy={};function jy(e,t,n,r,i){if(r&&r.once)return By(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)jy(e,t[a],n,r,i);return null}return n=$y(n),e&&e[Ry]?e.N(t,n,Um(r)?!!r.capture:!!r,i):zy(e,t,n,!1,r,i)}function zy(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=Um(i)?!!i.capture:!!i,u=Hy(e);if(u||(e[Vy]=u=new Ly(e)),(n=u.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=Gy;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Ty||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Ky(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function By(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)By(e,t[a],n,r,i);return null}return n=$y(n),e&&e[Ry]?e.O(t,n,Um(r)?!!r.capture:!!r,i):zy(e,t,n,!0,r,i)}function qy(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)qy(e,t[a],n,r,i);else r=Um(r)?!!r.capture:!!r,n=$y(n),e&&e[Ry]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Fy(a=e.g[t],n,r,i))&&(Oy(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=Hy(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Fy(t,n,r,i)),(n=-1<e?t[e]:null)&&Wy(n))}function Wy(e){if("number"!==typeof e&&e&&!e.ca){var t=e.src;if(t&&t[Ry])My(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Ky(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Hy(t))?(My(n,e),0==n.h&&(n.src=null,t[Vy]=null)):Oy(e)}}}function Ky(e){return e in Uy?Uy[e]:Uy[e]="on"+e}function Gy(e,t){if(e.ca)e=!0;else{t=new Ny(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&Wy(e),e=n.call(r,t)}return e}function Hy(e){return(e=e[Vy])instanceof Ly?e:null}var Qy="__closure_events_fn_"+(1e9*Math.random()>>>0);function $y(e){return"function"===typeof e?e:(e[Qy]||(e[Qy]=function(t){return e.handleEvent(t)}),e[Qy])}function Yy(){Hm.call(this),this.i=new Ly(this),this.P=this,this.I=null}function Jy(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new Cy(t,e);else if(t instanceof Cy)t.target=t.target||e;else{var i=t;cy(t=new Cy(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=Xy(o,r,!0,t)&&i}if(i=Xy(o=t.g=e,r,!0,t)&&i,i=Xy(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=Xy(o=t.g=n[a],r,!1,t)&&i}function Xy(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ca&&o.capture==n){var u=o.listener,s=o.ia||o.src;o.fa&&My(e.i,o),i=!1!==u.call(s,r)&&i}}return i&&!r.defaultPrevented}Gm(Yy,Hm),Yy.prototype[Ry]=!0,Yy.prototype.removeEventListener=function(e,t,n,r){qy(this,e,t,n,r)},Yy.prototype.M=function(){if(Yy.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Oy(n[r]);delete t.g[e],t.h--}}this.I=null},Yy.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Yy.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Zy=Mm.JSON.stringify;function eg(){var e=sg,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var tg,ng=function(){function e(){Fa(this,e),this.h=this.g=null}return fe(e,[{key:"add",value:function(e,t){var n=rg.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),rg=new(function(){function e(t,n){Fa(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return fe(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new ig}),(function(e){return e.reset()})),ig=function(){function e(){Fa(this,e),this.next=this.g=this.h=null}return fe(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function ag(e){Mm.setTimeout((function(){throw e}),0)}function og(e,t){tg||function(){var e=Mm.Promise.resolve(void 0);tg=function(){e.then(cg)}}(),ug||(tg(),ug=!0),sg.add(e,t)}var ug=!1,sg=new ng;function cg(){for(var e;e=eg();){try{e.h.call(e.g)}catch(n){ag(n)}var t=rg;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}ug=!1}function lg(e,t){Yy.call(this),this.h=e||1,this.g=t||Mm,this.j=Wm(this.kb,this),this.l=Date.now()}function fg(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function hg(e,t,n){if("function"===typeof e)n&&(e=Wm(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Wm(e.handleEvent,e)}return 2147483647<Number(t)?-1:Mm.setTimeout(e,t||0)}function dg(e){e.g=hg((function(){e.g=null,e.i&&(e.i=!1,dg(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}Gm(lg,Yy),(Cm=lg.prototype).da=!1,Cm.S=null,Cm.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Jy(this,"tick"),this.da&&(fg(this),this.start()))}},Cm.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Cm.M=function(){lg.Z.M.call(this),fg(this),delete this.g};var pg=function(e){Na(n,e);var t=Pa(n);function n(e,r){var i;return Fa(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return fe(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:dg(this)}},{key:"M",value:function(){Ca(_a(n.prototype),"M",this).call(this),this.g&&(Mm.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(Hm);function vg(e){Hm.call(this),this.h=e,this.g={}}Gm(vg,Hm);var mg=[];function yg(e,t,n,r){Array.isArray(n)||(n&&(mg[0]=n.toString()),n=mg);for(var i=0;i<n.length;i++){var a=jy(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function gg(e){oy(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Wy(e)}),e),e.g={}}function bg(){this.g=!0}function kg(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return Zy(n)}catch(u){return t}}(e,n)+(r?" "+r:"")}))}vg.prototype.M=function(){vg.Z.M.call(this),gg(this)},vg.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},bg.prototype.Aa=function(){this.g=!1},bg.prototype.info=function(){};var wg={},xg=null;function Eg(){return xg=xg||new Yy}function Sg(e){Cy.call(this,wg.Ma,e)}function Ig(e){var t=Eg();Jy(t,new Sg(t,e))}function _g(e,t){Cy.call(this,wg.STAT_EVENT,e),this.stat=t}function Tg(e){var t=Eg();Jy(t,new _g(t,e))}function Cg(e,t){Cy.call(this,wg.Na,e),this.size=t}function Ng(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return Mm.setTimeout((function(){e()}),t)}wg.Ma="serverreachability",Gm(Sg,Cy),wg.STAT_EVENT="statevent",Gm(_g,Cy),wg.Na="timingevent",Gm(Cg,Cy);var Ag={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Rg={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Pg(){}function Dg(e){return e.h||(e.h=e.i())}function Og(){}Pg.prototype.h=null;var Lg,Mg={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Fg(){Cy.call(this,"d")}function Vg(){Cy.call(this,"c")}function Ug(){}function jg(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new vg(this),this.P=Bg,e=vy?125:void 0,this.W=new lg(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new zg}function zg(){this.i=null,this.g="",this.h=!1}Gm(Fg,Cy),Gm(Vg,Cy),Gm(Ug,Pg),Ug.prototype.g=function(){return new XMLHttpRequest},Ug.prototype.i=function(){return{}},Lg=new Ug;var Bg=45e3,qg={},Wg={};function Kg(e,t,n){e.K=1,e.v=pb(sb(t)),e.s=n,e.U=!0,Gg(e,null)}function Gg(e,t){e.F=Date.now(),Yg(e),e.A=sb(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),Tb(n.h,"t",r),e.C=0,n=e.l.H,e.h=new zg,e.g=Nk(e.l,n?t:null,!e.s),0<e.O&&(e.L=new pg(Wm(e.Ia,e,e.g),e.O)),yg(e.V,e.g,"readystatechange",e.gb),t=e.H?uy(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Ig(1),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",u=a.split("&"),s=0;s<u.length;s++){var c=u[s].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function Hg(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function Qg(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=$g(e,n))==Wg){4==t&&(e.o=4,Tg(14),i=!1),kg(e.j,e.m,null,"[Incomplete Response]");break}if(r==qg){e.o=4,Tg(15),kg(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}kg(e.j,e.m,r,null),tb(e,r)}Hg(e)&&r!=Wg&&r!=qg&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Tg(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),wk(t),t.L=!0,Tg(11))):(kg(e.j,e.m,n,"[Invalid Chunked Response]"),eb(e),Zg(e))}function $g(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Wg:(n=Number(t.substring(n,r)),isNaN(n)?qg:(r+=1)+n>t.length?Wg:(t=t.substr(r,n),e.C=r+n,t))}function Yg(e){e.Y=Date.now()+e.P,Jg(e,e.P)}function Jg(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Ng(Wm(e.eb,e),t)}function Xg(e){e.B&&(Mm.clearTimeout(e.B),e.B=null)}function Zg(e){0==e.l.G||e.I||Sk(e.l,e)}function eb(e){Xg(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,fg(e.W),gg(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function tb(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||Lb(n.i,e)))if(n.I=e.N,!e.J&&Lb(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;Ek(n),hk(n)}kk(n),Tg(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=Ng(Wm(n.ab,n),6e3));if(1>=Ob(n.i)&&n.ka){try{n.ka()}catch(a){}n.ka=void 0}}else _k(n,11)}else if((e.J||n.g==e)&&Ek(n),!Zm(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.U=a[0],a=a[1],2==n.G)if("c"==a[0]){n.J=a[1],n.la=a[2];var o=a[3];null!=o&&(n.ma=o,n.h.info("VER="+n.ma));var u=a[4];null!=u&&(n.za=u,n.h.info("SVER="+n.za));var s=a[5];null!=s&&"number"===typeof s&&0<s&&(r=1.5*s,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;!f.g&&(ny(l,"spdy")||ny(l,"quic")||ny(l,"h2"))&&(f.j=f.l,f.g=new Set,f.h&&(Mb(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.sa=h,db(r.F,r.D,h))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=e;if((r=n).oa=Ck(r,r.H?r.la:null,r.W),d.J){Fb(r.i,d);var p=d,v=r.K;v&&p.setTimeout(v),p.B&&(Xg(p),Yg(p)),r.g=d}else bk(r);0<n.l.length&&vk(n)}else"stop"!=a[0]&&"close"!=a[0]||_k(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?_k(n,7):fk(n):"noop"!=a[0]&&n.j&&n.j.wa(a),n.A=0)}Ig(4)}catch(a){}}function nb(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Vm(e)||"string"===typeof e)Ym(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(Vm(e)||"string"===typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"===typeof e)return e.split("");if(Vm(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}}function rb(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof rb)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function ib(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];ab(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)ab(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function ab(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(Cm=jg.prototype).setTimeout=function(e){this.P=e},Cm.gb=function(e){e=e.target;var t=this.L;t&&3==ok(e)?t.l():this.Ia(e)},Cm.Ia=function(e){try{if(e==this.g)e:{var t=ok(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||vy||this.g&&(this.h.h||this.g.ga()||uk(this.g)))){this.I||4!=t||7==n||Ig(8==n||0>=r?3:2),Xg(this);var i=this.g.ba();this.N=i;t:if(Hg(this)){var a=uk(this.g);e="";var o=a.length,u=4==ok(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){eb(this),Zg(this);var s="";break t}this.h.i=new Mm.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,e+=this.h.i.decode(a[n],{stream:u&&n==o-1});a.splice(0,o),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Zm(c)){var f=c;break t}}f=null}if(!(i=f)){this.i=!1,this.o=3,Tg(12),eb(this),Zg(this);break e}kg(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,tb(this,i)}this.U?(Qg(this,t,s),vy&&this.i&&3==t&&(yg(this.V,this.W,"tick",this.fb),this.W.start())):(kg(this.j,this.m,s,null),tb(this,s)),4==t&&eb(this),this.i&&!this.I&&(4==t?Sk(this.l,this):(this.i=!1,Yg(this)))}else 400==i&&0<s.indexOf("Unknown SID")?(this.o=3,Tg(12)):(this.o=0,Tg(13)),eb(this),Zg(this)}}}catch(t){}},Cm.fb=function(){if(this.g){var e=ok(this.g),t=this.g.ga();this.C<t.length&&(Xg(this),Qg(this,e,t),this.i&&4!=e&&Yg(this))}},Cm.cancel=function(){this.I=!0,eb(this)},Cm.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(Ig(3),Tg(17)),eb(this),this.o=2,Zg(this)):Jg(this,this.Y-e)},(Cm=rb.prototype).R=function(){ib(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},Cm.T=function(){return ib(this),this.g.concat()},Cm.get=function(e,t){return ab(this.h,e)?this.h[e]:t},Cm.set=function(e,t){ab(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},Cm.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],a=this.get(i);e.call(t,a,i,this)}};var ob=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function ub(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof ub){this.g=void 0!==t?t:e.g,cb(this,e.j),this.s=e.s,lb(this,e.i),fb(this,e.m),this.l=e.l,t=e.h;var n=new Eb;n.i=t.i,t.g&&(n.g=new rb(t.g),n.h=t.h),hb(this,n),this.o=e.o}else e&&(n=String(e).match(ob))?(this.g=!!t,cb(this,n[1]||"",!0),this.s=vb(n[2]||""),lb(this,n[3]||"",!0),fb(this,n[4]),this.l=vb(n[5]||"",!0),hb(this,n[6]||"",!0),this.o=vb(n[7]||"")):(this.g=!!t,this.h=new Eb(null,this.g))}function sb(e){return new ub(e)}function cb(e,t,n){e.j=n?vb(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function lb(e,t,n){e.i=n?vb(t,!0):t}function fb(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function hb(e,t,n){t instanceof Eb?(e.h=t,function(e,t){t&&!e.j&&(Sb(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Ib(this,t),Tb(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=mb(t,wb)),e.h=new Eb(t,e.g))}function db(e,t,n){e.h.set(t,n)}function pb(e){return db(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function vb(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function mb(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,yb),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function yb(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}ub.prototype.toString=function(){var e=[],t=this.j;t&&e.push(mb(t,gb,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(mb(t,gb,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(mb(n,"/"==n.charAt(0)?kb:bb,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",mb(n,xb)),e.join("")};var gb=/[#\/\?@]/g,bb=/[#\?:]/g,kb=/[#\?]/g,wb=/[#\?@]/g,xb=/#/g;function Eb(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Sb(e){e.g||(e.g=new rb,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Ib(e,t){Sb(e),t=Cb(e,t),ab(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,ab((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&ib(e)))}function _b(e,t){return Sb(e),t=Cb(e,t),ab(e.g.h,t)}function Tb(e,t,n){Ib(e,t),0<n.length&&(e.i=null,e.g.set(Cb(e,t),Xm(n)),e.h+=n.length)}function Cb(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Cm=Eb.prototype).add=function(e,t){Sb(this),this.i=null,e=Cb(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Cm.forEach=function(e,t){Sb(this),this.g.forEach((function(n,r){Ym(n,(function(n){e.call(t,n,r,this)}),this)}),this)},Cm.T=function(){Sb(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},Cm.R=function(e){Sb(this);var t=[];if("string"===typeof e)_b(this,e)&&(t=Jm(t,this.g.get(Cb(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=Jm(t,e[n])}return t},Cm.set=function(e,t){return Sb(this),this.i=null,_b(this,e=Cb(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Cm.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},Cm.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var a=0;a<r.length;a++){var o=i;""!==r[a]&&(o+="="+encodeURIComponent(String(r[a]))),e.push(o)}}return this.i=e.join("&")};var Nb=fe((function e(t,n){Fa(this,e),this.h=t,this.g=n}));function Ab(e){this.l=e||Pb,Mm.PerformanceNavigationTiming?e=0<(e=Mm.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(Mm.g&&Mm.g.Ea&&Mm.g.Ea()&&Mm.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Rb,Pb=10;function Db(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Ob(e){return e.h?1:e.g?e.g.size:0}function Lb(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Mb(e,t){e.g?e.g.add(t):e.h=t}function Fb(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Vb(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=Da(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return Xm(e.i)}function Ub(){}function jb(){this.g=new Ub}function zb(e,t,n){var r=n||"";try{nb(e,(function(e,n){var i=e;Um(e)&&(i=Zy(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function Bb(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function qb(e){this.l=e.$b||null,this.j=e.ib||!1}function Wb(e,t){Yy.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=Kb,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ab.prototype.cancel=function(){if(this.i=Vb(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=Da(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},Ub.prototype.stringify=function(e){return Mm.JSON.stringify(e,void 0)},Ub.prototype.parse=function(e){return Mm.JSON.parse(e,void 0)},Gm(qb,Pg),qb.prototype.g=function(){return new Wb(this.l,this.j)},qb.prototype.i=(Rb={},function(){return Rb}),Gm(Wb,Yy);var Kb=0;function Gb(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function Hb(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Qb(e)}function Qb(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Cm=Wb.prototype).open=function(e,t){if(this.readyState!=Kb)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Qb(this)},Cm.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||Mm).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},Cm.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Hb(this)),this.readyState=Kb},Cm.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Qb(this)),this.g&&(this.readyState=3,Qb(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof Mm.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Gb(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},Cm.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Hb(this):Qb(this),3==this.readyState&&Gb(this)}},Cm.Ua=function(e){this.g&&(this.response=this.responseText=e,Hb(this))},Cm.Ta=function(e){this.g&&(this.response=e,Hb(this))},Cm.ha=function(){this.g&&Hb(this)},Cm.setRequestHeader=function(e,t){this.v.append(e,t)},Cm.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Cm.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Wb.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var $b=Mm.JSON.parse;function Yb(e){Yy.call(this),this.headers=new rb,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Jb,this.K=this.L=!1}Gm(Yb,Yy);var Jb="",Xb=/^https?$/i,Zb=["POST","PUT"];function ek(e){return"content-type"==e.toLowerCase()}function tk(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,nk(e),ik(e)}function nk(e){e.D||(e.D=!0,Jy(e,"complete"),Jy(e,"error"))}function rk(e){if(e.h&&"undefined"!=typeof Lm&&(!e.C[1]||4!=ok(e)||2!=e.ba()))if(e.v&&4==ok(e))hg(e.Fa,0,e);else if(Jy(e,"readystatechange"),4==ok(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(ob)[1]||null;if(!a&&Mm.self&&Mm.self.location){var o=Mm.self.location.protocol;a=o.substr(0,o.length-1)}i=!Xb.test(a?a.toLowerCase():"")}t=i}if(t)Jy(e,"complete"),Jy(e,"success");else{e.m=6;try{var u=2<ok(e)?e.g.statusText:""}catch(s){u=""}e.j=u+" ["+e.ba()+"]",nk(e)}}finally{ik(e)}}}function ik(e,t){if(e.g){ak(e);var n=e.g,r=e.C[0]?Fm:null;e.g=null,e.C=null,t||Jy(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function ak(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(Mm.clearTimeout(e.A),e.A=null)}function ok(e){return e.g?e.g.readyState:0}function uk(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case Jb:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function sk(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return oy(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):db(e,t,n))}function ck(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function lk(e){this.za=0,this.l=[],this.h=new bg,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=ck("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=ck("baseRetryDelayMs",5e3,e),this.$a=ck("retryDelaySeedMs",1e4,e),this.Ya=ck("forwardChannelMaxRetries",2,e),this.ra=ck("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new Ab(e&&e.concurrentRequestLimit),this.Ca=new jb,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function fk(e){if(dk(e),3==e.G){var t=e.V++,n=sb(e.F);db(n,"SID",e.J),db(n,"RID",t),db(n,"TYPE","terminate"),yk(e,n),(t=new jg(e,e.h,t,void 0)).K=2,t.v=pb(sb(n)),n=!1,Mm.navigator&&Mm.navigator.sendBeacon&&(n=Mm.navigator.sendBeacon(t.v.toString(),"")),!n&&Mm.Image&&((new Image).src=t.v,n=!0),n||(t.g=Nk(t.l,null),t.g.ea(t.v)),t.F=Date.now(),Yg(t)}Tk(e)}function hk(e){e.g&&(wk(e),e.g.cancel(),e.g=null)}function dk(e){hk(e),e.u&&(Mm.clearTimeout(e.u),e.u=null),Ek(e),e.i.cancel(),e.m&&("number"===typeof e.m&&Mm.clearTimeout(e.m),e.m=null)}function pk(e,t){e.l.push(new Nb(e.Za++,t)),3==e.G&&vk(e)}function vk(e){Db(e.i)||e.m||(e.m=!0,og(e.Ha,e),e.C=0)}function mk(e,t){var n;n=t?t.m:e.V++;var r=sb(e.F);db(r,"SID",e.J),db(r,"RID",n),db(r,"AID",e.U),yk(e,r),e.o&&e.s&&sk(r,e.o,e.s),n=new jg(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=gk(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),Mb(e.i,n),Kg(n,r,t)}function yk(e,t){e.j&&nb({},(function(e,n){db(t,n,e)}))}function gk(e,t,n){n=Math.min(e.l.length,n);var r=e.j?Wm(e.j.Oa,e.j,e):null;e:for(var i=e.l,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var u=!0,s=0;s<n;s++){var c=i[s].h,l=i[s].g;if(0>(c-=a))a=Math.max(0,i[s].h-100),u=!1;else try{zb(l,o,"req"+c+"_")}catch(rw){r&&r(l)}}if(u){r=o.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function bk(e){e.g||e.u||(e.Y=1,og(e.Ga,e),e.A=0)}function kk(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=Ng(Wm(e.Ga,e),Ik(e,e.A)),e.A++,!0)}function wk(e){null!=e.B&&(Mm.clearTimeout(e.B),e.B=null)}function xk(e){e.g=new jg(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=sb(e.oa);db(t,"RID","rpc"),db(t,"SID",e.J),db(t,"CI",e.N?"0":"1"),db(t,"AID",e.U),yk(e,t),db(t,"TYPE","xmlhttp"),e.o&&e.s&&sk(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=pb(sb(t)),n.s=null,n.U=!0,Gg(n,e)}function Ek(e){null!=e.v&&(Mm.clearTimeout(e.v),e.v=null)}function Sk(e,t){var n=null;if(e.g==t){Ek(e),wk(e),e.g=null;var r=2}else{if(!Lb(e.i,t))return;n=t.D,Fb(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;Jy(r=Eg(),new Cg(r,n,t,i)),vk(e)}else bk(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(Ob(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=t.D.concat(e.l),!0):!(1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya))&&(e.m=Ng(Wm(e.Ha,e,t),Ik(e,e.C)),e.C++,!0))}(e,t)||2==r&&kk(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:_k(e,5);break;case 4:_k(e,10);break;case 3:_k(e,6);break;default:_k(e,2)}}function Ik(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function _k(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=Wm(e.jb,e);n||(n=new ub("//www.google.com/images/cleardot.gif"),Mm.location&&"http"==Mm.location.protocol||cb(n,"https"),pb(n)),function(e,t){var n=new bg;if(Mm.Image){var r=new Image;r.onload=Km(Bb,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Km(Bb,n,r,"TestLoadImage: error",!1,t),r.onabort=Km(Bb,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Km(Bb,n,r,"TestLoadImage: timeout",!1,t),Mm.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Tg(2);e.G=0,e.j&&e.j.va(t),Tk(e),dk(e)}function Tk(e){e.G=0,e.I=-1,e.j&&(0==Vb(e.i).length&&0==e.l.length||(e.i.i.length=0,Xm(e.l),e.l.length=0),e.j.ua())}function Ck(e,t,n){var r=function(e){return e instanceof ub?sb(e):new ub(e,void 0)}(n);if(""!=r.i)t&&lb(r,t+"."+r.i),fb(r,r.m);else{var i=Mm.location;r=function(e,t,n,r){var i=new ub(null,void 0);return e&&cb(i,e),t&&lb(i,t),n&&fb(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&oy(e.aa,(function(e,t){db(r,t,e)})),t=e.D,n=e.sa,t&&n&&db(r,t,n),db(r,"VER",e.ma),yk(e,r),r}function Nk(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new Yb(new qb({ib:!0})):new Yb(e.qa)).L=e.H,t}function Ak(){}function Rk(){if(dy&&!(10<=Number(_y)))throw Error("Environmental error: no available transport.")}function Pk(e,t){Yy.call(this),this.g=new lk(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!Zm(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Zm(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Lk(this)}function Dk(e){Fg.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Ok(){Vg.call(this),this.status=1}function Lk(e){this.g=e}(Cm=Yb.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Lg.g(),this.C=this.u?Dg(this.u):Dg(Lg),this.g.onreadystatechange=Wm(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(a){return void tk(this,a)}e=n||"";var i=new rb(this.headers);r&&nb(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=ek,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(i.T()),n=Mm.FormData&&e instanceof Mm.FormData,!(0<=$m(Zb,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{ak(this),0<this.B&&((this.K=function(e){return dy&&Sy()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Wm(this.pa,this)):this.A=hg(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(a){tk(this,a)}},Cm.pa=function(){"undefined"!=typeof Lm&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Jy(this,"timeout"),this.abort(8))},Cm.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Jy(this,"complete"),Jy(this,"abort"),ik(this))},Cm.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),ik(this,!0)),Yb.Z.M.call(this)},Cm.Fa=function(){this.s||(this.F||this.v||this.l?rk(this):this.cb())},Cm.cb=function(){rk(this)},Cm.ba=function(){try{return 2<ok(this)?this.g.status:-1}catch(Rb){return-1}},Cm.ga=function(){try{return this.g?this.g.responseText:""}catch(Rb){return""}},Cm.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),$b(t)}},Cm.Da=function(){return this.m},Cm.La=function(){return"string"===typeof this.j?this.j:String(this.j)},(Cm=lk.prototype).ma=8,Cm.G=1,Cm.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(t){}},Cm.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new jg(this,this.h,e,void 0),n=this.s;if(this.P&&(n?cy(n=uy(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var a=this.l[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=gk(this,t,r),db(i=sb(this.F),"RID",e),db(i,"CVER",22),this.D&&db(i,"X-HTTP-Session-Id",this.D),yk(this,i),this.o&&n&&sk(i,this.o,n),Mb(this.i,t),this.Ra&&db(i,"TYPE","init"),this.ja?(db(i,"$req",r),db(i,"SID","null"),t.$=!0,Kg(t,i,null)):Kg(t,i,r),this.G=2}}else 3==this.G&&(e?mk(this,e):0==this.l.length||Db(this.i)||mk(this))},Cm.Ga=function(){if(this.u=null,xk(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=Ng(Wm(this.bb,this),e)}},Cm.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Tg(10),hk(this),xk(this))},Cm.ab=function(){null!=this.v&&(this.v=null,hk(this),kk(this),Tg(19))},Cm.jb=function(e){e?(this.h.info("Successfully pinged google.com"),Tg(2)):(this.h.info("Failed to ping google.com"),Tg(1))},(Cm=Ak.prototype).xa=function(){},Cm.wa=function(){},Cm.va=function(){},Cm.ua=function(){},Cm.Oa=function(){},Rk.prototype.g=function(e,t){return new Pk(e,t)},Gm(Pk,Yy),Pk.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),og(Wm(e.hb,e,t))),Tg(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=Ck(e,null,e.W),vk(e)},Pk.prototype.close=function(){fk(this.g)},Pk.prototype.u=function(e){if("string"===typeof e){var t={};t.__data__=e,pk(this.g,t)}else this.v?((t={}).__data__=Zy(e),pk(this.g,t)):pk(this.g,e)},Pk.prototype.M=function(){this.g.j=null,delete this.j,fk(this.g),delete this.g,Pk.Z.M.call(this)},Gm(Dk,Fg),Gm(Ok,Vg),Gm(Lk,Ak),Lk.prototype.xa=function(){Jy(this.g,"a")},Lk.prototype.wa=function(e){Jy(this.g,new Dk(e))},Lk.prototype.va=function(e){Jy(this.g,new Ok(e))},Lk.prototype.ua=function(){Jy(this.g,"b")},Rk.prototype.createWebChannel=Rk.prototype.g,Pk.prototype.send=Pk.prototype.u,Pk.prototype.open=Pk.prototype.m,Pk.prototype.close=Pk.prototype.close,Ag.NO_ERROR=0,Ag.TIMEOUT=8,Ag.HTTP_ERROR=6,Rg.COMPLETE="complete",Og.EventType=Mg,Mg.OPEN="a",Mg.CLOSE="b",Mg.ERROR="c",Mg.MESSAGE="d",Yy.prototype.listen=Yy.prototype.N,Yb.prototype.listenOnce=Yb.prototype.O,Yb.prototype.getLastError=Yb.prototype.La,Yb.prototype.getLastErrorCode=Yb.prototype.Da,Yb.prototype.getStatus=Yb.prototype.ba,Yb.prototype.getResponseJson=Yb.prototype.Qa,Yb.prototype.getResponseText=Yb.prototype.ga,Yb.prototype.send=Yb.prototype.ea;var Mk=Om.createWebChannelTransport=function(){return new Rk},Fk=Om.getStatEventTarget=function(){return Eg()},Vk=Om.ErrorCode=Ag,Uk=Om.EventType=Rg,jk=Om.Event=wg,zk=Om.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Bk=Om.FetchXmlHttpFactory=qb,qk=Om.WebChannel=Og,Wk=Om.XhrIo=Yb,Kk="@firebase/firestore",Gk=function(){function e(t){Fa(this,e),this.uid=t}return fe(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();Gk.UNAUTHENTICATED=new Gk(null),Gk.GOOGLE_CREDENTIALS=new Gk("google-credentials-uid"),Gk.FIRST_PARTY=new Gk("first-party-uid"),Gk.MOCK_USER=new Gk("mock-user");var Hk="9.8.4",Qk=new To("@firebase/firestore");function $k(){return Qk.logLevel}function Yk(e){if(Qk.logLevel<=ko.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Zk);Qk.debug.apply(Qk,["Firestore (".concat(Hk,"): ").concat(e)].concat(ln(i)))}}function Jk(e){if(Qk.logLevel<=ko.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Zk);Qk.error.apply(Qk,["Firestore (".concat(Hk,"): ").concat(e)].concat(ln(i)))}}function Xk(e){if(Qk.logLevel<=ko.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Zk);Qk.warn.apply(Qk,["Firestore (".concat(Hk,"): ").concat(e)].concat(ln(i)))}}function Zk(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function ew(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(Hk,") INTERNAL ASSERTION FAILED: ")+e;throw Jk(t),new Error(t)}function tw(e,t){e||ew()}function nw(e,t){return e}var rw={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},iw=function(e){Na(n,e);var t=Pa(n);function n(e,r){var i;return Fa(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return fe(n)}(to),aw=fe((function e(){var t=this;Fa(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),ow=fe((function e(t,n){Fa(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),uw=function(){function e(){Fa(this,e)}return fe(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Gk.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),sw=function(){function e(t){Fa(this,e),this.token=t,this.changeListener=null}return fe(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),cw=function(){function e(t){Fa(this,e),this.t=t,this.currentUser=Gk.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return fe(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new aw;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new aw,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(Ma(Oa().mark((function e(){return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},u=function(e){Yk("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return u(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?u(e):(Yk("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new aw)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(Yk("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(tw("string"==typeof n.accessToken),new ow(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return tw(null===e||"string"==typeof e),new Gk(e)}}]),e}(),lw=fe((function e(t,n,r){Fa(this,e),this.type="FirstParty",this.user=Gk.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);var i=t.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)})),fw=function(){function e(t,n,r){Fa(this,e),this.h=t,this.l=n,this.m=r}return fe(e,[{key:"getToken",value:function(){return Promise.resolve(new lw(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Gk.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),hw=fe((function e(t){Fa(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),dw=function(){function e(t){Fa(this,e),this.g=t,this.forceRefresh=!1,this.appCheck=null,this.p=null}return fe(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&Yk("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.p;return n.p=e.token,Yk("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){Yk("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.g.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.g.getImmediate({optional:!0});e?i(e):Yk("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(tw("string"==typeof t.token),e.p=t.token,new hw(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();function pw(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var vw=function(){function e(){Fa(this,e)}return fe(e,null,[{key:"I",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=pw(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function mw(e,t){return e<t?-1:e>t?1:0}function yw(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function gw(e){return e+"\0"}var bw=function(){function e(t,n){if(Fa(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new iw(rw.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new iw(rw.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new iw(rw.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new iw(rw.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return fe(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?mw(this.nanoseconds,e.nanoseconds):mw(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),kw=function(){function e(t){Fa(this,e),this.timestamp=t}return fe(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new bw(0,0))}},{key:"max",value:function(){return new e(new bw(253402300799,999999999))}}]),e}(),ww=function(){function e(t,n,r){Fa(this,e),void 0===n?n=0:n>t.length&&ew(),void 0===r?r=t.length-n:r>t.length-n&&ew(),this.segments=t,this.offset=n,this.len=r}return fe(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),xw=function(e){Na(n,e);var t=Pa(n);function n(){return Fa(this,n),t.apply(this,arguments)}return fe(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var u=o[a];if(u.indexOf("//")>=0)throw new iw(rw.INVALID_ARGUMENT,"Invalid segment (".concat(u,"). Paths must not contain // in them."));e.push.apply(e,ln(u.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(ww),Ew=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Sw=function(e){Na(n,e);var t=Pa(n);function n(){return Fa(this,n),t.apply(this,arguments)}return fe(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return Ew.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new iw(rw.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var u=e[i];if("\\"===u){if(i+1===e.length)throw new iw(rw.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[i+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new iw(rw.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=s,i+=2}else"`"===u?(o=!o,i++):"."!==u||o?(r+=u,i++):(a(),i++)}if(a(),o)throw new iw(rw.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(ww),Iw=function(){function e(t){Fa(this,e),this.path=t}return fe(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===xw.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(xw.fromString(t))}},{key:"fromName",value:function(t){return new e(xw.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(xw.emptyPath())}},{key:"comparator",value:function(e,t){return xw.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new xw(t.slice()))}}]),e}(),_w=fe((function e(t,n,r,i){Fa(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));function Tw(e){return e.fields.find((function(e){return 2===e.kind}))}function Cw(e){return e.fields.filter((function(e){return 2!==e.kind}))}_w.UNKNOWN_ID=-1;var Nw=fe((function e(t,n){Fa(this,e),this.fieldPath=t,this.kind=n})),Aw=function(){function e(t,n){Fa(this,e),this.sequenceNumber=t,this.offset=n}return fe(e,null,[{key:"empty",value:function(){return new e(0,Dw.min())}}]),e}();function Rw(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=kw.fromTimestamp(1e9===r?new bw(n+1,0):new bw(n,r));return new Dw(i,Iw.empty(),t)}function Pw(e){return new Dw(e.readTime,e.key,-1)}var Dw=function(){function e(t,n,r){Fa(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return fe(e,null,[{key:"min",value:function(){return new e(kw.min(),Iw.empty(),-1)}},{key:"max",value:function(){return new e(kw.max(),Iw.empty(),-1)}}]),e}();function Ow(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=Iw.comparator(e.documentKey,t.documentKey))?n:mw(e.largestBatchId,t.largestBatchId)}var Lw="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Mw=function(){function e(){Fa(this,e),this.onCommittedListeners=[]}return fe(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}();function Fw(e){return Vw.apply(this,arguments)}function Vw(){return Vw=Ma(Oa().mark((function e(t){return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===rw.FAILED_PRECONDITION&&t.message===Lw){e.next=2;break}throw t;case 2:Yk("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),Vw.apply(this,arguments)}var Uw=function(){function e(t){var n=this;Fa(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return fe(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&ew(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=Da(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e((function(e,r){for(var i=t.length,a=new Array(i),o=0,u=function(u){var s=u;n(t[s]).next((function(t){a[s]=t,++o===i&&e(a)}),(function(e){return r(e)}))},s=0;s<i;s++)u(s)}))}},{key:"doWhile",value:function(t,n){return new e((function(e,r){!function i(){!0===t()?n().next((function(){i()}),r):e()}()}))}}]),e}(),jw=function(){function e(t,n){var r=this;Fa(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.T=new aw,this.transaction.oncomplete=function(){r.T.resolve()},this.transaction.onabort=function(){n.error?r.T.reject(new qw(t,n.error)):r.T.resolve()},this.transaction.onerror=function(e){var n=Qw(e.target.error);r.T.reject(new qw(t,n))}}return fe(e,[{key:"A",get:function(){return this.T.promise}},{key:"abort",value:function(e){e&&this.T.reject(e),this.aborted||(Yk("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"R",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new Kw(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new qw(n,t)}}}]),e}(),zw=function(){function e(t,n,r){Fa(this,e),this.name=t,this.version=n,this.P=r,12.2===e.v(Qa())&&Jk("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return fe(e,[{key:"k",value:function(){var e=Ma(Oa().mark((function e(t){var n=this;return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return Yk("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new qw(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new iw(rw.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new iw(rw.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new qw(t,n))},i.onupgradeneeded=function(e){Yk("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.P.O(t,i.transaction,e.oldVersion,n.version).next((function(){Yk("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.M&&(this.db.onversionchange=function(e){return n.M(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"F",value:function(e){this.M=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=Ma(Oa().mark((function e(t,n,r,i){var a,o,u,s,c,l=this;return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0;case 2:return++o,e.prev=3,e.delegateYield(Oa().mark((function e(){var n,o;return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.k(t);case 2:return l.db=e.sent,n=jw.open(l.db,t,a?"readonly":"readwrite",r),o=i(n).next((function(e){return n.R(),e})).catch((function(e){return n.abort(e),Uw.reject(e)})).toPromise(),o.catch((function(){})),e.next=7,n.A;case 7:return e.t0=o,e.abrupt("return",{v:e.t0});case 9:case"end":return e.stop()}}),e)}))(),"t0",5);case 5:if("object"!==typeof(u=e.t0)){e.next=8;break}return e.abrupt("return",u.v);case 8:e.next=15;break;case 10:if(e.prev=10,e.t1=e.catch(3),s=e.t1,c="FirebaseError"!==s.name&&o<3,Yk("SimpleDb","Transaction failed with error:",s.message,"Retrying:",c),this.close(),c){e.next=15;break}return e.abrupt("return",Promise.reject(s));case 15:e.next=2;break;case 17:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return Yk("SimpleDb","Removing database:",e),Gw(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"V",value:function(){if(!eo())return!1;if(e.S())return!0;var t=Qa(),n=e.v(t),r=0<n&&n<10,i=e.D(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"S",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"/react-firebase-real-time-chat",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.C)}},{key:"N",value:function(e,t){return e.store(t)}},{key:"v",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"D",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),Bw=function(){function e(t){Fa(this,e),this.$=t,this.B=!1,this.L=null}return fe(e,[{key:"isDone",get:function(){return this.B}},{key:"U",get:function(){return this.L}},{key:"cursor",set:function(e){this.$=e}},{key:"done",value:function(){this.B=!0}},{key:"q",value:function(e){this.L=e}},{key:"delete",value:function(){return Gw(this.$.delete())}}]),e}(),qw=function(e){Na(n,e);var t=Pa(n);function n(e,r){var i;return Fa(this,n),(i=t.call(this,rw.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return fe(n)}(iw);function Ww(e){return"IndexedDbTransactionError"===e.name}var Kw=function(){function e(t){Fa(this,e),this.store=t}return fe(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(Yk("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Yk("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Gw(n)}},{key:"add",value:function(e){return Yk("SimpleDb","ADD",this.store.name,e,e),Gw(this.store.add(e))}},{key:"get",value:function(e){var t=this;return Gw(this.store.get(e)).next((function(n){return void 0===n&&(n=null),Yk("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return Yk("SimpleDb","DELETE",this.store.name,e),Gw(this.store.delete(e))}},{key:"count",value:function(){return Yk("SimpleDb","COUNT",this.store.name),Gw(this.store.count())}},{key:"K",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.G(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new Uw((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"j",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new Uw((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"W",value:function(e,t){Yk("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.H=!1;var r=this.cursor(n);return this.G(r,(function(e,t,n){return n.delete()}))}},{key:"J",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.G(r,t)}},{key:"Y",value:function(e){var t=this.cursor({});return new Uw((function(n,r){t.onerror=function(e){var t=Qw(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"G",value:function(e,t){var n=[];return new Uw((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new Bw(i),o=t(i.primaryKey,i.value,a);if(o instanceof Uw){var u=o.catch((function(e){return a.done(),Uw.reject(e)}));n.push(u)}a.isDone?r():null===a.U?i.continue():i.continue(a.U)}else r()}})).next((function(){return Uw.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.H?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function Gw(e){return new Uw((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=Qw(e.target.error);n(t)}}))}var Hw=!1;function Qw(e){var t=zw.v(Qa());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new iw("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return Hw||(Hw=!0,setTimeout((function(){throw r}),0)),r}}return e}var $w=function(){function e(t,n){Fa(this,e),this.asyncQueue=t,this.X=n,this.task=null}return fe(e,[{key:"start",value:function(){}},{key:"stop",value:function(){this.task&&(this.task.cancel(),this.task=null)}},{key:"started",get:function(){return null!==this.task}},{key:"Z",value:function(e){var t=this;Yk("IndexBackiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,Ma(Oa().mark((function e(){return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.task=null,e.prev=1,e.t0=Yk,e.t1="Documents written: ",e.next=6,t.X.tt();case 6:e.t2=e.sent,e.t3=e.t1.concat.call(e.t1,e.t2),(0,e.t0)("IndexBackiller",e.t3),e.next=19;break;case 11:if(e.prev=11,e.t4=e.catch(1),!Ww(e.t4)){e.next=17;break}Yk("IndexBackiller","Ignoring IndexedDB error during index backfill: ",e.t4),e.next=19;break;case 17:return e.next=19,Fw(e.t4);case 19:return e.next=21,t.Z(1);case 21:case"end":return e.stop()}}),e,null,[[1,11]])}))))}}]),e}(),Yw=function(){function e(t,n){Fa(this,e),this.localStore=t,this.persistence=n}return fe(e,[{key:"tt",value:function(){var e=Ma(Oa().mark((function e(){var t,n=this,r=arguments;return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:50,e.abrupt("return",this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(function(e){return n.et(e,t)})));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"et",value:function(e,t){var n=this,r=new Set,i=t,a=!0;return Uw.doWhile((function(){return!0===a&&i>0}),(function(){return n.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((function(t){if(null!==t&&!r.has(t))return Yk("IndexBackiller","Processing collection: ".concat(t)),n.nt(e,t,i).next((function(e){i-=e,r.add(t)}));a=!1}))})).next((function(){return t-i}))}},{key:"nt",value:function(e,t,n){var r=this;return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((function(i){return r.localStore.localDocuments.getNextDocuments(e,t,i,n).next((function(n){var a=n.changes;return r.localStore.indexManager.updateIndexEntries(e,a).next((function(){return r.st(i,n)})).next((function(n){return Yk("IndexBackiller","Updating offset: ".concat(n)),r.localStore.indexManager.updateCollectionGroup(e,t,n)})).next((function(){return a.size}))}))}))}},{key:"st",value:function(e,t){var n=e;return t.changes.forEach((function(e,t){var r=Pw(t);Ow(r,n)>0&&(n=r)})),new Dw(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}]),e}(),Jw=function(){function e(t,n){var r=this;Fa(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.it(e)},this.rt=function(e){return n.writeSequenceNumber(e)})}return fe(e,[{key:"it",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.rt&&this.rt(e),e}}]),e}();function Xw(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Zw(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function ex(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}Jw.ot=-1;var tx=function(){function e(t,n){Fa(this,e),this.comparator=t,this.root=n||rx.EMPTY}return fe(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,rx.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,rx.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new nx(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new nx(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new nx(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new nx(this.root,e,this.comparator,!0)}}]),e}(),nx=function(){function e(t,n,r,i){Fa(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return fe(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),rx=function(){function e(t,n,r,i,a){Fa(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return fe(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw ew();if(this.right.isRed())throw ew();var e=this.left.check();if(e!==this.right.check())throw ew();return e+(this.isRed()?0:1)}}]),e}();rx.EMPTY=null,rx.RED=!0,rx.BLACK=!1,rx.EMPTY=new(function(){function e(){Fa(this,e),this.size=0}return fe(e,[{key:"key",get:function(){throw ew()}},{key:"value",get:function(){throw ew()}},{key:"color",get:function(){throw ew()}},{key:"left",get:function(){throw ew()}},{key:"right",get:function(){throw ew()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new rx(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var ix=function(){function e(t){Fa(this,e),this.comparator=t,this.data=new tx(this.comparator)}return fe(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new ax(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new ax(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),ax=function(){function e(t){Fa(this,e),this.iter=t}return fe(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function ox(e){return e.hasNext()?e.getNext():void 0}var ux=function(){function e(t){Fa(this,e),this.fields=t,t.sort(Sw.comparator)}return fe(e,[{key:"unionWith",value:function(t){var n,r=new ix(Sw.comparator),i=Da(this.fields);try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r.add(a)}}catch(c){i.e(c)}finally{i.f()}var o,u=Da(t);try{for(u.s();!(o=u.n()).done;){var s=o.value;r=r.add(s)}}catch(c){u.e(c)}finally{u.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=Da(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return yw(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}]),e}();var sx=function(e){function t(e){Fa(this,t),this.binaryString=e}return fe(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return mw(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){return new t(atob(e))}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();sx.EMPTY_BYTE_STRING=new sx("");var cx=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function lx(e){if(tw(!!e),"string"==typeof e){var t=0,n=cx.exec(e);if(tw(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:fx(e.seconds),nanos:fx(e.nanos)}}function fx(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function hx(e){return"string"==typeof e?sx.fromBase64String(e):sx.fromUint8Array(e)}function dx(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function px(e){var t=e.mapValue.fields.__previous_value__;return dx(t)?px(t):t}function vx(e){var t=lx(e.mapValue.fields.__local_write_time__.timestampValue);return new bw(t.seconds,t.nanos)}var mx=fe((function e(t,n,r,i,a,o,u,s){Fa(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.useFetchStreams=s})),yx=function(){function e(t,n){Fa(this,e),this.projectId=t,this.database=n||"(default)"}return fe(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}();function gx(e){return null==e}function bx(e){return 0===e&&1/e==-1/0}function kx(e){return"number"==typeof e&&Number.isInteger(e)&&!bx(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var wx={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},xx={nullValue:"NULL_VALUE"};function Ex(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?dx(e)?4:Fx(e)?9007199254740991:10:ew()}function Sx(e,t){if(e===t)return!0;var n=Ex(e);if(n!==Ex(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return vx(e).isEqual(vx(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=lx(e.timestampValue),r=lx(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return hx(e.bytesValue).isEqual(hx(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return fx(e.geoPointValue.latitude)===fx(t.geoPointValue.latitude)&&fx(e.geoPointValue.longitude)===fx(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return fx(e.integerValue)===fx(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=fx(e.doubleValue),r=fx(t.doubleValue);return n===r?bx(n)===bx(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return yw(e.arrayValue.values||[],t.arrayValue.values||[],Sx);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Xw(n)!==Xw(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Sx(n[i],r[i])))return!1;return!0}(e,t);default:return ew()}}function Ix(e,t){return void 0!==(e.values||[]).find((function(e){return Sx(e,t)}))}function _x(e,t){if(e===t)return 0;var n=Ex(e),r=Ex(t);if(n!==r)return mw(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return mw(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=fx(e.integerValue||e.doubleValue),r=fx(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Tx(e.timestampValue,t.timestampValue);case 4:return Tx(vx(e),vx(t));case 5:return mw(e.stringValue,t.stringValue);case 6:return function(e,t){var n=hx(e),r=hx(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=mw(n[i],r[i]);if(0!==a)return a}return mw(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=mw(fx(e.latitude),fx(t.latitude));return 0!==n?n:mw(fx(e.longitude),fx(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=_x(n[i],r[i]);if(a)return a}return mw(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===wx.mapValue&&t===wx.mapValue)return 0;if(e===wx.mapValue)return 1;if(t===wx.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var u=mw(r[o],a[o]);if(0!==u)return u;var s=_x(n[r[o]],i[a[o]]);if(0!==s)return s}return mw(r.length,a.length)}(e.mapValue,t.mapValue);default:throw ew()}}function Tx(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return mw(e,t);var n=lx(e),r=lx(t),i=mw(n.seconds,r.seconds);return 0!==i?i:mw(n.nanos,r.nanos)}function Cx(e){return Nx(e)}function Nx(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=lx(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?hx(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,Iw.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=Da(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=Nx(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=Da(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(Nx(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):ew();var t,n}function Ax(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Rx(e){return!!e&&"integerValue"in e}function Px(e){return!!e&&"arrayValue"in e}function Dx(e){return!!e&&"nullValue"in e}function Ox(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Lx(e){return!!e&&"mapValue"in e}function Mx(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return Zw(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=Mx(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Mx(e.arrayValue.values[r]);return n}return Object.assign({},e)}function Fx(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function Vx(e){return"nullValue"in e?xx:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?Ax(yx.empty(),Iw.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:ew()}function Ux(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?Ax(yx.empty(),Iw.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?wx:ew()}function jx(e,t){var n=_x(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function zx(e,t){var n=_x(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}var Bx=function(){function e(t){Fa(this,e),this.value=t}return fe(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!Lx(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Mx(t)}},{key:"setAll",value:function(e){var t=this,n=Sw.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=Mx(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());Lx(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return Sx(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];Lx(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){Zw(t,(function(t,n){return e[t]=n}));var r,i=Da(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(Mx(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function qx(e){var t=[];return Zw(e.fields,(function(e,n){var r=new Sw([e]);if(Lx(n)){var i=qx(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=Da(i);try{for(o.s();!(a=o.n()).done;){var u=a.value;t.push(r.child(u))}}catch(s){o.e(s)}finally{o.f()}}}else t.push(r)})),new ux(t)}var Wx=function(){function e(t,n,r,i,a,o){Fa(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.data=a,this.documentState=o}return fe(e,[{key:"convertToFoundDocument",value:function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=Bx.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=Bx.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=kw.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,kw.min(),kw.min(),Bx.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r){return new e(t,1,n,kw.min(),r,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,kw.min(),Bx.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,kw.min(),Bx.empty(),2)}}]),e}(),Kx=fe((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;Fa(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=u,this.ut=null}));function Gx(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new Kx(e,t,n,r,i,a,o)}function Hx(e){var t=nw(e);if(null===t.ut){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return(t=e).field.canonicalString()+t.op.toString()+Cx(t.value);var t})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),gx(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return Cx(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return Cx(e)})).join(",")),t.ut=n}return t.ut}function Qx(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!lE(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],a=t.filters[r],i.op!==a.op||!i.field.isEqual(a.field)||!Sx(i.value,a.value))return!1;var i,a;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!hE(e.startAt,t.startAt)&&hE(e.endAt,t.endAt)}function $x(e){return Iw.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function Yx(e,t){return e.filters.filter((function(e){return e instanceof Zx&&e.field.isEqual(t)}))}function Jx(e,t,n){var r,i=xx,a=!0,o=Da(Yx(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=xx,c=!0;switch(u.op){case"<":case"<=":s=Vx(u.value);break;case"==":case"in":case">=":s=u.value;break;case">":s=u.value,c=!1;break;case"!=":case"not-in":s=xx}jx({value:i,inclusive:a},{value:s,inclusive:c})<0&&(i=s,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];jx({value:i,inclusive:a},{value:f,inclusive:n.inclusive})<0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}function Xx(e,t,n){var r,i=wx,a=!0,o=Da(Yx(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=wx,c=!0;switch(u.op){case">=":case">":s=Ux(u.value),c=!1;break;case"==":case"in":case"<=":s=u.value;break;case"<":s=u.value,c=!1;break;case"!=":case"not-in":s=wx}zx({value:i,inclusive:a},{value:s,inclusive:c})>0&&(i=s,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];zx({value:i,inclusive:a},{value:f,inclusive:n.inclusive})>0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}var Zx=function(e){Na(n,e);var t=Pa(n);function n(e,r,i){var a;return Fa(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return fe(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.at(_x(t,this.value)):null!==t&&Ex(this.value)===Ex(t)&&this.at(_x(t,this.value))}},{key:"at",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return ew()}}},{key:"ht",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.ct(e,t,r):new eE(e,t,r):"array-contains"===t?new iE(e,r):"in"===t?new aE(e,r):"not-in"===t?new oE(e,r):"array-contains-any"===t?new uE(e,r):new n(e,t,r)}},{key:"ct",value:function(e,t,n){return"in"===t?new tE(e,n):new nE(e,n)}}]),n}(function(){return fe((function e(){Fa(this,e)}))}()),eE=function(e){Na(n,e);var t=Pa(n);function n(e,r,i){var a;return Fa(this,n),(a=t.call(this,e,r,i)).key=Iw.fromName(i.referenceValue),a}return fe(n,[{key:"matches",value:function(e){var t=Iw.comparator(e.key,this.key);return this.at(t)}}]),n}(Zx),tE=function(e){Na(n,e);var t=Pa(n);function n(e,r){var i;return Fa(this,n),(i=t.call(this,e,"in",r)).keys=rE("in",r),i}return fe(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Zx),nE=function(e){Na(n,e);var t=Pa(n);function n(e,r){var i;return Fa(this,n),(i=t.call(this,e,"not-in",r)).keys=rE("not-in",r),i}return fe(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Zx);function rE(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return Iw.fromName(e.referenceValue)}))}var iE=function(e){Na(n,e);var t=Pa(n);function n(e,r){return Fa(this,n),t.call(this,e,"array-contains",r)}return fe(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return Px(t)&&Ix(t.arrayValue,this.value)}}]),n}(Zx),aE=function(e){Na(n,e);var t=Pa(n);function n(e,r){return Fa(this,n),t.call(this,e,"in",r)}return fe(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&Ix(this.value.arrayValue,t)}}]),n}(Zx),oE=function(e){Na(n,e);var t=Pa(n);function n(e,r){return Fa(this,n),t.call(this,e,"not-in",r)}return fe(n,[{key:"matches",value:function(e){if(Ix(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!Ix(this.value.arrayValue,t)}}]),n}(Zx),uE=function(e){Na(n,e);var t=Pa(n);function n(e,r){return Fa(this,n),t.call(this,e,"array-contains-any",r)}return fe(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!Px(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return Ix(t.value.arrayValue,e)}))}}]),n}(Zx),sE=fe((function e(t,n){Fa(this,e),this.position=t,this.inclusive=n})),cE=fe((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";Fa(this,e),this.field=t,this.dir=n}));function lE(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function fE(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?Iw.comparator(Iw.fromName(o.referenceValue),n.key):_x(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function hE(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Sx(e.position[n],t.position[n]))return!1;return!0}var dE=fe((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;Fa(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=u,this.endAt=s,this.lt=null,this.ft=null,this.startAt,this.endAt}));function pE(e,t,n,r,i,a,o,u){return new dE(e,t,n,r,i,a,o,u)}function vE(e){return new dE(e)}function mE(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function yE(e){var t,n=Da(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.ht())return r.field}}catch(i){n.e(i)}finally{n.f()}return null}function gE(e){return null!==e.collectionGroup}function bE(e){var t=nw(e);if(null===t.lt){t.lt=[];var n=yE(t),r=mE(t);if(null!==n&&null===r)n.isKeyField()||t.lt.push(new cE(n)),t.lt.push(new cE(Sw.keyField(),"asc"));else{var i,a=!1,o=Da(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var u=i.value;t.lt.push(u),u.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.lt.push(new cE(Sw.keyField(),s))}}}return t.lt}function kE(e){var t=nw(e);if(!t.ft)if("F"===t.limitType)t.ft=Gx(t.path,t.collectionGroup,bE(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=Da(bE(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new cE(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var u=t.endAt?new sE(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new sE(t.startAt.position,t.startAt.inclusive):null;t.ft=Gx(t.path,t.collectionGroup,r,t.filters,t.limit,u,s)}return t.ft}function wE(e,t,n){return new dE(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function xE(e,t){return Qx(kE(e),kE(t))&&e.limitType===t.limitType}function EE(e){return"".concat(Hx(kE(e)),"|lt:").concat(e.limitType)}function SE(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return"".concat((t=e).field.canonicalString()," ").concat(t.op," ").concat(Cx(t.value));var t})).join(", "),"]")),gx(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return Cx(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return Cx(e)})).join(",")),"Target(".concat(t,")")}(kE(e)),"; limitType=").concat(e.limitType,")")}function IE(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Iw.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=Da(e.explicitOrderBy);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=Da(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=fE(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,bE(e),t))&&!(e.endAt&&!function(e,t,n){var r=fE(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,bE(e),t))}(e,t)}function _E(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function TE(e){return function(t,n){var r,i=!1,a=Da(bE(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,u=CE(o,t,n);if(0!==u)return u;i=i||o.field.isKeyField()}}catch(s){a.e(s)}finally{a.f()}return 0}}function CE(e,t,n){var r=e.field.isKeyField()?Iw.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?_x(r,i):ew()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return ew()}}function NE(e,t){if(e.dt){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:bx(t)?"-0":t}}function AE(e){return{integerValue:""+e}}function RE(e,t){return kx(t)?AE(t):NE(e,t)}var PE=fe((function e(){Fa(this,e),this._=void 0}));function DE(e,t,n){return e instanceof ME?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof FE?VE(e,t):e instanceof UE?jE(e,t):function(e,t){var n=LE(e,t),r=BE(n)+BE(e._t);return Rx(n)&&Rx(e._t)?AE(r):NE(e.wt,r)}(e,t)}function OE(e,t,n){return e instanceof FE?VE(e,t):e instanceof UE?jE(e,t):n}function LE(e,t){return e instanceof zE?Rx(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var ME=function(e){Na(n,e);var t=Pa(n);function n(){return Fa(this,n),t.apply(this,arguments)}return fe(n)}(PE),FE=function(e){Na(n,e);var t=Pa(n);function n(e){var r;return Fa(this,n),(r=t.call(this)).elements=e,r}return fe(n)}(PE);function VE(e,t){var n,r=qE(t),i=Da(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return Sx(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var UE=function(e){Na(n,e);var t=Pa(n);function n(e){var r;return Fa(this,n),(r=t.call(this)).elements=e,r}return fe(n)}(PE);function jE(e,t){var n,r=qE(t),i=Da(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!Sx(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var zE=function(e){Na(n,e);var t=Pa(n);function n(e,r){var i;return Fa(this,n),(i=t.call(this)).wt=e,i._t=r,i}return fe(n)}(PE);function BE(e){return fx(e.integerValue||e.doubleValue)}function qE(e){return Px(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var WE=fe((function e(t,n){Fa(this,e),this.field=t,this.transform=n}));var KE=fe((function e(t,n){Fa(this,e),this.version=t,this.transformResults=n})),GE=function(){function e(t,n){Fa(this,e),this.updateTime=t,this.exists=n}return fe(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function HE(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var QE=fe((function e(){Fa(this,e)}));function $E(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new uS(e.key,GE.none()):new eS(e.key,e.data,GE.none());var n,r=e.data,i=Bx.empty(),a=new ix(Sw.comparator),o=Da(t.fields);try{for(o.s();!(n=o.n()).done;){var u=n.value;if(!a.has(u)){var s=r.field(u);null===s&&u.length>1&&(u=u.popLast(),s=r.field(u)),null===s?i.delete(u):i.set(u,s),a=a.add(u)}}}catch(c){o.e(c)}finally{o.f()}return new tS(e.key,i,new ux(a.toArray()),GE.none())}function YE(e,t,n){e instanceof eS?function(e,t,n){var r=e.value.clone(),i=rS(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof tS?function(e,t,n){if(HE(e.precondition,t)){var r=rS(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(nS(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function JE(e,t,n,r){return e instanceof eS?function(e,t,n,r){if(!HE(e.precondition,t))return n;var i=e.value.clone(),a=iS(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof tS?function(e,t,n,r){if(!HE(e.precondition,t))return n;var i=iS(e.fieldTransforms,r,t),a=t.data;return a.setAll(nS(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((function(e){return e.field})))}(e,t,n,r):function(e,t,n){return HE(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function XE(e,t){var n,r=null,i=Da(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),u=LE(a.transform,o||null);null!=u&&(null===r&&(r=Bx.empty()),r.set(a.field,u))}}catch(s){i.e(s)}finally{i.f()}return r||null}function ZE(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&yw(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof FE&&t instanceof FE||e instanceof UE&&t instanceof UE?yw(e.elements,t.elements,Sx):e instanceof zE&&t instanceof zE?Sx(e._t,t._t):e instanceof ME&&t instanceof ME}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var eS=function(e){Na(n,e);var t=Pa(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return Fa(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return fe(n,[{key:"getFieldMask",value:function(){return null}}]),n}(QE),tS=function(e){Na(n,e);var t=Pa(n);function n(e,r,i,a){var o,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return Fa(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=u,o.type=1,o}return fe(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}(QE);function nS(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function rS(e,t,n){var r=new Map;tw(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,u=t.data.field(a.field);r.set(a.field,OE(o,u,n[i]))}return r}function iS(e,t,n){var r,i=new Map,a=Da(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,u=o.transform,s=n.data.field(o.field);i.set(o.field,DE(u,s,t))}}catch(c){a.e(c)}finally{a.f()}return i}var aS,oS,uS=function(e){Na(n,e);var t=Pa(n);function n(e,r){var i;return Fa(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return fe(n,[{key:"getFieldMask",value:function(){return null}}]),n}(QE),sS=function(e){Na(n,e);var t=Pa(n);function n(e,r){var i;return Fa(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return fe(n,[{key:"getFieldMask",value:function(){return null}}]),n}(QE),cS=fe((function e(t){Fa(this,e),this.count=t}));function lS(e){switch(e){default:return ew();case rw.CANCELLED:case rw.UNKNOWN:case rw.DEADLINE_EXCEEDED:case rw.RESOURCE_EXHAUSTED:case rw.INTERNAL:case rw.UNAVAILABLE:case rw.UNAUTHENTICATED:return!1;case rw.INVALID_ARGUMENT:case rw.NOT_FOUND:case rw.ALREADY_EXISTS:case rw.PERMISSION_DENIED:case rw.FAILED_PRECONDITION:case rw.ABORTED:case rw.OUT_OF_RANGE:case rw.UNIMPLEMENTED:case rw.DATA_LOSS:return!0}}function fS(e){if(void 0===e)return Jk("GRPC error has no .code"),rw.UNKNOWN;switch(e){case aS.OK:return rw.OK;case aS.CANCELLED:return rw.CANCELLED;case aS.UNKNOWN:return rw.UNKNOWN;case aS.DEADLINE_EXCEEDED:return rw.DEADLINE_EXCEEDED;case aS.RESOURCE_EXHAUSTED:return rw.RESOURCE_EXHAUSTED;case aS.INTERNAL:return rw.INTERNAL;case aS.UNAVAILABLE:return rw.UNAVAILABLE;case aS.UNAUTHENTICATED:return rw.UNAUTHENTICATED;case aS.INVALID_ARGUMENT:return rw.INVALID_ARGUMENT;case aS.NOT_FOUND:return rw.NOT_FOUND;case aS.ALREADY_EXISTS:return rw.ALREADY_EXISTS;case aS.PERMISSION_DENIED:return rw.PERMISSION_DENIED;case aS.FAILED_PRECONDITION:return rw.FAILED_PRECONDITION;case aS.ABORTED:return rw.ABORTED;case aS.OUT_OF_RANGE:return rw.OUT_OF_RANGE;case aS.UNIMPLEMENTED:return rw.UNIMPLEMENTED;case aS.DATA_LOSS:return rw.DATA_LOSS;default:return ew()}}(oS=aS||(aS={}))[oS.OK=0]="OK",oS[oS.CANCELLED=1]="CANCELLED",oS[oS.UNKNOWN=2]="UNKNOWN",oS[oS.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",oS[oS.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",oS[oS.NOT_FOUND=5]="NOT_FOUND",oS[oS.ALREADY_EXISTS=6]="ALREADY_EXISTS",oS[oS.PERMISSION_DENIED=7]="PERMISSION_DENIED",oS[oS.UNAUTHENTICATED=16]="UNAUTHENTICATED",oS[oS.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",oS[oS.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",oS[oS.ABORTED=10]="ABORTED",oS[oS.OUT_OF_RANGE=11]="OUT_OF_RANGE",oS[oS.UNIMPLEMENTED=12]="UNIMPLEMENTED",oS[oS.INTERNAL=13]="INTERNAL",oS[oS.UNAVAILABLE=14]="UNAVAILABLE",oS[oS.DATA_LOSS=15]="DATA_LOSS";var hS=function(){function e(t,n){Fa(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return fe(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=Da(n);try{for(i.s();!(r=i.n()).done;){var a=l(r.value,2),o=a[0],u=a[1];if(this.equalsFn(o,e))return u}}catch(s){i.e(s)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){Zw(this.inner,(function(t,n){var r,i=Da(n);try{for(i.s();!(r=i.n()).done;){var a=l(r.value,2),o=a[0],u=a[1];e(o,u)}}catch(s){i.e(s)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return ex(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),dS=new tx(Iw.comparator);function pS(){return dS}var vS=new tx(Iw.comparator);function mS(){for(var e=vS,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function yS(e){var t=vS;return e.forEach((function(e,n){return t=t.insert(e,n.overlayedDocument)})),t}function gS(){return kS()}function bS(){return kS()}function kS(){return new hS((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var wS=new tx(Iw.comparator),xS=new ix(Iw.comparator);function ES(){for(var e=xS,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var SS=new ix(mw);function IS(){return SS}var _S=function(){function e(t,n,r,i,a){Fa(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return fe(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n){var r=new Map;return r.set(t,TS.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(kw.min(),r,IS(),pS(),ES())}}]),e}(),TS=function(){function e(t,n,r,i,a){Fa(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return fe(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n){return new e(sx.EMPTY_BYTE_STRING,n,ES(),ES(),ES())}}]),e}(),CS=fe((function e(t,n,r,i){Fa(this,e),this.gt=t,this.removedTargetIds=n,this.key=r,this.yt=i})),NS=fe((function e(t,n){Fa(this,e),this.targetId=t,this.It=n})),AS=fe((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:sx.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;Fa(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),RS=function(){function e(){Fa(this,e),this.Tt=0,this.Et=OS(),this.At=sx.EMPTY_BYTE_STRING,this.Rt=!1,this.bt=!0}return fe(e,[{key:"current",get:function(){return this.Rt}},{key:"resumeToken",get:function(){return this.At}},{key:"Pt",get:function(){return 0!==this.Tt}},{key:"vt",get:function(){return this.bt}},{key:"Vt",value:function(e){e.approximateByteSize()>0&&(this.bt=!0,this.At=e)}},{key:"St",value:function(){var e=ES(),t=ES(),n=ES();return this.Et.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:ew()}})),new TS(this.At,this.Rt,e,t,n)}},{key:"Dt",value:function(){this.bt=!1,this.Et=OS()}},{key:"Ct",value:function(e,t){this.bt=!0,this.Et=this.Et.insert(e,t)}},{key:"xt",value:function(e){this.bt=!0,this.Et=this.Et.remove(e)}},{key:"Nt",value:function(){this.Tt+=1}},{key:"kt",value:function(){this.Tt-=1}},{key:"Ot",value:function(){this.bt=!0,this.Rt=!0}}]),e}(),PS=function(){function e(t){Fa(this,e),this.Mt=t,this.Ft=new Map,this.$t=pS(),this.Bt=DS(),this.Lt=new ix(mw)}return fe(e,[{key:"Ut",value:function(e){var t,n=Da(e.gt);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.yt&&e.yt.isFoundDocument()?this.qt(r,e.yt):this.Kt(r,e.key,e.yt)}}catch(u){n.e(u)}finally{n.f()}var i,a=Da(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.Kt(o,e.key,e.yt)}}catch(u){a.e(u)}finally{a.f()}}},{key:"Gt",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.Qt(n);switch(e.state){case 0:t.jt(n)&&r.Vt(e.resumeToken);break;case 1:r.kt(),r.Pt||r.Dt(),r.Vt(e.resumeToken);break;case 2:r.kt(),r.Pt||t.removeTarget(n);break;case 3:t.jt(n)&&(r.Ot(),r.Vt(e.resumeToken));break;case 4:t.jt(n)&&(t.Wt(n),r.Vt(e.resumeToken));break;default:ew()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.Ft.forEach((function(e,r){n.jt(r)&&t(r)}))}},{key:"zt",value:function(e){var t=e.targetId,n=e.It.count,r=this.Ht(t);if(r){var i=r.target;if($x(i))if(0===n){var a=new Iw(i.path);this.Kt(t,a,Wx.newNoDocument(a,kw.min()))}else tw(1===n);else this.Jt(t)!==n&&(this.Wt(t),this.Lt=this.Lt.add(t))}}},{key:"Yt",value:function(e){var t=this,n=new Map;this.Ft.forEach((function(r,i){var a=t.Ht(i);if(a){if(r.current&&$x(a.target)){var o=new Iw(a.target.path);null!==t.$t.get(o)||t.Xt(i,o)||t.Kt(i,o,Wx.newNoDocument(o,e))}r.vt&&(n.set(i,r.St()),r.Dt())}}));var r=ES();this.Bt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.Ht(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.$t.forEach((function(t,n){return n.setReadTime(e)}));var i=new _S(e,n,this.Lt,this.$t,r);return this.$t=pS(),this.Bt=DS(),this.Lt=new ix(mw),i}},{key:"qt",value:function(e,t){if(this.jt(e)){var n=this.Xt(e,t.key)?2:0;this.Qt(e).Ct(t.key,n),this.$t=this.$t.insert(t.key,t),this.Bt=this.Bt.insert(t.key,this.Zt(t.key).add(e))}}},{key:"Kt",value:function(e,t,n){if(this.jt(e)){var r=this.Qt(e);this.Xt(e,t)?r.Ct(t,1):r.xt(t),this.Bt=this.Bt.insert(t,this.Zt(t).delete(e)),n&&(this.$t=this.$t.insert(t,n))}}},{key:"removeTarget",value:function(e){this.Ft.delete(e)}},{key:"Jt",value:function(e){var t=this.Qt(e).St();return this.Mt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Nt",value:function(e){this.Qt(e).Nt()}},{key:"Qt",value:function(e){var t=this.Ft.get(e);return t||(t=new RS,this.Ft.set(e,t)),t}},{key:"Zt",value:function(e){var t=this.Bt.get(e);return t||(t=new ix(mw),this.Bt=this.Bt.insert(e,t)),t}},{key:"jt",value:function(e){var t=null!==this.Ht(e);return t||Yk("WatchChangeAggregator","Detected inactive target",e),t}},{key:"Ht",value:function(e){var t=this.Ft.get(e);return t&&t.Pt?null:this.Mt.te(e)}},{key:"Wt",value:function(e){var t=this;this.Ft.set(e,new RS),this.Mt.getRemoteKeysForTarget(e).forEach((function(n){t.Kt(e,n,null)}))}},{key:"Xt",value:function(e,t){return this.Mt.getRemoteKeysForTarget(e).has(t)}}]),e}();function DS(){return new tx(Iw.comparator)}function OS(){return new tx(Iw.comparator)}var LS={asc:"ASCENDING",desc:"DESCENDING"},MS={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},FS=fe((function e(t,n){Fa(this,e),this.databaseId=t,this.dt=n}));function VS(e,t){return e.dt?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function US(e,t){return e.dt?t.toBase64():t.toUint8Array()}function jS(e,t){return VS(e,t.toTimestamp())}function zS(e){return tw(!!e),kw.fromTimestamp(function(e){var t=lx(e);return new bw(t.seconds,t.nanos)}(e))}function BS(e,t){return function(e){return new xw(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function qS(e){var t=xw.fromString(e);return tw(hI(t)),t}function WS(e,t){return BS(e.databaseId,t.path)}function KS(e,t){var n=qS(t);if(n.get(1)!==e.databaseId.projectId)throw new iw(rw.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new iw(rw.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Iw($S(n))}function GS(e,t){return BS(e.databaseId,t)}function HS(e){var t=qS(e);return 4===t.length?xw.emptyPath():$S(t)}function QS(e){return new xw(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function $S(e){return tw(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function YS(e,t,n){return{name:WS(e,t),fields:n.value.mapValue.fields}}function JS(e,t,n){var r=KS(e,t.name),i=zS(t.updateTime),a=new Bx({mapValue:{fields:t.fields}}),o=Wx.newFoundDocument(r,i,a);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function XS(e,t){return"found"in t?function(e,t){tw(!!t.found),t.found.name,t.found.updateTime;var n=KS(e,t.found.name),r=zS(t.found.updateTime),i=new Bx({mapValue:{fields:t.found.fields}});return Wx.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){tw(!!t.missing),tw(!!t.readTime);var n=KS(e,t.missing),r=zS(t.readTime);return Wx.newNoDocument(n,r)}(e,t):ew()}function ZS(e,t){var n;if(t instanceof eS)n={update:YS(e,t.key,t.value)};else if(t instanceof uS)n={delete:WS(e,t.key)};else if(t instanceof tS)n={update:YS(e,t.key,t.data),updateMask:fI(t.fieldMask)};else{if(!(t instanceof sS))return ew();n={verify:WS(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof ME)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof FE)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof UE)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof zE)return{fieldPath:t.field.canonicalString(),increment:n._t};throw ew()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:jS(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:ew()}(e,t.precondition)),n}function eI(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?GE.updateTime(zS(e.updateTime)):void 0!==e.exists?GE.exists(e.exists):GE.none()}(t.currentDocument):GE.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)tw("REQUEST_TIME"===t.setToServerValue),n=new ME;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new FE(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new UE(i)}else"increment"in t?n=new zE(e,t.increment):ew();var a=Sw.fromServerFormat(t.fieldPath);return new WE(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=KS(e,t.update.name),a=new Bx({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new ux(t.map((function(e){return Sw.fromServerFormat(e)})))}(t.updateMask);return new tS(i,a,o,n,r)}return new eS(i,a,n,r)}if(t.delete){var u=KS(e,t.delete);return new uS(u,n)}if(t.verify){var s=KS(e,t.verify);return new sS(s,n)}return ew()}function tI(e,t){return{documents:[GS(e,t.path)]}}function nI(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=GS(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=GS(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(Ox(e.value))return{unaryFilter:{field:uI(e.field),op:"IS_NAN"}};if(Dx(e.value))return{unaryFilter:{field:uI(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Ox(e.value))return{unaryFilter:{field:uI(e.field),op:"IS_NOT_NAN"}};if(Dx(e.value))return{unaryFilter:{field:uI(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:uI(e.field),op:oI(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:uI(e.field),direction:aI(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,u=function(e,t){return e.dt||gx(t)?t:{value:t}}(e,t.limit);return null!==u&&(n.structuredQuery.limit=u),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function rI(e){var t=HS(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){tw(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=iI(n.where));var u=[];n.orderBy&&(u=n.orderBy.map((function(e){return function(e){return new cE(sI(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var s=null;n.limit&&(s=function(e){var t;return gx(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new sE(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new sE(n,t)}(n.endAt)),pE(t,i,u,o,s,"F",c,l)}function iI(e){return e?void 0!==e.unaryFilter?[lI(e)]:void 0!==e.fieldFilter?[cI(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return iI(e)})).reduce((function(e,t){return e.concat(t)})):ew():[]}function aI(e){return LS[e]}function oI(e){return MS[e]}function uI(e){return{fieldPath:e.canonicalString()}}function sI(e){return Sw.fromServerFormat(e.fieldPath)}function cI(e){return Zx.create(sI(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ew()}}(e.fieldFilter.op),e.fieldFilter.value)}function lI(e){switch(e.unaryFilter.op){case"IS_NAN":var t=sI(e.unaryFilter.field);return Zx.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=sI(e.unaryFilter.field);return Zx.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=sI(e.unaryFilter.field);return Zx.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=sI(e.unaryFilter.field);return Zx.create(i,"!=",{nullValue:"NULL_VALUE"});default:return ew()}}function fI(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function hI(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function dI(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=vI(t)),t=pI(e.get(n),t);return vI(t)}function pI(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function vI(e){return e+"\x01\x01"}function mI(e){var t=e.length;if(tw(t>=2),2===t)return tw("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),xw.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&ew(),e.charAt(o+1)){case"\x01":var u=e.substring(a,o),s=void 0;0===i.length?s=u:(s=i+=u,i=""),r.push(s);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:ew()}a=o+2}return new xw(r)}var yI=["userId","batchId"];function gI(e,t){return[e,dI(t)]}function bI(e,t,n){return[e,dI(t),n]}var kI={},wI=["prefixPath","collectionGroup","readTime","documentId"],xI=["prefixPath","collectionGroup","documentId"],EI=["collectionGroup","readTime","prefixPath","documentId"],SI=["canonicalId","targetId"],II=["targetId","path"],_I=["path","targetId"],TI=["collectionId","parent"],CI=["indexId","uid"],NI=["uid","sequenceNumber"],AI=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],RI=["indexId","uid","orderedDocumentKey"],PI=["userId","collectionPath","documentId"],DI=["userId","collectionPath","largestBatchId"],OI=["userId","collectionGroup","largestBatchId"],LI=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),MI=[].concat(ln(LI),["documentOverlays"]),FI=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],VI=FI,UI=[].concat(VI,["indexConfiguration","indexState","indexEntries"]),jI=function(e){Na(n,e);var t=Pa(n);function n(e,r){var i;return Fa(this,n),(i=t.call(this)).ee=e,i.currentSequenceNumber=r,i}return fe(n)}(Mw);function zI(e,t){var n=nw(e);return zw.N(n.ee,t)}var BI=function(){function e(t,n,r,i){Fa(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return fe(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&YE(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=Da(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.key.isEqual(e.key)&&(t=JE(i,e,t,this.localWriteTime))}}catch(s){r.e(s)}finally{r.f()}var a,o=Da(this.mutations);try{for(o.s();!(a=o.n()).done;){var u=a.value;u.key.isEqual(e.key)&&(t=JE(u,e,t,this.localWriteTime))}}catch(s){o.e(s)}finally{o.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=bS();return this.mutations.forEach((function(i){var a=e.get(i.key),o=a.overlayedDocument,u=n.applyToLocalView(o,a.mutatedFields),s=$E(o,u=t.has(i.key)?null:u);null!==s&&r.set(i.key,s),o.isValidDocument()||o.convertToNoDocument(kw.min())})),r}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),ES())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&yw(this.mutations,e.mutations,(function(e,t){return ZE(e,t)}))&&yw(this.baseMutations,e.baseMutations,(function(e,t){return ZE(e,t)}))}}]),e}(),qI=function(){function e(t,n,r,i){Fa(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return fe(e,null,[{key:"from",value:function(t,n,r){tw(t.mutations.length===r.length);for(var i=wS,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),WI=function(){function e(t,n){Fa(this,e),this.largestBatchId=t,this.mutation=n}return fe(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),KI=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:kw.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:kw.min(),u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:sx.EMPTY_BYTE_STRING;Fa(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u}return fe(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),GI=fe((function e(t){Fa(this,e),this.ne=t}));function HI(e,t){var n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:QI(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:WS(e,t.key),fields:t.data.value.mapValue.fields,updateTime:VS(e,t.version.toTimestamp())}}(e.ne,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:$I(t.version)};else{if(!t.isUnknownDocument())return ew();r.unknownDocument={path:n.path.toArray(),version:$I(t.version)}}return r}function QI(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function $I(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function YI(e){var t=new bw(e.seconds,e.nanoseconds);return kw.fromTimestamp(t)}function JI(e,t){for(var n=(t.baseMutations||[]).map((function(t){return eI(e.ne,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return eI(e.ne,t)})),u=bw.fromMillis(t.localWriteTimeMs);return new BI(t.batchId,u,n,o)}function XI(e){var t,n,r=YI(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?YI(e.lastLimboFreeSnapshotVersion):kw.min();return void 0!==e.query.documents?(tw(1===(n=e.query).documents.length),t=kE(vE(HS(n.documents[0])))):t=function(e){return kE(rI(e))}(e.query),new KI(t,e.targetId,0,e.lastListenSequenceNumber,r,i,sx.fromBase64String(e.resumeToken))}function ZI(e,t){var n,r=$I(t.snapshotVersion),i=$I(t.lastLimboFreeSnapshotVersion);n=$x(t.target)?tI(e.ne,t.target):nI(e.ne,t.target);var a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:Hx(t.target),readTime:r,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function e_(e){var t=rI({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?wE(t,t.limit,"L"):t}function t_(e,t){return new WI(t.largestBatchId,eI(e.ne,t.overlayMutation))}function n_(e,t){var n=t.path.lastSegment();return[e,dI(t.path.popLast()),n]}function r_(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:$I(r.readTime),documentKey:dI(r.documentKey.path),largestBatchId:r.largestBatchId}}var i_=function(){function e(){Fa(this,e)}return fe(e,[{key:"getBundleMetadata",value:function(e,t){return a_(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:YI(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return a_(e).put({bundleId:(n=t).id,createTime:$I(zS(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return o_(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:e_(t.bundledQuery),readTime:YI(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return o_(e).put(function(e){return{name:e.name,readTime:$I(zS(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function a_(e){return zI(e,"bundles")}function o_(e){return zI(e,"namedQueries")}var u_=function(){function e(t,n){Fa(this,e),this.wt=t,this.userId=n}return fe(e,[{key:"getOverlay",value:function(e,t){var n=this;return s_(e).get(n_(this.userId,t)).next((function(e){return e?t_(n.wt,e):null}))}},{key:"getOverlays",value:function(e,t){var n=this,r=gS();return Uw.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n,a){var o=new WI(t,a);i.push(r.ie(e,o))})),Uw.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(dI(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push(s_(e).W("collectionPathOverlayIndex",i))})),Uw.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=gS(),a=dI(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return s_(e).K("collectionPathOverlayIndex",o).next((function(e){var t,n=Da(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=t_(r.wt,a);i.set(o.getKey(),o)}}catch(u){n.e(u)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=gS(),u=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return s_(e).J({index:"collectionGroupOverlayIndex",range:u},(function(e,t,n){var u=t_(a.wt,t);o.size()<r||u.largestBatchId===i?(o.set(u.getKey(),u),i=u.largestBatchId):n.done()})).next((function(){return o}))}},{key:"ie",value:function(e,t){return s_(e).put(function(e,t,n){var r=l(n_(t,n.mutation.key),3);r[0];return{userId:t,collectionPath:r[1],documentId:r[2],collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:ZS(e.ne,n.mutation)}}(this.wt,this.userId,t))}}],[{key:"se",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function s_(e){return zI(e,"documentOverlays")}var c_=function(){function e(){Fa(this,e)}return fe(e,[{key:"re",value:function(e,t){this.oe(e,t),t.ue()}},{key:"oe",value:function(e,t){if("nullValue"in e)this.ce(t,5);else if("booleanValue"in e)this.ce(t,10),t.ae(e.booleanValue?1:0);else if("integerValue"in e)this.ce(t,15),t.ae(fx(e.integerValue));else if("doubleValue"in e){var n=fx(e.doubleValue);isNaN(n)?this.ce(t,13):(this.ce(t,15),bx(n)?t.ae(0):t.ae(n))}else if("timestampValue"in e){var r=e.timestampValue;this.ce(t,20),"string"==typeof r?t.he(r):(t.he("".concat(r.seconds||"")),t.ae(r.nanos||0))}else if("stringValue"in e)this.le(e.stringValue,t),this.fe(t);else if("bytesValue"in e)this.ce(t,30),t.de(hx(e.bytesValue)),this.fe(t);else if("referenceValue"in e)this._e(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.ce(t,45),t.ae(i.latitude||0),t.ae(i.longitude||0)}else"mapValue"in e?Fx(e)?this.ce(t,Number.MAX_SAFE_INTEGER):(this.we(e.mapValue,t),this.fe(t)):"arrayValue"in e?(this.me(e.arrayValue,t),this.fe(t)):ew()}},{key:"le",value:function(e,t){this.ce(t,25),this.ge(e,t)}},{key:"ge",value:function(e,t){t.he(e)}},{key:"we",value:function(e,t){var n=e.fields||{};this.ce(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.le(a,t),this.oe(n[a],t)}}},{key:"me",value:function(e,t){var n=e.values||[];this.ce(t,50);var r,i=Da(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.oe(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"_e",value:function(e,t){var n=this;this.ce(t,37),Iw.fromName(e).path.forEach((function(e){n.ce(t,60),n.ge(e,t)}))}},{key:"ce",value:function(e,t){e.ae(t)}},{key:"fe",value:function(e){e.ae(2)}}]),e}();function l_(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function f_(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=l_(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}c_.ye=new c_;var h_=function(){function e(){Fa(this,e),this.buffer=new Uint8Array(1024),this.position=0}return fe(e,[{key:"pe",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Ie(n.value),n=t.next();this.Te()}},{key:"Ee",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Ae(n.value),n=t.next();this.Re()}},{key:"be",value:function(e){var t,n=Da(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Ie(i);else if(i<2048)this.Ie(960|i>>>6),this.Ie(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Ie(480|i>>>12),this.Ie(128|63&i>>>6),this.Ie(128|63&i);else{var a=r.codePointAt(0);this.Ie(240|a>>>18),this.Ie(128|63&a>>>12),this.Ie(128|63&a>>>6),this.Ie(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Te()}},{key:"Pe",value:function(e){var t,n=Da(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Ae(i);else if(i<2048)this.Ae(960|i>>>6),this.Ae(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Ae(480|i>>>12),this.Ae(128|63&i>>>6),this.Ae(128|63&i);else{var a=r.codePointAt(0);this.Ae(240|a>>>18),this.Ae(128|63&a>>>12),this.Ae(128|63&a>>>6),this.Ae(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Re()}},{key:"ve",value:function(e){var t=this.Ve(e),n=f_(t);this.Se(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"De",value:function(e){var t=this.Ve(e),n=f_(t);this.Se(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"Ce",value:function(){this.xe(255),this.xe(255)}},{key:"Ne",value:function(){this.ke(255),this.ke(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.Se(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"Oe",value:function(){return this.buffer.slice(0,this.position)}},{key:"Ve",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"Ie",value:function(e){var t=255&e;0===t?(this.xe(0),this.xe(255)):255===t?(this.xe(255),this.xe(0)):this.xe(t)}},{key:"Ae",value:function(e){var t=255&e;0===t?(this.ke(0),this.ke(255)):255===t?(this.ke(255),this.ke(0)):this.ke(e)}},{key:"Te",value:function(){this.xe(0),this.xe(1)}},{key:"Re",value:function(){this.ke(0),this.ke(1)}},{key:"xe",value:function(e){this.Se(1),this.buffer[this.position++]=e}},{key:"ke",value:function(e){this.Se(1),this.buffer[this.position++]=~e}},{key:"Se",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),d_=function(){function e(t){Fa(this,e),this.Me=t}return fe(e,[{key:"de",value:function(e){this.Me.pe(e)}},{key:"he",value:function(e){this.Me.be(e)}},{key:"ae",value:function(e){this.Me.ve(e)}},{key:"ue",value:function(){this.Me.Ce()}}]),e}(),p_=function(){function e(t){Fa(this,e),this.Me=t}return fe(e,[{key:"de",value:function(e){this.Me.Ee(e)}},{key:"he",value:function(e){this.Me.Pe(e)}},{key:"ae",value:function(e){this.Me.De(e)}},{key:"ue",value:function(){this.Me.Ne()}}]),e}(),v_=function(){function e(){Fa(this,e),this.Me=new h_,this.Fe=new d_(this.Me),this.$e=new p_(this.Me)}return fe(e,[{key:"seed",value:function(e){this.Me.seed(e)}},{key:"Be",value:function(e){return 0===e?this.Fe:this.$e}},{key:"Oe",value:function(){return this.Me.Oe()}},{key:"reset",value:function(){this.Me.reset()}}]),e}(),m_=function(){function e(t,n,r,i){Fa(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}return fe(e,[{key:"Le",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function y_(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=g_(e.arrayValue,t.arrayValue))?n:0!==(n=g_(e.directionalValue,t.directionalValue))?n:Iw.comparator(e.documentKey,t.documentKey)}function g_(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var b_=function(){function e(t){Fa(this,e),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Ue=t.orderBy,this.qe=[];var n,r=Da(t.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.ht()?this.Ke=i:this.qe.push(i)}}catch(a){r.e(a)}finally{r.f()}}return fe(e,[{key:"Ge",value:function(e){var t=Tw(e);if(void 0!==t&&!this.Qe(t))return!1;for(var n=Cw(e),r=0,i=0;r<n.length&&this.Qe(n[r]);++r);if(r===n.length)return!0;if(void 0!==this.Ke){var a=n[r];if(!this.je(this.Ke,a)||!this.We(this.Ue[i++],a))return!1;++r}for(;r<n.length;++r){var o=n[r];if(i>=this.Ue.length||!this.We(this.Ue[i++],o))return!1}return!0}},{key:"Qe",value:function(e){var t,n=Da(this.qe);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.je(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"je",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"We",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}(),k_=function(){function e(){Fa(this,e),this.ze=new w_}return fe(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.ze.add(t),Uw.resolve()}},{key:"getCollectionParents",value:function(e,t){return Uw.resolve(this.ze.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return Uw.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return Uw.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return Uw.resolve(null)}},{key:"getIndexType",value:function(e,t){return Uw.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return Uw.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return Uw.resolve(null)}},{key:"getMinOffset",value:function(e,t){return Uw.resolve(Dw.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return Uw.resolve(Dw.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return Uw.resolve()}},{key:"updateIndexEntries",value:function(e,t){return Uw.resolve()}}]),e}(),w_=function(){function e(){Fa(this,e),this.index={}}return fe(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new ix(xw.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new ix(xw.comparator)).toArray()}}]),e}(),x_=new Uint8Array(0),E_=function(){function e(t,n){Fa(this,e),this.user=t,this.databaseId=n,this.He=new w_,this.Je=new hS((function(e){return Hx(e)}),(function(e,t){return Qx(e,t)})),this.uid=t.uid||""}return fe(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.He.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.He.add(t)}));var a={collectionId:r,parent:dI(i)};return S_(e).put(a)}return Uw.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[gw(t),""],!1,!0);return S_(e).K(r).next((function(e){var r,i=Da(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(mI(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=this,r=__(e),i=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]}))}}(t);delete i.indexId;var a=r.add(i);if(t.indexState){var o=T_(e);return a.next((function(e){o.put(r_(e,n.user,t.indexState.sequenceNumber,t.indexState.offset))}))}return a.next()}},{key:"deleteFieldIndex",value:function(e,t){var n=__(e),r=T_(e),i=I_(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=I_(e),i=!0,a=new Map;return Uw.forEach(this.Ye(t),(function(t){return n.Xe(e,t).next((function(e){i&&(i=!!e),a.set(t,e)}))})).next((function(){if(i){var e=ES(),o=[];return Uw.forEach(a,(function(i,a){var u;Yk("IndexedDbIndexManager","Using index ".concat((u=i,"id=".concat(u.indexId,"|cg=").concat(u.collectionGroup,"|f=").concat(u.fields.map((function(e){return"".concat(e.fieldPath,":").concat(e.kind)})).join(",")))," to execute ").concat(Hx(t)));var s=function(e,t){var n=Tw(t);if(void 0===n)return null;var r,i=Da(Yx(e,n.fieldPath));try{for(i.s();!(r=i.n()).done;){var a=r.value;switch(a.op){case"array-contains-any":return a.value.arrayValue.values||[];case"array-contains":return[a.value]}}}catch(o){i.e(o)}finally{i.f()}return null}(a,i),c=function(e,t){var n,r=new Map,i=Da(Cw(t));try{for(i.s();!(n=i.n()).done;){var a,o=n.value,u=Da(Yx(e,o.fieldPath));try{for(u.s();!(a=u.n()).done;){var s=a.value;switch(s.op){case"==":case"in":r.set(o.fieldPath.canonicalString(),s.value);break;case"not-in":case"!=":return r.set(o.fieldPath.canonicalString(),s.value),Array.from(r.values())}}}catch(c){u.e(c)}finally{u.f()}}}catch(c){i.e(c)}finally{i.f()}return null}(a,i),l=function(e,t){var n,r=[],i=!0,a=Da(Cw(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?Jx(e,o.fieldPath,e.startAt):Xx(e,o.fieldPath,e.startAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new sE(r,i)}(a,i),f=function(e,t){var n,r=[],i=!0,a=Da(Cw(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?Xx(e,o.fieldPath,e.endAt):Jx(e,o.fieldPath,e.endAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new sE(r,i)}(a,i),h=n.Ze(i,a,l),d=n.Ze(i,a,f),p=n.tn(i,a,c),v=n.en(i.indexId,s,h,l.inclusive,d,f.inclusive,p);return Uw.forEach(v,(function(n){return r.j(n,t.limit).next((function(t){t.forEach((function(t){var n=Iw.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),o.push(n))}))}))}))})).next((function(){return o}))}return Uw.resolve(null)}))}},{key:"Ye",value:function(e){var t=this.Je.get(e);return t||(t=[e],this.Je.set(e,t),t)}},{key:"en",value:function(e,t,n,r,i,a,o){for(var u=this,s=(null!=t?t.length:1)*Math.max(n.length,i.length),c=s/(null!=t?t.length:1),l=[],f=function(s){var f=t?u.nn(t[s/c]):x_,h=u.sn(e,f,n[s%c],r),d=u.rn(e,f,i[s%c],a),p=o.map((function(t){return u.sn(e,f,t,!0)}));l.push.apply(l,ln(u.createRange(h,d,p)))},h=0;h<s;++h)f(h);return l}},{key:"sn",value:function(e,t,n,r){var i=new m_(e,Iw.empty(),t,n);return r?i:i.Le()}},{key:"rn",value:function(e,t,n,r){var i=new m_(e,Iw.empty(),t,n);return r?i.Le():i}},{key:"Xe",value:function(e,t){var n=new b_(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((function(e){var t,r=null,i=Da(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;n.Ge(a)&&(!r||a.fields.length>r.fields.length)&&(r=a)}}catch(o){i.e(o)}finally{i.f()}return r}))}},{key:"getIndexType",value:function(e,t){var n=this,r=2;return Uw.forEach(this.Ye(t),(function(t){return n.Xe(e,t).next((function(e){e?0!==r&&e.fields.length<function(e){var t,n=new ix(Sw.comparator),r=!1,i=Da(e.filters);try{for(i.s();!(t=i.n()).done;){var a=t.value;a.field.isKeyField()||("array-contains"===a.op||"array-contains-any"===a.op?r=!0:n=n.add(a.field))}}catch(c){i.e(c)}finally{i.f()}var o,u=Da(e.orderBy);try{for(u.s();!(o=u.n()).done;){var s=o.value;s.field.isKeyField()||(n=n.add(s.field))}}catch(c){u.e(c)}finally{u.f()}return n.size+(r?1:0)}(t)&&(r=1):r=0}))})).next((function(){return r}))}},{key:"on",value:function(e,t){var n,r=new v_,i=Da(Cw(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var u=r.Be(a.kind);c_.ye.re(o,u)}}catch(s){i.e(s)}finally{i.f()}return r.Oe()}},{key:"nn",value:function(e){var t=new v_;return c_.ye.re(e,t.Be(0)),t.Oe()}},{key:"un",value:function(e,t){var n=new v_;return c_.ye.re(Ax(this.databaseId,t),n.Be(function(e){var t=Cw(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Oe()}},{key:"tn",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new v_);var i,a=0,o=Da(Cw(e));try{for(o.s();!(i=o.n()).done;){var u,s=i.value,c=n[a++],l=Da(r);try{for(l.s();!(u=l.n()).done;){var f=u.value;if(this.cn(t,s.fieldPath)&&Px(c))r=this.an(r,s,c);else{var h=f.Be(s.kind);c_.ye.re(c,h)}}}catch(d){l.e(d)}finally{l.f()}}}catch(d){o.e(d)}finally{o.f()}return this.hn(r)}},{key:"Ze",value:function(e,t,n){return this.tn(e,t,n.position)}},{key:"hn",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].Oe();return t}},{key:"an",value:function(e,t,n){var r,i=ln(e),a=[],o=Da(n.arrayValue.values||[]);try{for(o.s();!(r=o.n()).done;){var u,s=r.value,c=Da(i);try{for(c.s();!(u=c.n()).done;){var l=u.value,f=new v_;f.seed(l.Oe()),c_.ye.re(s,f.Be(t.kind)),a.push(f)}}catch(h){c.e(h)}finally{c.f()}}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"cn",value:function(e,t){return!!e.filters.find((function(e){return e instanceof Zx&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)}))}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=__(e),i=T_(e);return(t?r.K("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.K()).next((function(e){var t=[];return Uw.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new Aw(t.sequenceNumber,new Dw(YI(t.readTime),new Iw(mI(t.documentKey)),t.largestBatchId)):Aw.empty(),r=e.fields.map((function(e){var t=l(e,2),n=t[0],r=t[1];return new Nw(Sw.fromServerFormat(n),r)}));return new _w(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:mw(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=__(e),a=T_(e);return this.ln(e).next((function(e){return i.K("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((function(t){return Uw.forEach(t,(function(t){return a.put(r_(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return Uw.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?Uw.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),Uw.forEach(a,(function(r){return n.fn(e,t,r).next((function(t){var a=n.dn(i,r);return t.isEqual(a)?Uw.resolve():n._n(e,i,r,t,a)}))}))}))}))}},{key:"wn",value:function(e,t,n,r){return I_(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.un(n,t.key),documentKey:t.key.path.toArray()})}},{key:"mn",value:function(e,t,n,r){return I_(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.un(n,t.key),t.key.path.toArray()])}},{key:"fn",value:function(e,t,n){var r=I_(e),i=new ix(y_);return r.J({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.un(n,t)])},(function(e,r){i=i.add(new m_(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"dn",value:function(e,t){var n=new ix(y_),r=this.on(t,e);if(null==r)return n;var i=Tw(t);if(null!=i){var a=e.data.field(i.fieldPath);if(Px(a)){var o,u=Da(a.arrayValue.values||[]);try{for(u.s();!(o=u.n()).done;){var s=o.value;n=n.add(new m_(t.indexId,e.key,this.nn(s),r))}}catch(c){u.e(c)}finally{u.f()}}}else n=n.add(new m_(t.indexId,e.key,x_,r));return n}},{key:"_n",value:function(e,t,n,r,i){var a=this;Yk("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var o=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),u=ox(a),s=ox(o);u||s;){var c=!1,l=!1;if(u&&s){var f=n(u,s);f<0?l=!0:f>0&&(c=!0)}else null!=u?l=!0:c=!0;c?(r(s),s=ox(o)):l?(i(u),u=ox(a)):(u=ox(a),s=ox(o))}}(r,i,y_,(function(r){o.push(a.wn(e,t,n,r))}),(function(r){o.push(a.mn(e,t,n,r))})),Uw.waitFor(o)}},{key:"ln",value:function(e){var t=1;return T_(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}},{key:"createRange",value:function(e,t,n){n=n.sort((function(e,t){return y_(e,t)})).filter((function(e,t,n){return!t||0!==y_(e,n[t-1])}));var r=[];r.push(e);var i,a=Da(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,u=y_(o,e),s=y_(o,t);if(0===u)r[0]=e.Le();else if(u>0&&s<0)r.push(o),r.push(o.Le());else if(s>0)break}}catch(f){a.e(f)}finally{a.f()}r.push(t);for(var c=[],l=0;l<r.length;l+=2)c.push(IDBKeyRange.bound([r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,x_,[]],[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,x_,[]]));return c}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return this.getFieldIndexes(e,t).next(C_)}},{key:"getMinOffset",value:function(e,t){var n=this;return Uw.mapArray(this.Ye(t),(function(t){return n.Xe(e,t).next((function(e){return e||ew()}))})).next(C_)}}]),e}();function S_(e){return zI(e,"collectionParents")}function I_(e){return zI(e,"indexEntries")}function __(e){return zI(e,"indexConfiguration")}function T_(e){return zI(e,"indexState")}function C_(e){tw(0!==e.length);for(var t=e[0].indexState.offset,n=t.largestBatchId,r=1;r<e.length;r++){var i=e[r].indexState.offset;Ow(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new Dw(t.readTime,t.documentKey,n)}var N_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},A_=function(){function e(t,n,r){Fa(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return fe(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function R_(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),a=[],o=IDBKeyRange.only(n.batchId),u=0,s=r.J({range:o},(function(e,t,n){return u++,n.delete()}));a.push(s.next((function(){tw(1===u)})));var c,l=[],f=Da(n.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value,d=bI(t,h.key.path,n.batchId);a.push(i.delete(d)),l.push(h.key)}}catch(p){f.e(p)}finally{f.f()}return Uw.waitFor(a).next((function(){return l}))}function P_(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw ew();t=e.noDocument}return JSON.stringify(t).length}A_.DEFAULT_COLLECTION_PERCENTILE=10,A_.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,A_.DEFAULT=new A_(41943040,A_.DEFAULT_COLLECTION_PERCENTILE,A_.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),A_.DISABLED=new A_(-1,0,0);var D_=function(){function e(t,n,r,i){Fa(this,e),this.userId=t,this.wt=n,this.indexManager=r,this.referenceDelegate=i,this.gn={}}return fe(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return L_(e).J({index:"userMutationsIndex",range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=M_(e),o=L_(e);return o.add({}).next((function(u){tw("number"==typeof u);var s,c=new BI(u,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return ZS(e.ne,t)})),i=n.mutations.map((function(t){return ZS(e.ne,t)}));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.wt,i.userId,c),f=[],h=new ix((function(e,t){return mw(e.canonicalString(),t.canonicalString())})),d=Da(r);try{for(d.s();!(s=d.n()).done;){var p=s.value,v=bI(i.userId,p.key.path,u);h=h.add(p.key.path.popLast()),f.push(o.put(l)),f.push(a.put(v,kI))}}catch(m){d.e(m)}finally{d.f()}return h.forEach((function(t){f.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.gn[u]=c.keys()})),Uw.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return L_(e).get(t).next((function(e){return e?(tw(e.userId===n.userId),JI(n.wt,e)):null}))}},{key:"yn",value:function(e,t){var n=this;return this.gn[t]?Uw.resolve(this.gn[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.gn[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return L_(e).J({index:"userMutationsIndex",range:i},(function(e,t,i){t.userId===n.userId&&(tw(t.batchId>=r),a=JI(n.wt,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return L_(e).J({index:"userMutationsIndex",range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return L_(e).K("userMutationsIndex",n).next((function(e){return e.map((function(e){return JI(t.wt,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=gI(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return M_(e).J({range:i},(function(r,i,o){var u=l(r,3),s=u[0],c=u[1],f=u[2],h=mI(c);if(s===n.userId&&t.path.isEqual(h))return L_(e).get(f).next((function(e){if(!e)throw ew();tw(e.userId===n.userId),a.push(JI(n.wt,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new ix(mw),i=[];return t.forEach((function(t){var a=gI(n.userId,t.path),o=IDBKeyRange.lowerBound(a),u=M_(e).J({range:o},(function(e,i,a){var o=l(e,3),u=o[0],s=o[1],c=o[2],f=mI(s);u===n.userId&&t.path.isEqual(f)?r=r.add(c):a.done()}));i.push(u)})),Uw.waitFor(i).next((function(){return n.pn(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=gI(this.userId,r),o=IDBKeyRange.lowerBound(a),u=new ix(mw);return M_(e).J({range:o},(function(e,t,a){var o=l(e,3),s=o[0],c=o[1],f=o[2],h=mI(c);s===n.userId&&r.isPrefixOf(h)?h.length===i&&(u=u.add(f)):a.done()})).next((function(){return n.pn(e,u)}))}},{key:"pn",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(L_(e).get(t).next((function(e){if(null===e)throw ew();tw(e.userId===n.userId),r.push(JI(n.wt,e))})))})),Uw.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return R_(e.ee,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.In(t.batchId)})),Uw.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"In",value:function(e){delete this.gn[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return Uw.resolve();var r=IDBKeyRange.lowerBound([t.userId]),i=[];return M_(e).J({range:r},(function(e,n,r){if(e[0]===t.userId){var a=mI(e[1]);i.push(a)}else r.done()})).next((function(){tw(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return O_(e,this.userId,t)}},{key:"Tn",value:function(e){var t=this;return F_(e).get(this.userId).next((function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}}))}}],[{key:"se",value:function(t,n,r,i){return tw(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function O_(e,t,n){var r=gI(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return M_(e).J({range:a,H:!0},(function(e,n,r){var a=l(e,3),u=a[0],s=a[1];a[2];u===t&&s===i&&(o=!0),r.done()})).next((function(){return o}))}function L_(e){return zI(e,"mutations")}function M_(e){return zI(e,"documentMutations")}function F_(e){return zI(e,"mutationQueues")}var V_=function(){function e(t){Fa(this,e),this.En=t}return fe(e,[{key:"next",value:function(){return this.En+=2,this.En}}],[{key:"An",value:function(){return new e(0)}},{key:"Rn",value:function(){return new e(-1)}}]),e}(),U_=function(){function e(t,n){Fa(this,e),this.referenceDelegate=t,this.wt=n}return fe(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.bn(e).next((function(n){var r=new V_(n.highestTargetId);return n.highestTargetId=r.next(),t.Pn(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.bn(e).next((function(e){return kw.fromTimestamp(new bw(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.bn(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.bn(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.Pn(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.vn(e,t).next((function(){return n.bn(e).next((function(r){return r.targetCount+=1,n.Vn(t,r),n.Pn(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.vn(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return j_(e).delete(t.targetId)})).next((function(){return n.bn(e)})).next((function(t){return tw(t.targetCount>0),t.targetCount-=1,n.Pn(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return j_(e).J((function(o,u){var s=XI(u);s.sequenceNumber<=t&&null===n.get(s.targetId)&&(i++,a.push(r.removeTargetData(e,s)))})).next((function(){return Uw.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return j_(e).J((function(e,n){var r=XI(n);t(r)}))}},{key:"bn",value:function(e){return z_(e).get("targetGlobalKey").next((function(e){return tw(null!==e),e}))}},{key:"Pn",value:function(e,t){return z_(e).put("targetGlobalKey",t)}},{key:"vn",value:function(e,t){return j_(e).put(ZI(this.wt,t))}},{key:"Vn",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.bn(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=Hx(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return j_(e).J({range:r,index:"queryTargetsIndex"},(function(e,n,r){var a=XI(n);Qx(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=B_(e);return t.forEach((function(t){var o=dI(t.path);i.push(a.put({targetId:n,path:o})),i.push(r.referenceDelegate.addReference(e,n,t))})),Uw.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=B_(e);return Uw.forEach(t,(function(t){var a=dI(t.path);return Uw.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=B_(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=B_(e),i=ES();return r.J({range:n,H:!0},(function(e,t,n){var r=mI(e[1]),a=new Iw(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=dI(t.path),r=IDBKeyRange.bound([n],[gw(n)],!1,!0),i=0;return B_(e).J({index:"documentTargetsIndex",H:!0,range:r},(function(e,t,n){var r=l(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"te",value:function(e,t){return j_(e).get(t).next((function(e){return e?XI(e):null}))}}]),e}();function j_(e){return zI(e,"targets")}function z_(e){return zI(e,"targetGlobal")}function B_(e){return zI(e,"targetDocuments")}function q_(e,t){var n=l(e,2),r=n[0],i=n[1],a=l(t,2),o=a[0],u=a[1],s=mw(r,o);return 0===s?mw(i,u):s}var W_=function(){function e(t){Fa(this,e),this.Sn=t,this.buffer=new ix(q_),this.Dn=0}return fe(e,[{key:"Cn",value:function(){return++this.Dn}},{key:"xn",value:function(e){var t=[e,this.Cn()];if(this.buffer.size<this.Sn)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();q_(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),K_=function(){function e(t,n,r){Fa(this,e),this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Nn=null}return fe(e,[{key:"start",value:function(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.kn(6e4)}},{key:"stop",value:function(){this.Nn&&(this.Nn.cancel(),this.Nn=null)}},{key:"started",get:function(){return null!==this.Nn}},{key:"kn",value:function(e){var t=this;Yk("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.Nn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,Ma(Oa().mark((function e(){return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Nn=null,e.prev=1,e.next=4,t.localStore.collectGarbage(t.garbageCollector);case 4:e.next=14;break;case 6:if(e.prev=6,e.t0=e.catch(1),!Ww(e.t0)){e.next=12;break}Yk("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e.t0),e.next=14;break;case 12:return e.next=14,Fw(e.t0);case 14:return e.next=16,t.kn(3e5);case 16:case"end":return e.stop()}}),e,null,[[1,6]])}))))}}]),e}(),G_=function(){function e(t,n){Fa(this,e),this.On=t,this.params=n}return fe(e,[{key:"calculateTargetCount",value:function(e,t){return this.On.Mn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return Uw.resolve(Jw.ot);var r=new W_(t);return this.On.forEachTarget(e,(function(e){return r.xn(e.sequenceNumber)})).next((function(){return n.On.Fn(e,(function(e){return r.xn(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.On.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.On.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(Yk("LruGarbageCollector","Garbage collection skipped; disabled"),Uw.resolve(N_)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(Yk("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),N_):n.$n(e,t)}))}},{key:"getCacheSize",value:function(e){return this.On.getCacheSize(e)}},{key:"$n",value:function(e,t){var n,r,i,a,o,u,s,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(Yk("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,u=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return s=Date.now(),$k()<=ko.DEBUG&&Yk("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(u-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(s-u)+"ms\n"+"Total Duration: ".concat(s-l,"ms")),Uw.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}(),H_=function(){function e(t,n){Fa(this,e),this.db=t,this.garbageCollector=function(e,t){return new G_(e,t)}(this,n)}return fe(e,[{key:"Mn",value:function(e){var t=this.Bn(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"Bn",value:function(e){var t=0;return this.Fn(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"Fn",value:function(e,t){return this.Ln(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return Q_(e,n)}},{key:"removeReference",value:function(e,t,n){return Q_(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return Q_(e,t)}},{key:"Un",value:function(e,t){return function(e,t){var n=!1;return F_(e).Y((function(r){return O_(e,r,t).next((function(e){return e&&(n=!0),Uw.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Ln(e,(function(o,u){if(u<=t){var s=n.Un(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,kw.min()),B_(e).delete([0,dI(o.path)])}))}));i.push(s)}})).next((function(){return Uw.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return Q_(e,t)}},{key:"Ln",value:function(e,t){var n,r=B_(e),i=Jw.ot;return r.J({index:"documentTargetsIndex"},(function(e,r){var a=l(e,2),o=a[0],u=(a[1],r.path),s=r.sequenceNumber;0===o?(i!==Jw.ot&&t(new Iw(mI(n)),i),i=s,n=u):i=Jw.ot})).next((function(){i!==Jw.ot&&t(new Iw(mI(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function Q_(e,t){return B_(e).put(function(e,t){return{targetId:0,path:dI(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var $_=function(){function e(){Fa(this,e),this.changes=new hS((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return fe(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,Wx.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?Uw.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),Y_=function(){function e(t){Fa(this,e),this.wt=t}return fe(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return eT(e).put(n)}},{key:"removeEntry",value:function(e,t,n){return eT(e).delete(function(e,t){var n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],QI(t),n[n.length-1]]}(t,n))}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.qn(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this,r=Wx.newInvalidDocument(t);return eT(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(tT(t))},(function(e,i){r=n.Kn(t,i)})).next((function(){return r}))}},{key:"Gn",value:function(e,t){var n=this,r={size:0,document:Wx.newInvalidDocument(t)};return eT(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(tT(t))},(function(e,i){r={document:n.Kn(t,i),size:P_(i)}})).next((function(){return r}))}},{key:"getEntries",value:function(e,t){var n=this,r=pS();return this.Qn(e,t,(function(e,t){var i=n.Kn(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"jn",value:function(e,t){var n=this,r=pS(),i=new tx(Iw.comparator);return this.Qn(e,t,(function(e,t){var a=n.Kn(e,t);r=r.insert(e,a),i=i.insert(e,P_(t))})).next((function(){return{documents:r,Wn:i}}))}},{key:"Qn",value:function(e,t,n){if(t.isEmpty())return Uw.resolve();var r=new ix(rT);t.forEach((function(e){return r=r.add(e)}));var i=IDBKeyRange.bound(tT(r.first()),tT(r.last())),a=r.getIterator(),o=a.getNext();return eT(e).J({index:"documentKeyIndex",range:i},(function(e,t,r){for(var i=Iw.fromSegments([].concat(ln(t.prefixPath),[t.collectionGroup,t.documentId]));o&&rT(o,i)<0;)n(o,null),o=a.getNext();o&&o.isEqual(i)&&(n(o,t),o=a.hasNext()?a.getNext():null),o?r.q(tT(o)):r.done()})).next((function(){for(;o;)n(o,null),o=a.hasNext()?a.getNext():null}))}},{key:"getAllFromCollection",value:function(e,t,n){var r=this,i=[t.popLast().toArray(),t.lastSegment(),QI(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],a=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return eT(e).K(IDBKeyRange.bound(i,a,!0)).next((function(e){var t,n=pS(),i=Da(e);try{for(i.s();!(t=i.n()).done;){var a=t.value,o=r.Kn(Iw.fromSegments(a.prefixPath.concat(a.collectionGroup,a.documentId)),a);n=n.insert(o.key,o)}}catch(u){i.e(u)}finally{i.f()}return n}))}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){var i=this,a=pS(),o=nT(t,n),u=nT(t,Dw.max());return eT(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,u,!0)},(function(e,t,n){var o=i.Kn(Iw.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(a=a.insert(o.key,o)).size===r&&n.done()})).next((function(){return a}))}},{key:"newChangeBuffer",value:function(e){return new X_(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return Z_(e).get("remoteDocumentGlobalKey").next((function(e){return tw(!!e),e}))}},{key:"qn",value:function(e,t){return Z_(e).put("remoteDocumentGlobalKey",t)}},{key:"Kn",value:function(e,t){if(t){var n=function(e,t){var n;if(t.document)n=JS(e.ne,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=Iw.fromSegments(t.noDocument.path),i=YI(t.noDocument.readTime);n=Wx.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return ew();var a=Iw.fromSegments(t.unknownDocument.path),o=YI(t.unknownDocument.version);n=Wx.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(function(e){var t=new bw(e[0],e[1]);return kw.fromTimestamp(t)}(t.readTime)),n}(this.wt,t);if(!n.isNoDocument()||!n.version.isEqual(kw.min()))return n}return Wx.newInvalidDocument(e)}}]),e}();function J_(e){return new Y_(e)}var X_=function(e){Na(n,e);var t=Pa(n);function n(e,r){var i;return Fa(this,n),(i=t.call(this)).zn=e,i.trackRemovals=r,i.Hn=new hS((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return fe(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new ix((function(e,t){return mw(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var u=t.Hn.get(a);if(n.push(t.zn.removeEntry(e,a,u.readTime)),o.isValidDocument()){var s=HI(t.zn.wt,o);i=i.add(a.path.popLast());var c=P_(s);r+=c-u.size,n.push(t.zn.addEntry(e,a,s))}else if(r-=u.size,t.trackRemovals){var l=HI(t.zn.wt,o.convertToNoDocument(kw.min()));n.push(t.zn.addEntry(e,a,l))}})),i.forEach((function(r){n.push(t.zn.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.zn.updateMetadata(e,r)),Uw.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.zn.Gn(e,t).next((function(e){return n.Hn.set(t,{size:e.size,readTime:e.document.readTime}),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.zn.jn(e,t).next((function(e){var t=e.documents;return e.Wn.forEach((function(e,r){n.Hn.set(e,{size:r,readTime:t.get(e).readTime})})),t}))}}]),n}($_);function Z_(e){return zI(e,"remoteDocumentGlobal")}function eT(e){return zI(e,"remoteDocumentsV14")}function tT(e){var t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function nT(e,t){var n=t.documentKey.path.toArray();return[e,QI(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function rT(e,t){for(var n=e.path.toArray(),r=t.path.toArray(),i=0,a=0;a<n.length-2&&a<r.length-2;++a)if(i=mw(n[a],r[a]))return i;return(i=mw(n.length,r.length))||((i=mw(n[n.length-2],r[r.length-2]))||mw(n[n.length-1],r[r.length-1]))}var iT=fe((function e(t,n){Fa(this,e),this.overlayedDocument=t,this.mutatedFields=n})),aT=function(){function e(t,n,r,i){Fa(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}return fe(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next((function(i){return r=i,n.getBaseDocument(e,t,r)})).next((function(e){return null!==r&&JE(r.mutation,e,ux.empty(),bw.now()),e}))}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t,ES()).next((function(){return t}))}))}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ES(),i=gS();return this.populateOverlays(e,i,t).next((function(){return n.computeViews(e,t,i,r).next((function(e){var t=mS();return e.forEach((function(e,n){t=t.insert(e,n.overlayedDocument)})),t}))}))}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=gS();return this.populateOverlays(e,r,t).next((function(){return n.computeViews(e,t,r,ES())}))}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach((function(e){t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((function(e){e.forEach((function(e,n){t.set(e,n)}))}))}},{key:"computeViews",value:function(e,t,n,r){var i=pS(),a=kS(),o=kS();return t.forEach((function(e,t){var o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof tS)?i=i.insert(t.key,t):void 0!==o&&(a.set(t.key,o.mutation.getFieldMask()),JE(o.mutation,t,o.mutation.getFieldMask(),bw.now()))})),this.recalculateAndSaveOverlays(e,i).next((function(e){return e.forEach((function(e,t){return a.set(e,t)})),t.forEach((function(e,t){var n;return o.set(e,new iT(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),o}))}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=kS(),i=new tx((function(e,t){return e-t})),a=ES();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){var n,a=Da(e);try{var o=function(){var e=n.value;e.keys().forEach((function(n){var a=t.get(n);if(null!==a){var o=r.get(n)||ux.empty();o=e.applyToLocalView(a,o),r.set(n,o);var u=(i.get(e.batchId)||ES()).add(n);i=i.insert(e.batchId,u)}}))};for(a.s();!(n=a.n()).done;)o()}catch(u){a.e(u)}finally{a.f()}})).next((function(){for(var o=[],u=i.getReverseIterator(),s=function(){var i=u.getNext(),s=i.key,c=i.value,l=bS();c.forEach((function(e){if(!a.has(e)){var n=$E(t.get(e),r.get(e));null!==n&&l.set(e,n),a=a.add(e)}})),o.push(n.documentOverlayCache.saveOverlays(e,s,l))};u.hasNext();)s();return Uw.waitFor(o)})).next((function(){return r}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.recalculateAndSaveOverlays(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return Iw.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):gE(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((function(a){var o=r-a.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):Uw.resolve(gS()),u=-1,s=a;return o.next((function(t){return Uw.forEach(t,(function(t,n){return u<n.largestBatchId&&(u=n.largestBatchId),a.get(t)?Uw.resolve():i.getBaseDocument(e,t,n).next((function(e){s=s.insert(t,e)}))})).next((function(){return i.populateOverlays(e,t,a)})).next((function(){return i.computeViews(e,s,t,ES())})).next((function(e){return{batchId:u,changes:yS(e)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new Iw(t)).next((function(e){var t=mS();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n){var r=this,i=t.collectionGroup,a=mS();return this.indexManager.getCollectionParents(e,i).next((function(o){return Uw.forEach(o,(function(o){var u=function(e,t){return new dE(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.getDocumentsMatchingCollectionQuery(e,u,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n){var r,i=this;return this.remoteDocumentCache.getAllFromCollection(e,t.path,n).next((function(a){return r=a,i.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId)})).next((function(e){e.forEach((function(e,t){var n=t.getKey();null===r.get(n)&&(r=r.insert(n,Wx.newInvalidDocument(n)))}));var n=mS();return r.forEach((function(r,i){var a=e.get(r);void 0!==a&&JE(a.mutation,i,ux.empty(),bw.now()),IE(t,i)&&(n=n.insert(r,i))})),n}))}},{key:"getBaseDocument",value:function(e,t,n){return null===n||1===n.mutation.type?this.remoteDocumentCache.getEntry(e,t):Uw.resolve(Wx.newInvalidDocument(t))}}]),e}(),oT=function(){function e(t){Fa(this,e),this.wt=t,this.Jn=new Map,this.Yn=new Map}return fe(e,[{key:"getBundleMetadata",value:function(e,t){return Uw.resolve(this.Jn.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.Jn.set(t.id,{id:(n=t).id,version:n.version,createTime:zS(n.createTime)}),Uw.resolve()}},{key:"getNamedQuery",value:function(e,t){return Uw.resolve(this.Yn.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.Yn.set(t.name,function(e){return{name:e.name,query:e_(e.bundledQuery),readTime:zS(e.readTime)}}(t)),Uw.resolve()}}]),e}(),uT=function(){function e(){Fa(this,e),this.overlays=new tx(Iw.comparator),this.Xn=new Map}return fe(e,[{key:"getOverlay",value:function(e,t){return Uw.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=gS();return Uw.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.ie(e,t,i)})),Uw.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.Xn.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.Xn.delete(n)),Uw.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=gS(),i=t.length+1,a=new Iw(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var u=o.getNext().value,s=u.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&u.largestBatchId>n&&r.set(u.getKey(),u)}return Uw.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new tx((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var u=i.get(o.largestBatchId);null===u&&(u=gS(),i=i.insert(o.largestBatchId,u)),u.set(o.getKey(),o)}}for(var s=gS(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return s.set(e,t)})),!(s.size()>=r)););return Uw.resolve(s)}},{key:"ie",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.Xn.get(r.largestBatchId).delete(n.key);this.Xn.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new WI(t,n));var a=this.Xn.get(t);void 0===a&&(a=ES(),this.Xn.set(t,a)),this.Xn.set(t,a.add(n.key))}}]),e}(),sT=function(){function e(){Fa(this,e),this.Zn=new ix(cT.ts),this.es=new ix(cT.ns)}return fe(e,[{key:"isEmpty",value:function(){return this.Zn.isEmpty()}},{key:"addReference",value:function(e,t){var n=new cT(e,t);this.Zn=this.Zn.add(n),this.es=this.es.add(n)}},{key:"ss",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.rs(new cT(e,t))}},{key:"os",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"us",value:function(e){var t=this,n=new Iw(new xw([])),r=new cT(n,e),i=new cT(n,e+1),a=[];return this.es.forEachInRange([r,i],(function(e){t.rs(e),a.push(e.key)})),a}},{key:"cs",value:function(){var e=this;this.Zn.forEach((function(t){return e.rs(t)}))}},{key:"rs",value:function(e){this.Zn=this.Zn.delete(e),this.es=this.es.delete(e)}},{key:"hs",value:function(e){var t=new Iw(new xw([])),n=new cT(t,e),r=new cT(t,e+1),i=ES();return this.es.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new cT(e,0),n=this.Zn.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),cT=function(){function e(t,n){Fa(this,e),this.key=t,this.ls=n}return fe(e,null,[{key:"ts",value:function(e,t){return Iw.comparator(e.key,t.key)||mw(e.ls,t.ls)}},{key:"ns",value:function(e,t){return mw(e.ls,t.ls)||Iw.comparator(e.key,t.key)}}]),e}(),lT=function(){function e(t,n){Fa(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.fs=1,this.ds=new ix(cT.ts)}return fe(e,[{key:"checkEmpty",value:function(e){return Uw.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.fs;this.fs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var a=new BI(i,t,n,r);this.mutationQueue.push(a);var o,u=Da(r);try{for(u.s();!(o=u.n()).done;){var s=o.value;this.ds=this.ds.add(new cT(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast())}}catch(c){u.e(c)}finally{u.f()}return Uw.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return Uw.resolve(this._s(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.ws(n),i=r<0?0:r;return Uw.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return Uw.resolve(0===this.mutationQueue.length?-1:this.fs-1)}},{key:"getAllMutationBatches",value:function(e){return Uw.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new cT(t,0),i=new cT(t,Number.POSITIVE_INFINITY),a=[];return this.ds.forEachInRange([r,i],(function(e){var t=n._s(e.ls);a.push(t)})),Uw.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new ix(mw);return t.forEach((function(e){var t=new cT(e,0),i=new cT(e,Number.POSITIVE_INFINITY);n.ds.forEachInRange([t,i],(function(e){r=r.add(e.ls)}))})),Uw.resolve(this.gs(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;Iw.isDocumentKey(i)||(i=i.child(""));var a=new cT(new Iw(i),0),o=new ix(mw);return this.ds.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.ls)),!0)}),a),Uw.resolve(this.gs(o))}},{key:"gs",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t._s(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;tw(0===this.ys(t.batchId,"removed")),this.mutationQueue.shift();var r=this.ds;return Uw.forEach(t.mutations,(function(i){var a=new cT(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.ds=r}))}},{key:"In",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new cT(t,0),r=this.ds.firstAfterOrEqual(n);return Uw.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,Uw.resolve()}},{key:"ys",value:function(e,t){return this.ws(e)}},{key:"ws",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"_s",value:function(e){var t=this.ws(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),fT=function(){function e(t){Fa(this,e),this.ps=t,this.docs=new tx(Iw.comparator),this.size=0}return fe(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.ps(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return Uw.resolve(n?n.document.mutableCopy():Wx.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=pS();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():Wx.newInvalidDocument(e))})),Uw.resolve(r)}},{key:"getAllFromCollection",value:function(e,t,n){for(var r=pS(),i=new Iw(t.child("")),a=this.docs.getIteratorFrom(i);a.hasNext();){var o=a.getNext(),u=o.key,s=o.value.document;if(!t.isPrefixOf(u.path))break;u.path.length>t.length+1||Ow(Pw(s),n)<=0||(r=r.insert(s.key,s.mutableCopy()))}return Uw.resolve(r)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){ew()}},{key:"Is",value:function(e,t){return Uw.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new hT(this)}},{key:"getSize",value:function(e){return Uw.resolve(this.size)}}]),e}(),hT=function(e){Na(n,e);var t=Pa(n);function n(e){var r;return Fa(this,n),(r=t.call(this)).zn=e,r}return fe(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.zn.addEntry(e,i)):t.zn.removeEntry(r)})),Uw.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.zn.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.zn.getEntries(e,t)}}]),n}($_),dT=function(){function e(t){Fa(this,e),this.persistence=t,this.Ts=new hS((function(e){return Hx(e)}),Qx),this.lastRemoteSnapshotVersion=kw.min(),this.highestTargetId=0,this.Es=0,this.As=new sT,this.targetCount=0,this.Rs=V_.An()}return fe(e,[{key:"forEachTarget",value:function(e,t){return this.Ts.forEach((function(e,n){return t(n)})),Uw.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return Uw.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return Uw.resolve(this.Es)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Rs.next(),Uw.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Es&&(this.Es=t),Uw.resolve()}},{key:"vn",value:function(e){this.Ts.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Rs=new V_(t),this.highestTargetId=t),e.sequenceNumber>this.Es&&(this.Es=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.vn(t),this.targetCount+=1,Uw.resolve()}},{key:"updateTargetData",value:function(e,t){return this.vn(t),Uw.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Ts.delete(t.target),this.As.us(t.targetId),this.targetCount-=1,Uw.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Ts.forEach((function(o,u){u.sequenceNumber<=t&&null===n.get(u.targetId)&&(r.Ts.delete(o),a.push(r.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),Uw.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return Uw.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Ts.get(t)||null;return Uw.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.As.ss(t,n),Uw.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.As.os(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),Uw.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.As.us(t),Uw.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.As.hs(t);return Uw.resolve(n)}},{key:"containsKey",value:function(e,t){return Uw.resolve(this.As.containsKey(t))}}]),e}(),pT=function(){function e(t,n){var r=this;Fa(this,e),this.bs={},this.overlays={},this.Ps=new Jw(0),this.vs=!1,this.vs=!0,this.referenceDelegate=t(this),this.Vs=new dT(this),this.indexManager=new k_,this.remoteDocumentCache=new fT((function(e){return r.referenceDelegate.Ss(e)})),this.wt=new GI(n),this.Ds=new oT(this.wt)}return fe(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.vs=!1,Promise.resolve()}},{key:"started",get:function(){return this.vs}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new uT,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.bs[e.toKey()];return n||(n=new lT(t,this.referenceDelegate),this.bs[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Vs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.Ds}},{key:"runTransaction",value:function(e,t,n){var r=this;Yk("MemoryPersistence","Starting transaction:",e);var i=new vT(this.Ps.next());return this.referenceDelegate.Cs(),n(i).next((function(e){return r.referenceDelegate.xs(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Ns",value:function(e,t){return Uw.or(Object.values(this.bs).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),vT=function(e){Na(n,e);var t=Pa(n);function n(e){var r;return Fa(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return fe(n)}(Mw),mT=function(){function e(t){Fa(this,e),this.persistence=t,this.ks=new sT,this.Os=null}return fe(e,[{key:"Fs",get:function(){if(this.Os)return this.Os;throw ew()}},{key:"addReference",value:function(e,t,n){return this.ks.addReference(n,t),this.Fs.delete(n.toString()),Uw.resolve()}},{key:"removeReference",value:function(e,t,n){return this.ks.removeReference(n,t),this.Fs.add(n.toString()),Uw.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Fs.add(t.toString()),Uw.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.ks.us(t.targetId).forEach((function(e){return n.Fs.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Fs.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"Cs",value:function(){this.Os=new Set}},{key:"xs",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Uw.forEach(this.Fs,(function(r){var i=Iw.fromPath(r);return t.$s(e,i).next((function(e){e||n.removeEntry(i,kw.min())}))})).next((function(){return t.Os=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.$s(e,t).next((function(e){e?n.Fs.delete(t.toString()):n.Fs.add(t.toString())}))}},{key:"Ss",value:function(e){return 0}},{key:"$s",value:function(e,t){var n=this;return Uw.or([function(){return Uw.resolve(n.ks.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Ns(e,t)}])}}],[{key:"Ms",value:function(t){return new e(t)}}]),e}(),yT=function(){function e(t){Fa(this,e),this.wt=t}return fe(e,[{key:"O",value:function(e,t,n,r){var i=this,a=new jw("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",yI,{unique:!0}),e.createObjectStore("documentMutations")}(e),gT(e),function(e){e.createObjectStore("remoteDocuments")}(e));var o=Uw.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),gT(e)),o=o.next((function(){return function(e){var t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:kw.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store("mutations").K().next((function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",yI,{unique:!0});var r=t.store("mutations"),i=n.map((function(e){return r.put(e)}));return Uw.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.Bs(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.Ls(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.Us(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.qs(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.Ks(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:PI});t.createIndex("collectionPathOverlayIndex",DI,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",OI,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){return function(e){var t=e.createObjectStore("remoteDocumentsV14",{keyPath:wI});t.createIndex("documentKeyIndex",xI),t.createIndex("collectionGroupIndex",EI)}(e)})).next((function(){return i.Gs(e,a)})).next((function(){return e.deleteObjectStore("remoteDocuments")}))),n<14&&r>=14&&(o=o.next((function(){return i.Qs(e,a)}))),n<15&&r>=15&&(o=o.next((function(){return function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:CI}).createIndex("sequenceNumberIndex",NI,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:AI}).createIndex("documentKeyIndex",RI,{unique:!1})}(e)}))),o}},{key:"Ls",value:function(e){var t=0;return e.store("remoteDocuments").J((function(e,n){t+=P_(n)})).next((function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}},{key:"Bs",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.K().next((function(n){return Uw.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.K("userMutationsIndex",i).next((function(r){return Uw.forEach(r,(function(r){tw(r.userId===n.userId);var i=JI(t.wt,r);return R_(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"Us",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((function(e){var r=[];return n.J((function(n,i){var a=new xw(n),o=function(e){return[0,dI(e)]}(a);r.push(t.get(o).next((function(n){return n?Uw.resolve():function(n){return t.put({targetId:0,path:dI(n),sequenceNumber:e.highestListenSequenceNumber})}(a)})))})).next((function(){return Uw.waitFor(r)}))}))}},{key:"qs",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:TI});var n=t.store("collectionParents"),r=new w_,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:dI(i)})}};return t.store("remoteDocuments").J({H:!0},(function(e,t){var n=new xw(e);return i(n.popLast())})).next((function(){return t.store("documentMutations").J({H:!0},(function(e,t){var n=l(e,3),r=(n[0],n[1]),a=(n[2],mI(r));return i(a.popLast())}))}))}},{key:"Ks",value:function(e){var t=this,n=e.store("targets");return n.J((function(e,r){var i=XI(r),a=ZI(t.wt,i);return n.put(a)}))}},{key:"Gs",value:function(e,t){var n=t.store("remoteDocuments"),r=[];return n.J((function(e,n){var i,a=t.store("remoteDocumentsV14"),o=(i=n,i.document?new Iw(xw.fromString(i.document.name).popFirst(5)):i.noDocument?Iw.fromSegments(i.noDocument.path):i.unknownDocument?Iw.fromSegments(i.unknownDocument.path):ew()).path.toArray(),u={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(a.put(u))})).next((function(){return Uw.waitFor(r)}))}},{key:"Qs",value:function(e,t){var n=this,r=t.store("mutations"),i=J_(this.wt),a=new pT(mT.Ms,this.wt.ne);return r.K().next((function(e){var r=new Map;return e.forEach((function(e){var t,i=null!==(t=r.get(e.userId))&&void 0!==t?t:ES();JI(n.wt,e).keys().forEach((function(e){return i=i.add(e)})),r.set(e.userId,i)})),Uw.forEach(r,(function(e,r){var o=new Gk(r),u=u_.se(n.wt,o),s=a.getIndexManager(o),c=D_.se(o,n.wt,s,a.referenceDelegate);return new aT(i,c,u,s).recalculateAndSaveOverlaysForDocumentKeys(new jI(t,Jw.ot),e).next()}))}))}}]),e}();function gT(e){e.createObjectStore("targetDocuments",{keyPath:II}).createIndex("documentTargetsIndex",_I,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",SI,{unique:!0}),e.createObjectStore("targetGlobal")}var bT="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",kT=function(){function e(t,n,r,i,a,o,u,s,c,l){var f=arguments.length>10&&void 0!==arguments[10]?arguments[10]:14;if(Fa(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.js=a,this.window=o,this.document=u,this.Ws=c,this.zs=l,this.Hs=f,this.Ps=null,this.vs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Js=null,this.inForeground=!1,this.Ys=null,this.Xs=null,this.Zs=Number.NEGATIVE_INFINITY,this.ti=function(e){return Promise.resolve()},!e.V())throw new iw(rw.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new H_(this,i),this.ei=n+"main",this.wt=new GI(s),this.ni=new zw(this.ei,this.Hs,new yT(this.wt)),this.Vs=new U_(this.referenceDelegate,this.wt),this.remoteDocumentCache=J_(this.wt),this.Ds=new i_,this.window&&this.window.localStorage?this.si=this.window.localStorage:(this.si=null,!1===l&&Jk("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return fe(e,[{key:"start",value:function(){var e=this;return this.ii().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new iw(rw.FAILED_PRECONDITION,bT);return e.ri(),e.oi(),e.ui(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.Vs.getHighestSequenceNumber(t)}))})).then((function(t){e.Ps=new Jw(t,e.Ws)})).then((function(){e.vs=!0})).catch((function(t){return e.ni&&e.ni.close(),Promise.reject(t)}))}},{key:"ci",value:function(e){var t=this;return this.ti=function(){var n=Ma(Oa().mark((function n(r){return Oa().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.ni.F(function(){var t=Ma(Oa().mark((function t(n){return Oa().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.js.enqueueAndForget(Ma(Oa().mark((function e(){return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.ii();case 4:case"end":return e.stop()}}),e)})))))}},{key:"ii",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return xT(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next((function(){if(e.isPrimary)return e.ai(t).next((function(t){t||(e.isPrimary=!1,e.js.enqueueRetryable((function(){return e.ti(!1)})))}))})).next((function(){return e.hi(t)})).next((function(n){return e.isPrimary&&!n?e.li(t).next((function(){return!1})):!!n&&e.fi(t).next((function(){return!0}))}))})).catch((function(t){if(Ww(t))return Yk("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return Yk("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.js.enqueueRetryable((function(){return e.ti(t)})),e.isPrimary=t}))}},{key:"ai",value:function(e){var t=this;return wT(e).get("owner").next((function(e){return Uw.resolve(t.di(e))}))}},{key:"_i",value:function(e){return xT(e).delete(this.clientId)}},{key:"wi",value:function(){var e=Ma(Oa().mark((function e(){var t,n,r,i,a=this;return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.mi(this.Zs,18e5)){e.next=6;break}return this.Zs=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=zI(e,"clientMetadata");return t.K().next((function(e){var n=a.gi(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return Uw.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this.si){n=Da(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.si.removeItem(this.yi(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ui",value:function(){var e=this;this.Xs=this.js.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.ii().then((function(){return e.wi()})).then((function(){return e.ui()}))}))}},{key:"di",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"hi",value:function(e){var t=this;return this.zs?Uw.resolve(!0):wT(e).get("owner").next((function(n){if(null!==n&&t.mi(n.leaseTimestampMs,5e3)&&!t.pi(n.ownerId)){if(t.di(n)&&t.networkEnabled)return!0;if(!t.di(n)){if(!n.allowTabSynchronization)throw new iw(rw.FAILED_PRECONDITION,bT);return!1}}return!(!t.networkEnabled||!t.inForeground)||xT(e).K().next((function(e){return void 0===t.gi(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&Yk("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=Ma(Oa().mark((function e(){var t=this;return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.vs=!1,this.Ii(),this.Xs&&(this.Xs.cancel(),this.Xs=null),this.Ti(),this.Ei(),e.next=7,this.ni.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(function(e){var n=new jI(e,Jw.ot);return t.li(n).next((function(){return t._i(n)}))}));case 7:this.ni.close(),this.Ai();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"gi",value:function(e,t){var n=this;return e.filter((function(e){return n.mi(e.updateTimeMs,t)&&!n.pi(e.clientId)}))}},{key:"Ri",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return xT(t).K().next((function(t){return e.gi(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.vs}},{key:"getMutationQueue",value:function(e,t){return D_.se(e,this.wt,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.Vs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getIndexManager",value:function(e){return new E_(e,this.wt.ne.databaseId)}},{key:"getDocumentOverlayCache",value:function(e){return u_.se(this.wt,e)}},{key:"getBundleCache",value:function(){return this.Ds}},{key:"runTransaction",value:function(e,t,n){var r=this;Yk("IndexedDbPersistence","Starting transaction:",e);var i,a,o="readonly"===t?"readonly":"readwrite",u=15===(i=this.Hs)?UI:14===i?VI:13===i?FI:12===i?MI:11===i?LI:void ew();return this.ni.runTransaction(e,o,u,(function(i){return a=new jI(i,r.Ps?r.Ps.next():Jw.ot),"readwrite-primary"===t?r.ai(a).next((function(e){return!!e||r.hi(a)})).next((function(t){if(!t)throw Jk("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.js.enqueueRetryable((function(){return r.ti(!1)})),new iw(rw.FAILED_PRECONDITION,Lw);return n(a)})).next((function(e){return r.fi(a).next((function(){return e}))})):r.bi(a).next((function(){return n(a)}))})).then((function(e){return a.raiseOnCommittedEvent(),e}))}},{key:"bi",value:function(e){var t=this;return wT(e).get("owner").next((function(e){if(null!==e&&t.mi(e.leaseTimestampMs,5e3)&&!t.pi(e.ownerId)&&!t.di(e)&&!(t.zs||t.allowTabSynchronization&&e.allowTabSynchronization))throw new iw(rw.FAILED_PRECONDITION,bT)}))}},{key:"fi",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return wT(e).put("owner",t)}},{key:"li",value:function(e){var t=this,n=wT(e);return n.get("owner").next((function(e){return t.di(e)?(Yk("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):Uw.resolve()}))}},{key:"mi",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(Jk("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"ri",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ys=function(){e.js.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.ii()}))},this.document.addEventListener("visibilitychange",this.Ys),this.inForeground="visible"===this.document.visibilityState)}},{key:"Ti",value:function(){this.Ys&&(this.document.removeEventListener("visibilitychange",this.Ys),this.Ys=null)}},{key:"oi",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Js=function(){t.Ii(),!Ya()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&navigator.appVersion.match(/Version\/1[45]/)&&t.js.enterRestrictedMode(!0),t.js.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.Js))}},{key:"Ei",value:function(){this.Js&&(this.window.removeEventListener("pagehide",this.Js),this.Js=null)}},{key:"pi",value:function(e){var t;try{var n=null!==(null===(t=this.si)||void 0===t?void 0:t.getItem(this.yi(e)));return Yk("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return Jk("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"Ii",value:function(){if(this.si)try{this.si.setItem(this.yi(this.clientId),String(Date.now()))}catch(Gm){Jk("Failed to set zombie client id.",Gm)}}},{key:"Ai",value:function(){if(this.si)try{this.si.removeItem(this.yi(this.clientId))}catch(Gm){}}},{key:"yi",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"V",value:function(){return zw.V()}}]),e}();function wT(e){return zI(e,"owner")}function xT(e){return zI(e,"clientMetadata")}function ET(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var ST=function(){function e(t,n,r,i){Fa(this,e),this.targetId=t,this.fromCache=n,this.Pi=r,this.vi=i}return fe(e,null,[{key:"Vi",value:function(t,n){var r,i=ES(),a=ES(),o=Da(n.docChanges);try{for(o.s();!(r=o.n()).done;){var u=r.value;switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}}}catch(s){o.e(s)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),IT=function(){function e(){Fa(this,e),this.Si=!1}return fe(e,[{key:"initialize",value:function(e,t){this.Di=e,this.indexManager=t,this.Si=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return this.Ci(e,t).next((function(a){return a||i.xi(e,t,r,n)})).next((function(n){return n||i.Ni(e,t)}))}},{key:"Ci",value:function(e,t){return Uw.resolve(null)}},{key:"xi",value:function(e,t,n,r){var i=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||r.isEqual(kw.min())?this.Ni(e,t):this.Di.getDocuments(e,n).next((function(a){var o=i.ki(t,a);return i.Oi(t,o,n,r)?i.Ni(e,t):($k()<=ko.DEBUG&&Yk("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),SE(t)),i.Mi(e,o,t,Rw(r,-1)))}))}},{key:"ki",value:function(e,t){var n=new ix(TE(e));return t.forEach((function(t,r){IE(e,r)&&(n=n.add(r))})),n}},{key:"Oi",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Ni",value:function(e,t){return $k()<=ko.DEBUG&&Yk("QueryEngine","Using full collection scan to execute query:",SE(t)),this.Di.getDocumentsMatchingQuery(e,t,Dw.min())}},{key:"Mi",value:function(e,t,n,r){return this.Di.getDocumentsMatchingQuery(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),_T=function(){function e(t,n,r,i){Fa(this,e),this.persistence=t,this.Fi=n,this.wt=i,this.$i=new tx(mw),this.Bi=new hS((function(e){return Hx(e)}),Qx),this.Li=new Map,this.Ui=t.getRemoteDocumentCache(),this.Vs=t.getTargetCache(),this.Ds=t.getBundleCache(),this.qi(r)}return fe(e,[{key:"qi",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new aT(this.Ui,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ui.setIndexManager(this.indexManager),this.Fi.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.$i)}))}}]),e}();function TT(e,t,n,r){return new _T(e,t,n,r)}function CT(e,t){return NT.apply(this,arguments)}function NT(){return NT=Ma(Oa().mark((function e(t,n){var r;return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=nw(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next((function(i){return t=i,r.qi(n),r.mutationQueue.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],u=ES(),s=Da(t);try{for(s.s();!(i=s.n()).done;){var c=i.value;a.push(c.batchId);var l,f=Da(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;u=u.add(h.key)}}catch(b){f.e(b)}finally{f.f()}}}catch(b){s.e(b)}finally{s.f()}var d,p=Da(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var m,y=Da(v.mutations);try{for(y.s();!(m=y.n()).done;){var g=m.value;u=u.add(g.key)}}catch(b){y.e(b)}finally{y.f()}}}catch(b){p.e(b)}finally{p.f()}return r.localDocuments.getDocuments(e,u).next((function(e){return{Ki:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),NT.apply(this,arguments)}function AT(e,t){var n=nw(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Ui.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=Uw.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);tw(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.mutationQueue.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=ES(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}function RT(e){var t=nw(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Vs.getLastRemoteSnapshotVersion(e)}))}function PT(e,t){var n=nw(e),r=t.snapshotVersion,i=n.$i;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.Ui.newChangeBuffer({trackRemovals:!0});i=n.$i;var o=[];t.targetChanges.forEach((function(a,u){var s=i.get(u);if(s){o.push(n.Vs.removeMatchingKeys(e,a.removedDocuments,u).next((function(){return n.Vs.addMatchingKeys(e,a.addedDocuments,u)})));var c=s.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(u)?c=c.withResumeToken(sx.EMPTY_BYTE_STRING,kw.min()).withLastLimboFreeSnapshotVersion(kw.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(u,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(s,c,a)&&o.push(n.Vs.updateTargetData(e,c))}}));var u=pS(),s=ES();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(DT(e,a,t.documentUpdates).next((function(e){u=e.Gi,s=e.Qi}))),!r.isEqual(kw.min())){var c=n.Vs.getLastRemoteSnapshotVersion(e).next((function(t){return n.Vs.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(c)}return Uw.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(e,u,s)})).next((function(){return u}))})).then((function(e){return n.$i=i,e}))}function DT(e,t,n){var r=ES(),i=ES();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=pS();return n.forEach((function(n,a){var o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(kw.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):Yk("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)})),{Gi:r,Qi:i}}))}function OT(e,t){var n=nw(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)}))}function LT(e,t){var n=nw(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Vs.getTargetData(e,t).next((function(i){return i?(r=i,Uw.resolve(r)):n.Vs.allocateTargetId(e).next((function(i){return r=new KI(t,i,0,e.currentSequenceNumber),n.Vs.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.$i.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.$i=n.$i.insert(e.targetId,e),n.Bi.set(t,e.targetId)),e}))}function MT(e,t,n){return FT.apply(this,arguments)}function FT(){return FT=Ma(Oa().mark((function e(t,n,r){var i,a,o;return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=nw(t),a=i.$i.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),Ww(e.t1)){e.next=12;break}throw e.t1;case 12:Yk("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.$i=i.$i.remove(n),i.Bi.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),FT.apply(this,arguments)}function VT(e,t,n){var r=nw(e),i=kw.min(),a=ES();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=nw(e),i=r.Bi.get(n);return void 0!==i?Uw.resolve(r.$i.get(i)):r.Vs.getTargetData(t,n)}(r,e,kE(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Vs.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Fi.getDocumentsMatchingQuery(e,t,n?i:kw.min(),n?a:ES())})).next((function(e){return zT(r,_E(t),e),{documents:e,ji:a}}))}))}function UT(e,t){var n=nw(e),r=nw(n.Vs),i=n.$i.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.te(e,t).next((function(e){return e?e.target:null}))}))}function jT(e,t){var n=nw(e),r=n.Li.get(t)||kw.min();return n.persistence.runTransaction("Get new document changes","readonly",(function(e){return n.Ui.getAllFromCollectionGroup(e,t,Rw(r,-1),Number.MAX_SAFE_INTEGER)})).then((function(e){return zT(n,t,e),e}))}function zT(e,t,n){var r=kw.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Li.set(t,r)}function BT(e,t,n,r){return qT.apply(this,arguments)}function qT(){return qT=Ma(Oa().mark((function e(t,n,r,i){var a,o,u,s,c,l,f,h,d,p;return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=nw(t),o=ES(),u=pS(),s=Da(r);try{for(s.s();!(c=s.n()).done;)l=c.value,f=n.Wi(l.metadata.name),l.document&&(o=o.add(f)),(h=n.zi(l)).setReadTime(n.Hi(l.metadata.readTime)),u=u.insert(f,h)}catch(v){s.e(v)}finally{s.f()}return d=a.Ui.newChangeBuffer({trackRemovals:!0}),e.next=7,LT(a,function(e){return kE(vE(xw.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return DT(e,d,u).next((function(t){return d.apply(e),t})).next((function(t){return a.Vs.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return a.Vs.addMatchingKeys(e,o,p.targetId)})).next((function(){return a.localDocuments.getLocalViewOfDocuments(e,t.Gi,t.Qi)})).next((function(){return t.Gi}))}))})));case 9:case"end":return e.stop()}}),e)}))),qT.apply(this,arguments)}function WT(e,t){return KT.apply(this,arguments)}function KT(){return KT=Ma(Oa().mark((function e(t,n){var r,i,a,o=arguments;return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:ES(),e.next=3,LT(t,kE(e_(n.bundledQuery)));case 3:return i=e.sent,a=nw(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=zS(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.Ds.saveNamedQuery(e,n);var o=i.withResumeToken(sx.EMPTY_BYTE_STRING,t);return a.$i=a.$i.insert(o.targetId,o),a.Vs.updateTargetData(e,o).next((function(){return a.Vs.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.Vs.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.Ds.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),KT.apply(this,arguments)}function GT(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function HT(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function QT(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var $T=function(){function e(t,n,r,i){Fa(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return fe(e,[{key:"Yi",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Ji",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new iw(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(Jk("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),YT=function(){function e(t,n,r){Fa(this,e),this.targetId=t,this.state=n,this.error=r}return fe(e,[{key:"Yi",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Ji",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new iw(i.error.code,i.error.message))),a?new e(t,i.state,r):(Jk("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),JT=function(){function e(t,n){Fa(this,e),this.clientId=t,this.activeTargetIds=n}return fe(e,null,[{key:"Ji",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=IS(),o=0;i&&o<r.activeTargetIds.length;++o)i=kx(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(Jk("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),XT=function(){function e(t,n){Fa(this,e),this.clientId=t,this.onlineState=n}return fe(e,null,[{key:"Ji",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(Jk("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),ZT=function(){function e(){Fa(this,e),this.activeTargetIds=IS()}return fe(e,[{key:"Xi",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"Zi",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"Yi",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),eC=function(){function e(t,n,r,i,a){Fa(this,e),this.window=t,this.js=n,this.persistenceKey=r,this.tr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.er=this.nr.bind(this),this.sr=new tx(mw),this.started=!1,this.ir=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.rr=GT(this.persistenceKey,this.tr),this.ur=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.sr=this.sr.insert(this.tr,new ZT),this.cr=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.ar=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.hr=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.lr=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.dr=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.er)}return fe(e,[{key:"start",value:function(){var e=Ma(Oa().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f,h=this;return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.Ri();case 2:t=e.sent,n=Da(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.tr){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(GT(this.persistenceKey,i)))&&(o=JT.Ji(i,a))&&(this.sr=this.sr.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this._r(),(u=this.storage.getItem(this.lr))&&(s=this.wr(u))&&this.mr(s),c=Da(this.ir);try{for(c.s();!(l=c.n()).done;)f=l.value,this.nr(f)}catch(d){c.e(d)}finally{c.f()}this.ir=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.ur,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.gr(this.sr)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.sr.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.yr(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.yr(e,t,n),this.pr(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(QT(this.persistenceKey,e));if(n){var r=YT.Ji(e,n);r&&(t=r.state)}}return this.Ir.Xi(e),this._r(),t}},{key:"removeLocalQueryTarget",value:function(e){this.Ir.Zi(e),this._r()}},{key:"isLocalQueryTarget",value:function(e){return this.Ir.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(QT(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.Tr(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.pr(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.Er(e)}},{key:"notifyBundleLoaded",value:function(e){this.Ar(e)}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.er),this.removeItem(this.rr),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return Yk("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){Yk("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){Yk("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"nr",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(Yk("SharedClientState","EVENT",n.key,n.newValue),n.key===this.rr)return void Jk("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.js.enqueueRetryable(Ma(Oa().mark((function e(){var r,i,a,o,u,s,c;return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=43;break}if(null===n.key){e.next=41;break}if(!t.cr.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.Rr(n.key),e.abrupt("return",t.br(r,null));case 6:if(!(i=t.Pr(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.br(i.clientId,i));case 9:e.next=41;break;case 11:if(!t.ar.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.vr(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.Vr(a));case 16:e.next=41;break;case 18:if(!t.hr.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.Sr(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.Dr(o));case 23:e.next=41;break;case 25:if(n.key!==t.lr){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(u=t.wr(n.newValue))){e.next=30;break}return e.abrupt("return",t.mr(u));case 30:e.next=41;break;case 32:if(n.key!==t.ur){e.next=37;break}s=function(e){var t=Jw.ot;if(null!=e)try{var n=JSON.parse(e);tw("number"==typeof n),t=n}catch(e){Jk("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),s!==Jw.ot&&t.sequenceNumberHandler(s),e.next=41;break;case 37:if(n.key!==t.dr){e.next=41;break}return c=t.Cr(n.newValue),e.next=41,Promise.all(c.map((function(e){return t.syncEngine.Nr(e)})));case 41:e.next=44;break;case 43:t.ir.push(n);case 44:case"end":return e.stop()}}),e)}))))}}},{key:"Ir",get:function(){return this.sr.get(this.tr)}},{key:"_r",value:function(){this.setItem(this.rr,this.Ir.Yi())}},{key:"yr",value:function(e,t,n){var r=new $T(this.currentUser,e,t,n),i=HT(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Yi())}},{key:"pr",value:function(e){var t=HT(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"Er",value:function(e){var t={clientId:this.tr,onlineState:e};this.storage.setItem(this.lr,JSON.stringify(t))}},{key:"Tr",value:function(e,t,n){var r=QT(this.persistenceKey,e),i=new YT(e,t,n);this.setItem(r,i.Yi())}},{key:"Ar",value:function(e){var t=JSON.stringify(Array.from(e));this.setItem(this.dr,t)}},{key:"Rr",value:function(e){var t=this.cr.exec(e);return t?t[1]:null}},{key:"Pr",value:function(e,t){var n=this.Rr(e);return JT.Ji(n,t)}},{key:"vr",value:function(e,t){var n=this.ar.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return $T.Ji(new Gk(i),r,t)}},{key:"Sr",value:function(e,t){var n=this.hr.exec(e),r=Number(n[1]);return YT.Ji(r,t)}},{key:"wr",value:function(e){return XT.Ji(e)}},{key:"Cr",value:function(e){return JSON.parse(e)}},{key:"Vr",value:function(){var e=Ma(Oa().mark((function e(t){return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.kr(t.batchId,t.state,t.error));case 2:Yk("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Dr",value:function(e){return this.syncEngine.Or(e.targetId,e.state,e.error)}},{key:"br",value:function(e,t){var n=this,r=t?this.sr.insert(e,t):this.sr.remove(e),i=this.gr(this.sr),a=this.gr(r),o=[],u=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||u.push(e)})),this.syncEngine.Mr(o,u).then((function(){n.sr=r}))}},{key:"mr",value:function(e){this.sr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"gr",value:function(e){var t=IS();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"V",value:function(e){return!(!e||!e.localStorage)}}]),e}(),tC=function(){function e(){Fa(this,e),this.Fr=new ZT,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return fe(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Fr.Xi(e),this.$r[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.$r[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Fr.Zi(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Fr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.$r[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Fr.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Fr.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Fr=new ZT,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),nC=function(){function e(){Fa(this,e)}return fe(e,[{key:"Br",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),rC=function(){function e(){var t=this;Fa(this,e),this.Lr=function(){return t.Ur()},this.qr=function(){return t.Kr()},this.Gr=[],this.Qr()}return fe(e,[{key:"Br",value:function(e){this.Gr.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Lr),window.removeEventListener("offline",this.qr)}},{key:"Qr",value:function(){window.addEventListener("online",this.Lr),window.addEventListener("offline",this.qr)}},{key:"Ur",value:function(){Yk("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=Da(this.Gr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"Kr",value:function(){Yk("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=Da(this.Gr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"V",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),iC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},aC=function(){function e(t){Fa(this,e),this.jr=t.jr,this.Wr=t.Wr}return fe(e,[{key:"zr",value:function(e){this.Hr=e}},{key:"Jr",value:function(e){this.Yr=e}},{key:"onMessage",value:function(e){this.Xr=e}},{key:"close",value:function(){this.Wr()}},{key:"send",value:function(e){this.jr(e)}},{key:"Zr",value:function(){this.Hr()}},{key:"eo",value:function(e){this.Yr(e)}},{key:"no",value:function(e){this.Xr(e)}}]),e}(),oC=function(e){Na(n,e);var t=Pa(n);function n(e){var r;return Fa(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return fe(n,[{key:"co",value:function(e,t,n,r){return new Promise((function(i,a){var o=new Wk;o.listenOnce(Uk.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case Vk.NO_ERROR:var t=o.getResponseJson();Yk("Connection","XHR received:",JSON.stringify(t)),i(t);break;case Vk.TIMEOUT:Yk("Connection",'RPC "'+e+'" timed out'),a(new iw(rw.DEADLINE_EXCEEDED,"Request time out"));break;case Vk.HTTP_ERROR:var n=o.getStatus();if(Yk("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var u=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(rw).indexOf(t)>=0?t:rw.UNKNOWN}(r.status);a(new iw(u,r.message))}else a(new iw(rw.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new iw(rw.UNAVAILABLE,"Connection failed."));break;default:ew()}}finally{Yk("Connection",'RPC "'+e+'" completed.')}}));var u=JSON.stringify(r);o.send(t,"POST",u,n,15)}))}},{key:"ho",value:function(e,t,n){var r=[this.so,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=Mk(),a=Fk(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new Bk({})),this.uo(o.initMessageHeaders,t,n),$a()||Xa()||Qa().indexOf("Electron/")>=0||Za()||Qa().indexOf("MSAppHost/")>=0||Ja()||(o.httpHeadersOverwriteParam="$httpHeaders");var u=r.join("");Yk("Connection","Creating WebChannel: "+u,o);var s=i.createWebChannel(u,o),c=!1,l=!1,f=new aC({jr:function(e){l?Yk("Connection","Not sending because WebChannel is closed:",e):(c||(Yk("Connection","Opening WebChannel transport."),s.open(),c=!0),Yk("Connection","WebChannel sending:",e),s.send(e))},Wr:function(){return s.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(s,qk.EventType.OPEN,(function(){l||Yk("Connection","WebChannel transport opened.")})),h(s,qk.EventType.CLOSE,(function(){l||(l=!0,Yk("Connection","WebChannel transport closed"),f.eo())})),h(s,qk.EventType.ERROR,(function(e){l||(l=!0,Xk("Connection","WebChannel transport errored:",e),f.eo(new iw(rw.UNAVAILABLE,"The operation could not be completed")))})),h(s,qk.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];tw(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){Yk("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=aS[e];if(void 0!==t)return fS(t)}(a),u=i.message;void 0===o&&(o=rw.INTERNAL,u="Unknown error status: "+a+" with message "+i.message),l=!0,f.eo(new iw(o,u)),s.close()}else Yk("Connection","WebChannel received:",n),f.no(n)}})),h(a,jk.STAT_EVENT,(function(e){e.stat===zk.PROXY?Yk("Connection","Detected buffering proxy"):e.stat===zk.NOPROXY&&Yk("Connection","Detected no buffering proxy")})),setTimeout((function(){f.Zr()}),0),f}}]),n}(function(){function e(t){Fa(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.so=n+"://"+t.host,this.io="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return fe(e,[{key:"ro",value:function(e,t,n,r,i){var a=this.oo(e,t);Yk("RestConnection","Sending: ",a,n);var o={};return this.uo(o,r,i),this.co(e,a,o,n).then((function(e){return Yk("RestConnection","Received: ",e),e}),(function(t){throw Xk("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"ao",value:function(e,t,n,r,i,a){return this.ro(e,t,n,r,i)}},{key:"uo",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Hk,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"oo",value:function(e,t){var n=iC[e];return"".concat(this.so,"/v1/").concat(t,":").concat(n)}}]),e}());function uC(){return"undefined"!=typeof window?window:null}function sC(){return"undefined"!=typeof document?document:null}function cC(e){return new FS(e,!0)}var lC=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;Fa(this,e),this.js=t,this.timerId=n,this.lo=r,this.fo=i,this._o=a,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}return fe(e,[{key:"reset",value:function(){this.wo=0}},{key:"po",value:function(){this.wo=this._o}},{key:"Io",value:function(e){var t=this;this.cancel();var n=Math.floor(this.wo+this.To()),r=Math.max(0,Date.now()-this.yo),i=Math.max(0,n-r);i>0&&Yk("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.wo," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.mo=this.js.enqueueAfterDelay(this.timerId,i,(function(){return t.yo=Date.now(),e()})),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}},{key:"Eo",value:function(){null!==this.mo&&(this.mo.skipDelay(),this.mo=null)}},{key:"cancel",value:function(){null!==this.mo&&(this.mo.cancel(),this.mo=null)}},{key:"To",value:function(){return(Math.random()-.5)*this.wo}}]),e}(),fC=function(){function e(t,n,r,i,a,o,u,s){Fa(this,e),this.js=t,this.Ao=r,this.Ro=i,this.bo=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=s,this.state=0,this.Po=0,this.vo=null,this.Vo=null,this.stream=null,this.So=new lC(t,n)}return fe(e,[{key:"Do",value:function(){return 1===this.state||5===this.state||this.Co()}},{key:"Co",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.xo()}},{key:"stop",value:function(){var e=Ma(Oa().mark((function e(){return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.Do(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"No",value:function(){this.state=0,this.So.reset()}},{key:"ko",value:function(){var e=this;this.Co()&&null===this.vo&&(this.vo=this.js.enqueueAfterDelay(this.Ao,6e4,(function(){return e.Oo()})))}},{key:"Mo",value:function(e){this.Fo(),this.stream.send(e)}},{key:"Oo",value:function(){var e=Ma(Oa().mark((function e(){return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.Co()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Fo",value:function(){this.vo&&(this.vo.cancel(),this.vo=null)}},{key:"$o",value:function(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}},{key:"close",value:function(){var e=Ma(Oa().mark((function e(t,n){return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Fo(),this.$o(),this.So.cancel(),this.Po++,4!==t?this.So.reset():n&&n.code===rw.RESOURCE_EXHAUSTED?(Jk(n.toString()),Jk("Using maximum backoff delay to prevent overloading the backend."),this.So.po()):n&&n.code===rw.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Bo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Jr(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Bo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Lo(this.Po),n=this.Po;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=l(t,2),i=r[0],a=r[1];e.Po===n&&e.Uo(i,a)}),(function(n){t((function(){var t=new iw(rw.UNKNOWN,"Fetching auth token failed: "+n.message);return e.qo(t)}))}))}},{key:"Uo",value:function(e,t){var n=this,r=this.Lo(this.Po);this.stream=this.Ko(e,t),this.stream.zr((function(){r((function(){return n.state=2,n.Vo=n.js.enqueueAfterDelay(n.Ro,1e4,(function(){return n.Co()&&(n.state=3),Promise.resolve()})),n.listener.zr()}))})),this.stream.Jr((function(e){r((function(){return n.qo(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"xo",value:function(){var e=this;this.state=5,this.So.Io(Ma(Oa().mark((function t(){return Oa().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"qo",value:function(e){return Yk("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Lo",value:function(e){var t=this;return function(n){t.js.enqueueAndForget((function(){return t.Po===e?n():(Yk("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),hC=function(e){Na(n,e);var t=Pa(n);function n(e,r,i,a,o,u){var s;return Fa(this,n),(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,u)).wt=o,s}return fe(n,[{key:"Ko",value:function(e,t){return this.bo.ho("Listen",e,t)}},{key:"onMessage",value:function(e){this.So.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:ew()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.dt?(tw(void 0===t||"string"==typeof t),sx.fromBase64String(t||"")):(tw(void 0===t||t instanceof Uint8Array),sx.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,u=o&&function(e){var t=void 0===e.code?rw.UNKNOWN:fS(e.code);return new iw(t,e.message||"")}(o);n=new AS(r,i,a,u||null)}else if("documentChange"in t){t.documentChange;var s=t.documentChange;s.document,s.document.name,s.document.updateTime;var c=KS(e,s.document.name),l=zS(s.document.updateTime),f=new Bx({mapValue:{fields:s.document.fields}}),h=Wx.newFoundDocument(c,l,f),d=s.targetIds||[],p=s.removedTargetIds||[];n=new CS(d,p,h.key,h)}else if("documentDelete"in t){t.documentDelete;var v=t.documentDelete;v.document;var m=KS(e,v.document),y=v.readTime?zS(v.readTime):kw.min(),g=Wx.newNoDocument(m,y),b=v.removedTargetIds||[];n=new CS([],b,g.key,g)}else if("documentRemove"in t){t.documentRemove;var k=t.documentRemove;k.document;var w=KS(e,k.document),x=k.removedTargetIds||[];n=new CS([],x,w,null)}else{if(!("filter"in t))return ew();t.filter;var E=t.filter;E.targetId;var S=E.count||0,I=new cS(S),_=E.targetId;n=new NS(_,I)}return n}(this.wt,e),n=function(e){if(!("targetChange"in e))return kw.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?kw.min():t.readTime?zS(t.readTime):kw.min()}(e);return this.listener.Go(t,n)}},{key:"Qo",value:function(e){var t={};t.database=QS(this.wt),t.addTarget=function(e,t){var n,r=t.target;return(n=$x(r)?{documents:tI(e,r)}:{query:nI(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=US(e,t.resumeToken):t.snapshotVersion.compareTo(kw.min())>0&&(n.readTime=VS(e,t.snapshotVersion.toTimestamp())),n}(this.wt,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return ew()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.wt,e);n&&(t.labels=n),this.Mo(t)}},{key:"jo",value:function(e){var t={};t.database=QS(this.wt),t.removeTarget=e,this.Mo(t)}}]),n}(fC),dC=function(e){Na(n,e);var t=Pa(n);function n(e,r,i,a,o,u){var s;return Fa(this,n),(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,u)).wt=o,s.Wo=!1,s}return fe(n,[{key:"zo",get:function(){return this.Wo}},{key:"start",value:function(){this.Wo=!1,this.lastStreamToken=void 0,Ca(_a(n.prototype),"start",this).call(this)}},{key:"Bo",value:function(){this.Wo&&this.Ho([])}},{key:"Ko",value:function(e,t){return this.bo.ho("Write",e,t)}},{key:"onMessage",value:function(e){if(tw(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Wo){this.So.reset();var t=function(e,t){return e&&e.length>0?(tw(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?zS(e.updateTime):zS(t);return n.isEqual(kw.min())&&(n=zS(t)),new KE(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=zS(e.commitTime);return this.listener.Jo(n,t)}return tw(!e.writeResults||0===e.writeResults.length),this.Wo=!0,this.listener.Yo()}},{key:"Xo",value:function(){var e={};e.database=QS(this.wt),this.Mo(e)}},{key:"Ho",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return ZS(t.wt,e)}))};this.Mo(n)}}]),n}(fC),pC=function(e){Na(n,e);var t=Pa(n);function n(e,r,i,a){var o;return Fa(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.bo=i,o.wt=a,o.Zo=!1,o}return fe(n,[{key:"tu",value:function(){if(this.Zo)throw new iw(rw.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"ro",value:function(e,t,n){var r=this;return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=l(i,2),o=a[0],u=a[1];return r.bo.ro(e,t,n,o,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===rw.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new iw(rw.UNKNOWN,e.toString())}))}},{key:"ao",value:function(e,t,n,r){var i=this;return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(a){var o=l(a,2),u=o[0],s=o[1];return i.bo.ao(e,t,n,u,s,r)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===rw.UNAUTHENTICATED&&(i.authCredentials.invalidateToken(),i.appCheckCredentials.invalidateToken()),e):new iw(rw.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.Zo=!0}}]),n}(function(){return fe((function e(){Fa(this,e)}))}()),vC=function(){function e(t,n){Fa(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.eu=0,this.nu=null,this.su=!0}return fe(e,[{key:"iu",value:function(){var e=this;0===this.eu&&(this.ru("Unknown"),this.nu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.nu=null,e.ou("Backend didn't respond within 10 seconds."),e.ru("Offline"),Promise.resolve()})))}},{key:"uu",value:function(e){"Online"===this.state?this.ru("Unknown"):(this.eu++,this.eu>=1&&(this.cu(),this.ou("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.ru("Offline")))}},{key:"set",value:function(e){this.cu(),this.eu=0,"Online"===e&&(this.su=!1),this.ru(e)}},{key:"ru",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"ou",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.su?(Jk(t),this.su=!1):Yk("OnlineStateTracker",t)}},{key:"cu",value:function(){null!==this.nu&&(this.nu.cancel(),this.nu=null)}}]),e}(),mC=fe((function e(t,n,r,i,a){var o=this;Fa(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.au=[],this.hu=new Map,this.lu=new Set,this.fu=[],this.du=a,this.du.Br((function(e){r.enqueueAndForget(Ma(Oa().mark((function e(){return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=TC(o),!e.t0){e.next=5;break}return Yk("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=Ma(Oa().mark((function e(t){var n;return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=nw(t)).lu.add(4),e.next=4,bC(n);case 4:return n._u.set("Unknown"),n.lu.delete(4),e.next=8,yC(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this._u=new vC(r,i)}));function yC(e){return gC.apply(this,arguments)}function gC(){return gC=Ma(Oa().mark((function e(t){var n,r,i;return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!TC(t)){e.next=18;break}n=Da(t.fu),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),gC.apply(this,arguments)}function bC(e){return kC.apply(this,arguments)}function kC(){return kC=Ma(Oa().mark((function e(t){var n,r,i;return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Da(t.fu),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),kC.apply(this,arguments)}function wC(e,t){var n=nw(e);n.hu.has(t.targetId)||(n.hu.set(t.targetId,t),_C(n)?IC(n):nN(n).Co()&&EC(n,t))}function xC(e,t){var n=nw(e),r=nN(n);n.hu.delete(t),r.Co()&&SC(n,t),0===n.hu.size&&(r.Co()?r.ko():TC(n)&&n._u.set("Unknown"))}function EC(e,t){e.wu.Nt(t.targetId),nN(e).Qo(t)}function SC(e,t){e.wu.Nt(t),nN(e).jo(t)}function IC(e){e.wu=new PS({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},te:function(t){return e.hu.get(t)||null}}),nN(e).start(),e._u.iu()}function _C(e){return TC(e)&&!nN(e).Do()&&e.hu.size>0}function TC(e){return 0===nw(e).lu.size}function CC(e){e.wu=void 0}function NC(e){return AC.apply(this,arguments)}function AC(){return AC=Ma(Oa().mark((function e(t){return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.hu.forEach((function(e,n){EC(t,e)}));case 1:case"end":return e.stop()}}),e)}))),AC.apply(this,arguments)}function RC(e,t){return PC.apply(this,arguments)}function PC(){return PC=Ma(Oa().mark((function e(t,n){return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:CC(t),_C(t)?(t._u.uu(n),IC(t)):t._u.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),PC.apply(this,arguments)}function DC(e,t,n){return OC.apply(this,arguments)}function OC(){return OC=Ma(Oa().mark((function e(t,n,r){var i;return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t._u.set("Online"),!(n instanceof AS&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=Ma(Oa().mark((function e(t,n){var r,i,a,o;return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=Da(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.hu.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.hu.delete(o),t.wu.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),Yk("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,LC(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof CS?t.wu.Ut(n):n instanceof NS?t.wu.zt(n):t.wu.Gt(n),r.isEqual(kw.min())){e.next=29;break}return e.prev=14,e.next=17,RT(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.wu.Yt(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.hu.get(r);i&&e.hu.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.hu.get(t);if(n){e.hu.set(t,n.withResumeToken(sx.EMPTY_BYTE_STRING,n.snapshotVersion)),SC(e,t);var r=new KI(n.target,t,1,n.sequenceNumber);EC(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),Yk("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,LC(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),OC.apply(this,arguments)}function LC(e,t,n){return MC.apply(this,arguments)}function MC(){return MC=Ma(Oa().mark((function e(t,n,r){return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Ww(n)){e.next=2;break}throw n;case 2:return t.lu.add(1),e.next=5,bC(t);case 5:t._u.set("Offline"),r||(r=function(){return RT(t.localStore)}),t.asyncQueue.enqueueRetryable(Ma(Oa().mark((function e(){return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Yk("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.lu.delete(1),e.next=6,yC(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),MC.apply(this,arguments)}function FC(e,t){return t().catch((function(n){return LC(e,n,t)}))}function VC(e){return UC.apply(this,arguments)}function UC(){return UC=Ma(Oa().mark((function e(t){var n,r,i,a;return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=nw(t),r=rN(n),i=n.au.length>0?n.au[n.au.length-1].batchId:-1;case 2:if(!jC(n)){e.next=19;break}return e.prev=3,e.next=6,OT(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.au.length&&r.ko(),e.abrupt("break",19);case 10:i=a.batchId,zC(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,LC(n,e.t0);case 17:e.next=2;break;case 19:BC(n)&&qC(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),UC.apply(this,arguments)}function jC(e){return TC(e)&&e.au.length<10}function zC(e,t){e.au.push(t);var n=rN(e);n.Co()&&n.zo&&n.Ho(t.mutations)}function BC(e){return TC(e)&&!rN(e).Do()&&e.au.length>0}function qC(e){rN(e).start()}function WC(e){return KC.apply(this,arguments)}function KC(){return KC=Ma(Oa().mark((function e(t){return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:rN(t).Xo();case 1:case"end":return e.stop()}}),e)}))),KC.apply(this,arguments)}function GC(e){return HC.apply(this,arguments)}function HC(){return HC=Ma(Oa().mark((function e(t){var n,r,i,a;return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=rN(t),r=Da(t.au);try{for(r.s();!(i=r.n()).done;)a=i.value,n.Ho(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),HC.apply(this,arguments)}function QC(e,t,n){return $C.apply(this,arguments)}function $C(){return $C=Ma(Oa().mark((function e(t,n,r){var i,a;return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.au.shift(),a=qI.from(i,n,r),e.next=3,FC(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,VC(t);case 5:case"end":return e.stop()}}),e)}))),$C.apply(this,arguments)}function YC(e,t){return JC.apply(this,arguments)}function JC(){return JC=Ma(Oa().mark((function e(t,n){return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&rN(t).zo,!e.t0){e.next=4;break}return e.next=4,function(){var e=Ma(Oa().mark((function e(t,n){var r,i;return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!lS(i=n.code)||i===rw.ABORTED){e.next=7;break}return r=t.au.shift(),rN(t).No(),e.next=5,FC(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,VC(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:BC(t)&&qC(t);case 5:case"end":return e.stop()}}),e)}))),JC.apply(this,arguments)}function XC(e,t){return ZC.apply(this,arguments)}function ZC(){return ZC=Ma(Oa().mark((function e(t,n){var r,i;return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=nw(t)).asyncQueue.verifyOperationInProgress(),Yk("RemoteStore","RemoteStore received new credentials"),i=TC(r),r.lu.add(3),e.next=6,bC(r);case 6:return i&&r._u.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.lu.delete(3),e.next=12,yC(r);case 12:case"end":return e.stop()}}),e)}))),ZC.apply(this,arguments)}function eN(e,t){return tN.apply(this,arguments)}function tN(){return tN=Ma(Oa().mark((function e(t,n){var r;return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=nw(t),!n){e.next=7;break}return r.lu.delete(2),e.next=5,yC(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.lu.add(2),e.next=12,bC(r);case 12:r._u.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),tN.apply(this,arguments)}function nN(e){return e.mu||(e.mu=function(e,t,n){var r=nw(e);return r.tu(),new hC(t,r.bo,r.authCredentials,r.appCheckCredentials,r.wt,n)}(e.datastore,e.asyncQueue,{zr:NC.bind(null,e),Jr:RC.bind(null,e),Go:DC.bind(null,e)}),e.fu.push(function(){var t=Ma(Oa().mark((function t(n){return Oa().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.mu.No(),_C(e)?IC(e):e._u.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.mu.stop();case 6:CC(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.mu}function rN(e){return e.gu||(e.gu=function(e,t,n){var r=nw(e);return r.tu(),new dC(t,r.bo,r.authCredentials,r.appCheckCredentials,r.wt,n)}(e.datastore,e.asyncQueue,{zr:WC.bind(null,e),Jr:YC.bind(null,e),Yo:GC.bind(null,e),Jo:QC.bind(null,e)}),e.fu.push(function(){var t=Ma(Oa().mark((function t(n){return Oa().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.gu.No(),t.next=4,VC(e);case 4:t.next=9;break;case 6:return t.next=8,e.gu.stop();case 8:e.au.length>0&&(Yk("RemoteStore","Stopping write stream with ".concat(e.au.length," pending writes")),e.au=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.gu}var iN=function(){function e(t,n,r,i,a){Fa(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new aw,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return fe(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new iw(rw.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function aN(e,t){if(Jk("AsyncQueue","".concat(t,": ").concat(e)),Ww(e))return new iw(rw.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var oN=function(){function e(t){Fa(this,e),this.comparator=t?function(e,n){return t(e,n)||Iw.comparator(e.key,n.key)}:function(e,t){return Iw.comparator(e.key,t.key)},this.keyedMap=mS(),this.sortedSet=new tx(this.comparator)}return fe(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),uN=function(){function e(){Fa(this,e),this.yu=new tx(Iw.comparator)}return fe(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.yu.get(t);n?0!==e.type&&3===n.type?this.yu=this.yu.insert(t,e):3===e.type&&1!==n.type?this.yu=this.yu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.yu=this.yu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.yu=this.yu.remove(t):1===e.type&&2===n.type?this.yu=this.yu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):ew():this.yu=this.yu.insert(t,e)}},{key:"pu",value:function(){var e=[];return this.yu.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),sN=function(){function e(t,n,r,i,a,o,u,s){Fa(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=s}return fe(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&xE(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i){var a=[];return n.forEach((function(e){a.push({type:0,doc:e})})),new e(t,n,oN.emptySet(n),a,r,i,!0,!1)}}]),e}(),cN=fe((function e(){Fa(this,e),this.Iu=void 0,this.listeners=[]})),lN=fe((function e(){Fa(this,e),this.queries=new hS((function(e){return EE(e)}),xE),this.onlineState="Unknown",this.Tu=new Set}));function fN(e,t){return hN.apply(this,arguments)}function hN(){return hN=Ma(Oa().mark((function e(t,n){var r,i,a,o,u;return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=nw(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new cN),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.Iu=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),u=aN(e.t0,"Initialization of query '".concat(SE(n.query),"' failed")),e.abrupt("return",void n.onError(u));case 13:r.queries.set(i,o),o.listeners.push(n),n.Eu(r.onlineState),o.Iu&&n.Au(o.Iu)&&yN(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),hN.apply(this,arguments)}function dN(e,t){return pN.apply(this,arguments)}function pN(){return pN=Ma(Oa().mark((function e(t,n){var r,i,a,o,u;return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=nw(t),i=n.query,a=!1,(o=r.queries.get(i))&&(u=o.listeners.indexOf(n))>=0&&(o.listeners.splice(u,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),pN.apply(this,arguments)}function vN(e,t){var n,r=nw(e),i=!1,a=Da(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,u=o.query,s=r.queries.get(u);if(s){var c,l=Da(s.listeners);try{for(l.s();!(c=l.n()).done;){c.value.Au(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}s.Iu=o}}}catch(f){a.e(f)}finally{a.f()}i&&yN(r)}function mN(e,t,n){var r=nw(e),i=r.queries.get(t);if(i){var a,o=Da(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(u){o.e(u)}finally{o.f()}}r.queries.delete(t)}function yN(e){e.Tu.forEach((function(e){e.next()}))}var gN=function(){function e(t,n,r){Fa(this,e),this.query=t,this.Ru=n,this.bu=!1,this.Pu=null,this.onlineState="Unknown",this.options=r||{}}return fe(e,[{key:"Au",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=Da(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new sN(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var a=!1;return this.bu?this.vu(e)&&(this.Ru.next(e),a=!0):this.Vu(e,this.onlineState)&&(this.Su(e),a=!0),this.Pu=e,a}},{key:"onError",value:function(e){this.Ru.error(e)}},{key:"Eu",value:function(e){this.onlineState=e;var t=!1;return this.Pu&&!this.bu&&this.Vu(this.Pu,e)&&(this.Su(this.Pu),t=!0),t}},{key:"Vu",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.Du||!n)&&(!e.docs.isEmpty()||"Offline"===t)}},{key:"vu",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Pu&&this.Pu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"Su",value:function(e){e=sN.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Ru.next(e)}}]),e}(),bN=function(){function e(t,n){Fa(this,e),this.payload=t,this.byteLength=n}return fe(e,[{key:"Cu",value:function(){return"metadata"in this.payload}}]),e}(),kN=function(){function e(t){Fa(this,e),this.wt=t}return fe(e,[{key:"Wi",value:function(e){return KS(this.wt,e)}},{key:"zi",value:function(e){return e.metadata.exists?JS(this.wt,e.document,!1):Wx.newNoDocument(this.Wi(e.metadata.name),this.Hi(e.metadata.readTime))}},{key:"Hi",value:function(e){return zS(e)}}]),e}(),wN=function(){function e(t,n,r){Fa(this,e),this.xu=t,this.localStore=n,this.wt=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=xN(t)}return fe(e,[{key:"Nu",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;var n=xw.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"ku",value:function(e){var t,n=new Map,r=new kN(this.wt),i=Da(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,u=r.Wi(a.metadata.name),s=Da(a.metadata.queries);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=(n.get(c)||ES()).add(u);n.set(c,l)}}catch(f){s.e(f)}finally{s.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=Ma(Oa().mark((function e(){var t,n,r,i,a;return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,BT(this.localStore,new kN(this.wt),this.documents,this.xu.id);case 2:t=e.sent,n=this.ku(this.documents),r=Da(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,WT(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",{progress:this.progress,Ou:this.collectionGroups,Mu:t}));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function xN(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var EN=fe((function e(t){Fa(this,e),this.key=t})),SN=fe((function e(t){Fa(this,e),this.key=t})),IN=function(){function e(t,n){Fa(this,e),this.query=t,this.Fu=n,this.$u=null,this.current=!1,this.Bu=ES(),this.mutatedKeys=ES(),this.Lu=TE(t),this.Uu=new oN(this.Lu)}return fe(e,[{key:"qu",get:function(){return this.Fu}},{key:"Ku",value:function(e,t){var n=this,r=t?t.Gu:new uN,i=t?t.Uu:this.Uu,a=t?t.mutatedKeys:this.mutatedKeys,o=i,u=!1,s="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=IE(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.Qu(l,f)||(r.track({type:2,doc:f}),p=!0,(s&&n.Lu(f,s)>0||c&&n.Lu(f,c)<0)&&(u=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(s||c)&&(u=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{Uu:o,Gu:r,Oi:u,mutatedKeys:a}}},{key:"Qu",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.Uu;this.Uu=e.Uu,this.mutatedKeys=e.mutatedKeys;var a=e.Gu.pu();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ew()}};return n(e)-n(t)}(e.type,t.type)||r.Lu(e.doc,t.doc)})),this.ju(n);var o=t?this.Wu():[],u=0===this.Bu.size&&this.current?1:0,s=u!==this.$u;return this.$u=u,0!==a.length||s?{snapshot:new sN(this.query,e.Uu,i,a,e.mutatedKeys,0===u,s,!1),zu:o}:{zu:o}}},{key:"Eu",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Uu:this.Uu,Gu:new uN,mutatedKeys:this.mutatedKeys,Oi:!1},!1)):{zu:[]}}},{key:"Hu",value:function(e){return!this.Fu.has(e)&&!!this.Uu.has(e)&&!this.Uu.get(e).hasLocalMutations}},{key:"ju",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.Fu=t.Fu.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.Fu=t.Fu.delete(e)})),this.current=e.current)}},{key:"Wu",value:function(){var e=this;if(!this.current)return[];var t=this.Bu;this.Bu=ES(),this.Uu.forEach((function(t){e.Hu(t.key)&&(e.Bu=e.Bu.add(t.key))}));var n=[];return t.forEach((function(t){e.Bu.has(t)||n.push(new SN(t))})),this.Bu.forEach((function(e){t.has(e)||n.push(new EN(e))})),n}},{key:"Ju",value:function(e){this.Fu=e.ji,this.Bu=ES();var t=this.Ku(e.documents);return this.applyChanges(t,!0)}},{key:"Yu",value:function(){return sN.fromInitialDocuments(this.query,this.Uu,this.mutatedKeys,0===this.$u)}}]),e}(),_N=fe((function e(t,n,r){Fa(this,e),this.query=t,this.targetId=n,this.view=r})),TN=fe((function e(t){Fa(this,e),this.key=t,this.Xu=!1})),CN=function(){function e(t,n,r,i,a,o){Fa(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Zu={},this.tc=new hS((function(e){return EE(e)}),xE),this.ec=new Map,this.nc=new Set,this.sc=new tx(Iw.comparator),this.ic=new Map,this.rc=new sT,this.oc={},this.uc=new Map,this.cc=V_.Rn(),this.onlineState="Unknown",this.ac=void 0}return fe(e,[{key:"isPrimaryClient",get:function(){return!0===this.ac}}]),e}();function NN(e,t){return AN.apply(this,arguments)}function AN(){return AN=Ma(Oa().mark((function e(t,n){var r,i,a,o,u,s;return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=xA(t),!(o=r.tc.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.Yu(),e.next=15;break;case 6:return e.next=8,LT(r.localStore,kE(n));case 8:return u=e.sent,r.isPrimaryClient&&wC(r.remoteStore,u),s=r.sharedClientState.addLocalQueryTarget(u.targetId),i=u.targetId,e.next=14,RN(r,n,i,"current"===s);case 14:a=e.sent;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),AN.apply(this,arguments)}function RN(e,t,n,r){return PN.apply(this,arguments)}function PN(){return PN=Ma(Oa().mark((function e(t,n,r,i){var a,o,u,s,c,l;return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.hc=function(e,n,r){return function(){var e=Ma(Oa().mark((function e(t,n,r,i){var a,o,u;return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.Ku(r),e.t0=a.Oi,!e.t0){e.next=6;break}return e.next=5,VT(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.Ku(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),u=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(XN(t,n.targetId,u.zu),u.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,VT(t.localStore,n,!0);case 3:return a=e.sent,o=new IN(n,a.ji),u=o.Ku(a.documents),s=TS.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState),c=o.applyChanges(u,t.isPrimaryClient,s),XN(t,r,c.zu),l=new _N(n,r,o),e.abrupt("return",(t.tc.set(n,l),t.ec.has(r)?t.ec.get(r).push(n):t.ec.set(r,[n]),c.snapshot));case 11:case"end":return e.stop()}}),e)}))),PN.apply(this,arguments)}function DN(e,t){return ON.apply(this,arguments)}function ON(){return ON=Ma(Oa().mark((function e(t,n){var r,i,a;return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=nw(t),i=r.tc.get(n),!((a=r.ec.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.ec.set(i.targetId,a.filter((function(e){return!xE(e,n)}))),void r.tc.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,MT(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),xC(r.remoteStore,i.targetId),YN(r,i.targetId)})).catch(Fw);case 9:e.next=14;break;case 11:return YN(r,i.targetId),e.next=14,MT(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),ON.apply(this,arguments)}function LN(e,t,n){return MN.apply(this,arguments)}function MN(){return MN=Ma(Oa().mark((function e(t,n,r){var i,a,o;return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=EA(t),e.prev=1,e.next=4,function(e,t){var n,r,i=nw(e),a=bw.now(),o=t.reduce((function(e,t){return e.add(t.key)}),ES());return i.persistence.runTransaction("Locally write mutations","readwrite",(function(e){var u=pS(),s=ES();return i.Ui.getEntries(e,o).next((function(e){(u=e).forEach((function(e,t){t.isValidDocument()||(s=s.add(e))}))})).next((function(){return i.localDocuments.getOverlayedDocuments(e,u)})).next((function(r){n=r;var o,u=[],s=Da(t);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=XE(c,n.get(c.key).overlayedDocument);null!=l&&u.push(new tS(c.key,l,qx(l.value.mapValue),GE.exists(!0)))}}catch(f){s.e(f)}finally{s.f()}return i.mutationQueue.addMutationBatch(e,a,u,t)})).next((function(t){r=t;var a=t.applyToLocalDocumentSet(n,s);return i.documentOverlayCache.saveOverlays(e,t.batchId,a)}))})).then((function(){return{batchId:r.batchId,changes:yS(n)}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.oc[e.currentUser.toKey()];r||(r=new tx(mw)),r=r.insert(t,n),e.oc[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,tA(i,a.changes);case 9:return e.next=11,VC(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=aN(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),MN.apply(this,arguments)}function FN(e,t){return VN.apply(this,arguments)}function VN(){return VN=Ma(Oa().mark((function e(t,n){var r,i;return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=nw(t),e.prev=1,e.next=4,PT(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.ic.get(t);n&&(tw(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.Xu=!0:e.modifiedDocuments.size>0?tw(n.Xu):e.removedDocuments.size>0&&(tw(n.Xu),n.Xu=!1))})),e.next=8,tA(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,Fw(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),VN.apply(this,arguments)}function UN(e,t,n){var r=nw(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.tc.forEach((function(e,n){var r=n.view.Eu(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=nw(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=Da(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.Eu(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&yN(n)}(r.eventManager,t),i.length&&r.Zu.Go(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function jN(e,t,n){return zN.apply(this,arguments)}function zN(){return zN=Ma(Oa().mark((function e(t,n,r){var i,a,o,u,s,c;return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=nw(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.ic.get(n),!(o=a&&a.key)){e.next=14;break}return u=(u=new tx(Iw.comparator)).insert(o,Wx.newNoDocument(o,kw.min())),s=ES().add(o),c=new _S(kw.min(),new Map,new ix(mw),u,s),e.next=9,FN(i,c);case 9:i.sc=i.sc.remove(o),i.ic.delete(n),eA(i),e.next=16;break;case 14:return e.next=16,MT(i.localStore,n,!1).then((function(){return YN(i,n,r)})).catch(Fw);case 16:case"end":return e.stop()}}),e)}))),zN.apply(this,arguments)}function BN(e,t){return qN.apply(this,arguments)}function qN(){return qN=Ma(Oa().mark((function e(t,n){var r,i,a;return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=nw(t),i=n.batch.batchId,e.prev=1,e.next=4,AT(r.localStore,n);case 4:return a=e.sent,$N(r,i,null),QN(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,tA(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Fw(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),qN.apply(this,arguments)}function WN(e,t,n){return KN.apply(this,arguments)}function KN(){return KN=Ma(Oa().mark((function e(t,n,r){var i,a;return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=nw(t),e.prev=1,e.next=4,function(e,t){var n=nw(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next((function(t){return tw(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,$N(i,n,r),QN(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,tA(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Fw(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),KN.apply(this,arguments)}function GN(e,t){return HN.apply(this,arguments)}function HN(){return HN=Ma(Oa().mark((function e(t,n){var r,i,a,o;return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return TC((r=nw(t)).remoteStore)||Yk("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=nw(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.mutationQueue.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.uc.get(i)||[]).push(n),r.uc.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=aN(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),HN.apply(this,arguments)}function QN(e,t){(e.uc.get(t)||[]).forEach((function(e){e.resolve()})),e.uc.delete(t)}function $N(e,t,n){var r=nw(e),i=r.oc[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.oc[r.currentUser.toKey()]=i}}function YN(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=Da(e.ec.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.tc.delete(a),n&&e.Zu.lc(a,n)}}catch(o){i.e(o)}finally{i.f()}e.ec.delete(t),e.isPrimaryClient&&e.rc.us(t).forEach((function(t){e.rc.containsKey(t)||JN(e,t)}))}function JN(e,t){e.nc.delete(t.path.canonicalString());var n=e.sc.get(t);null!==n&&(xC(e.remoteStore,n),e.sc=e.sc.remove(t),e.ic.delete(n),eA(e))}function XN(e,t,n){var r,i=Da(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof EN?(e.rc.addReference(a.key,t),ZN(e,a)):a instanceof SN?(Yk("SyncEngine","Document no longer in limbo: "+a.key),e.rc.removeReference(a.key,t),e.rc.containsKey(a.key)||JN(e,a.key)):ew()}}catch(o){i.e(o)}finally{i.f()}}function ZN(e,t){var n=t.key,r=n.path.canonicalString();e.sc.get(n)||e.nc.has(r)||(Yk("SyncEngine","New document in limbo: "+n),e.nc.add(r),eA(e))}function eA(e){for(;e.nc.size>0&&e.sc.size<e.maxConcurrentLimboResolutions;){var t=e.nc.values().next().value;e.nc.delete(t);var n=new Iw(xw.fromString(t)),r=e.cc.next();e.ic.set(r,new TN(n)),e.sc=e.sc.insert(n,r),wC(e.remoteStore,new KI(kE(vE(n.path)),r,2,Jw.ot))}}function tA(e,t,n){return nA.apply(this,arguments)}function nA(){return nA=Ma(Oa().mark((function e(t,n,r){var i,a,o,u;return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=nw(t),a=[],o=[],u=[],e.t0=i.tc.isEmpty(),e.t0){e.next=9;break}return i.tc.forEach((function(e,t){u.push(i.hc(t,n,r).then((function(e){if(e){i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,e.fromCache?"not-current":"current"),a.push(e);var n=ST.Vi(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(u);case 6:return i.Zu.Go(a),e.next=9,function(){var e=Ma(Oa().mark((function e(t,n){var r,i,a,o,u,s,c,l;return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=nw(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return Uw.forEach(n,(function(t){return Uw.forEach(t.Pi,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return Uw.forEach(t.vi,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),Ww(e.t0)){e.next=10;break}throw e.t0;case 10:Yk("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=Da(n);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.targetId,o.fromCache||(s=r.$i.get(u),c=s.snapshotVersion,l=s.withLastLimboFreeSnapshotVersion(c),r.$i=r.$i.insert(u,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),nA.apply(this,arguments)}function rA(e,t){return iA.apply(this,arguments)}function iA(){return iA=Ma(Oa().mark((function e(t,n){var r,i;return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=nw(t)).currentUser.isEqual(n)){e.next=11;break}return Yk("SyncEngine","User change. New user:",n.toKey()),e.next=5,CT(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.uc.forEach((function(e){e.forEach((function(e){e.reject(new iw(rw.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.uc.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,tA(r,i.Ki);case 11:case"end":return e.stop()}}),e)}))),iA.apply(this,arguments)}function aA(e,t){var n=nw(e),r=n.ic.get(t);if(r&&r.Xu)return ES().add(r.key);var i=ES(),a=n.ec.get(t);if(!a)return i;var o,u=Da(a);try{for(u.s();!(o=u.n()).done;){var s=o.value,c=n.tc.get(s);i=i.unionWith(c.view.qu)}}catch(l){u.e(l)}finally{u.f()}return i}function oA(e,t){return uA.apply(this,arguments)}function uA(){return uA=Ma(Oa().mark((function e(t,n){var r,i,a;return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=nw(t),e.next=3,VT(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.Ju(i),e.abrupt("return",(r.isPrimaryClient&&XN(r,n.targetId,a.zu),a));case 6:case"end":return e.stop()}}),e)}))),uA.apply(this,arguments)}function sA(e,t){return cA.apply(this,arguments)}function cA(){return cA=Ma(Oa().mark((function e(t,n){var r;return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=nw(t),e.abrupt("return",jT(r.localStore,n).then((function(e){return tA(r,e)})));case 2:case"end":return e.stop()}}),e)}))),cA.apply(this,arguments)}function lA(e,t,n,r){return fA.apply(this,arguments)}function fA(){return fA=Ma(Oa().mark((function e(t,n,r,i){var a,o;return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=nw(t),e.next=3,function(e,t){var n=nw(e),r=nw(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.yn(e,t).next((function(t){return t?n.localDocuments.getDocuments(e,t):Uw.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,VC(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?($N(a,n,i||null),QN(a,n),function(e,t){nw(nw(e).mutationQueue).In(t)}(a.localStore,n)):ew();case 11:return e.next=13,tA(a,o);case 13:e.next=16;break;case 15:Yk("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),fA.apply(this,arguments)}function hA(e,t){return dA.apply(this,arguments)}function dA(){return dA=Ma(Oa().mark((function e(t,n){var r,i,a,o,u,s,c,l;return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(xA(r=nw(t)),EA(r),!0!==n||!0===r.ac){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,pA(r,i.toArray());case 5:return a=e.sent,r.ac=!0,e.next=9,eN(r.remoteStore,!0);case 9:o=Da(a);try{for(o.s();!(u=o.n()).done;)s=u.value,wC(r.remoteStore,s)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.ac){e.next=25;break}return c=[],l=Promise.resolve(),r.ec.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return YN(r,t),MT(r.localStore,t,!0)})),xC(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,pA(r,c);case 21:return function(e){var t=nw(e);t.ic.forEach((function(e,n){xC(t.remoteStore,n)})),t.rc.cs(),t.ic=new Map,t.sc=new tx(Iw.comparator)}(r),r.ac=!1,e.next=25,eN(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)}))),dA.apply(this,arguments)}function pA(e,t,n){return vA.apply(this,arguments)}function vA(){return vA=Ma(Oa().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h,d,p,v,m,y;return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=nw(t),a=[],o=[],u=Da(n),e.prev=2,u.s();case 4:if((s=u.n()).done){e.next=45;break}if(c=s.value,l=void 0,!(f=i.ec.get(c))||0===f.length){e.next=34;break}return e.next=11,LT(i.localStore,kE(f[0]));case 11:l=e.sent,h=Da(f),e.prev=13,h.s();case 15:if((d=h.n()).done){e.next=24;break}return p=d.value,v=i.tc.get(p),e.next=20,oA(i,v);case 20:(m=e.sent).snapshot&&o.push(m.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),h.e(e.t0);case 29:return e.prev=29,h.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,UT(i.localStore,c);case 36:return y=e.sent,e.next=39,LT(i.localStore,y);case 39:return l=e.sent,e.next=42,RN(i,mA(y),c,!1);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),u.e(e.t1);case 50:return e.prev=50,u.f(),e.finish(50);case 53:return e.abrupt("return",(i.Zu.Go(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),vA.apply(this,arguments)}function mA(e){return pE(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function yA(e){var t=nw(e);return nw(nw(t.localStore).persistence).Ri()}function gA(e,t,n,r){return bA.apply(this,arguments)}function bA(){return bA=Ma(Oa().mark((function e(t,n,r,i){var a,o,u,s;return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=nw(t)).ac){e.next=3;break}return e.abrupt("return",void Yk("SyncEngine","Ignoring unexpected query state notification."));case 3:if(!((o=a.ec.get(n))&&o.length>0)){e.next=20;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?8:"rejected"===e.t0?15:19;break;case 8:return e.next=10,jT(a.localStore,_E(o[0]));case 10:return u=e.sent,s=_S.createSynthesizedRemoteEventForCurrentChange(n,"current"===r),e.next=14,tA(a,u,s);case 14:return e.abrupt("break",20);case 15:return e.next=17,MT(a.localStore,n,!0);case 17:return YN(a,n,i),e.abrupt("break",20);case 19:ew();case 20:case"end":return e.stop()}}),e)}))),bA.apply(this,arguments)}function kA(e,t,n){return wA.apply(this,arguments)}function wA(){return wA=Ma(Oa().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=xA(t)).ac){e.next=45;break}a=Da(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(u=o.value,!i.ec.has(u)){e.next=10;break}return Yk("SyncEngine","Adding an already active target "+u),e.abrupt("continue",19);case 10:return e.next=12,UT(i.localStore,u);case 12:return s=e.sent,e.next=15,LT(i.localStore,s);case 15:return c=e.sent,e.next=18,RN(i,mA(s),c.targetId,!1);case 18:wC(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=Da(r),e.prev=30,h=Oa().mark((function e(){var t;return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i.ec.has(t),!e.t0){e.next=5;break}return e.next=5,MT(i.localStore,t,!1).then((function(){xC(i.remoteStore,t),YN(i,t)})).catch(Fw);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(h(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),wA.apply(this,arguments)}function xA(e){var t=nw(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=FN.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=aA.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=jN.bind(null,t),t.Zu.Go=vN.bind(null,t.eventManager),t.Zu.lc=mN.bind(null,t.eventManager),t}function EA(e){var t=nw(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=BN.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=WN.bind(null,t),t}function SA(e,t,n){var r=nw(e);(function(){var e=Ma(Oa().mark((function e(t,n,r){var i,a,o,u,s;return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=nw(e),r=zS(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.Ds.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=11;break}return e.next=9,n.close();case 9:return r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),e.abrupt("return",Promise.resolve(new Set));case 11:return r._updateProgress(xN(i)),a=new wN(i,t.localStore,n.wt),e.next=15,n.fc();case 15:o=e.sent;case 16:if(!o){e.next=26;break}return e.next=19,a.Nu(o);case 19:return(u=e.sent)&&r._updateProgress(u),e.next=23,n.fc();case 23:o=e.sent;case 24:e.next=16;break;case 26:return e.next=28,a.complete();case 28:return s=e.sent,e.next=31,tA(t,s.Mu,void 0);case 31:return e.next=33,function(e,t){var n=nw(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.Ds.saveBundleMetadata(e,t)}))}(t.localStore,i);case 33:return r._completeWith(s.progress),e.abrupt("return",Promise.resolve(s.Ou));case 37:return e.prev=37,e.t0=e.catch(0),e.abrupt("return",(Xk("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0),Promise.resolve(new Set)));case 40:case"end":return e.stop()}}),e,null,[[0,37]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(e){r.sharedClientState.notifyBundleLoaded(e)}))}var IA=function(){function e(){Fa(this,e),this.synchronizeTabs=!1}return fe(e,[{key:"initialize",value:function(){var e=Ma(Oa().mark((function e(t){return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.wt=cC(t.databaseInfo.databaseId),this.sharedClientState=this.dc(t),this.persistence=this._c(t),e.next=5,this.persistence.start();case 5:this.localStore=this.wc(t),this.gcScheduler=this.mc(t,this.localStore),this.indexBackfillerScheduler=this.gc(t,this.localStore);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"mc",value:function(e,t){return null}},{key:"gc",value:function(e,t){return null}},{key:"wc",value:function(e){return TT(this.persistence,new IT,e.initialUser,this.wt)}},{key:"_c",value:function(e){return new pT(mT.Ms,this.wt)}},{key:"dc",value:function(e){return new tC}},{key:"terminate",value:function(){var e=Ma(Oa().mark((function e(){return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),_A=function(e){Na(n,e);var t=Pa(n);function n(e,r,i){var a;return Fa(this,n),(a=t.call(this)).yc=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return fe(n,[{key:"initialize",value:function(){var e=Ma(Oa().mark((function e(t){var r=this;return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ca(_a(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,this.yc.initialize(this,t);case 4:return e.next=6,EA(this.yc.syncEngine);case 6:return e.next=8,VC(this.yc.remoteStore);case 8:return e.next=10,this.persistence.ci((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()}));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"wc",value:function(e){return TT(this.persistence,new IT,e.initialUser,this.wt)}},{key:"mc",value:function(e,t){var n=this.persistence.referenceDelegate.garbageCollector;return new K_(n,e.asyncQueue,t)}},{key:"gc",value:function(e,t){var n=new Yw(t,this.persistence);return new $w(e.asyncQueue,n)}},{key:"_c",value:function(e){var t=ET(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?A_.withCacheSize(this.cacheSizeBytes):A_.DEFAULT;return new kT(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,uC(),sC(),this.wt,this.sharedClientState,!!this.forceOwnership)}},{key:"dc",value:function(e){return new tC}}]),n}(IA),TA=function(e){Na(n,e);var t=Pa(n);function n(e,r){var i;return Fa(this,n),(i=t.call(this,e,r,!1)).yc=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return fe(n,[{key:"initialize",value:function(){var e=Ma(Oa().mark((function e(t){var r,i=this;return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ca(_a(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.yc.syncEngine,e.t0=this.sharedClientState instanceof eC,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={kr:lA.bind(null,r),Or:gA.bind(null,r),Mr:kA.bind(null,r),Ri:yA.bind(null,r),Nr:sA.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.ci(function(){var e=Ma(Oa().mark((function e(t){return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,hA(i.yc.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start():t||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(t&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():t||i.indexBackfillerScheduler.stop());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"dc",value:function(e){var t=uC();if(!eC.V(t))throw new iw(rw.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=ET(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new eC(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(_A),CA=function(){function e(){Fa(this,e)}return fe(e,[{key:"initialize",value:function(){var e=Ma(Oa().mark((function e(t,n){var r=this;return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return UN(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=rA.bind(null,this.syncEngine),e.next=12,eN(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new lN}},{key:"createDatastore",value:function(e){var t,n=cC(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new oC(t));return function(e,t,n,r){return new pC(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return UN(o.syncEngine,e,0)},a=rC.V()?new rC:new nC,new mC(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var u=new CN(e,t,n,r,i,a);return o&&(u.ac=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=Ma(Oa().mark((function e(t){var n;return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=nw(t),Yk("RemoteStore","RemoteStore shutting down."),n.lu.add(5),e.next=5,bC(n);case 5:n.du.shutdown(),n._u.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function NA(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return Ma(Oa().mark((function r(){var i;return Oa().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return Ma(Oa().mark((function e(){return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var AA=function(){function e(t){Fa(this,e),this.observer=t,this.muted=!1}return fe(e,[{key:"next",value:function(e){this.observer.next&&this.Ic(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Ic(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}},{key:"Tc",value:function(){this.muted=!0}},{key:"Ic",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),RA=function(){function e(t,n){var r=this;Fa(this,e),this.Ec=t,this.wt=n,this.metadata=new aw,this.buffer=new Uint8Array,this.Ac=new TextDecoder("utf-8"),this.Rc().then((function(e){e&&e.Cu()?r.metadata.resolve(e.payload.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.payload))))}),(function(e){return r.metadata.reject(e)}))}return fe(e,[{key:"close",value:function(){return this.Ec.cancel()}},{key:"getMetadata",value:function(){var e=Ma(Oa().mark((function e(){return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"fc",value:function(){var e=Ma(Oa().mark((function e(){return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.Rc());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Rc",value:function(){var e=Ma(Oa().mark((function e(){var t,n,r,i;return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.bc();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.Ac.decode(t),r=Number(n),isNaN(r)&&this.Pc("length string (".concat(n,") is not valid number")),e.next=9,this.vc(r);case 9:return i=e.sent,e.abrupt("return",new bN(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Vc",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"bc",value:function(){var e=Ma(Oa().mark((function e(){var t,n;return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.Vc()<0)){e.next=7;break}return e.next=3,this.Sc();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.Vc())<0&&this.Pc("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"vc",value:function(){var e=Ma(Oa().mark((function e(t){var n;return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.Sc();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.Pc("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.Ac.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Pc",value:function(e){throw this.Ec.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"Sc",value:function(){var e=Ma(Oa().mark((function e(){var t,n;return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Ec.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),PA=function(){function e(t){Fa(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return fe(e,[{key:"lookup",value:function(){var e=Ma(Oa().mark((function e(t){var n,r=this;return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new iw(rw.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=Ma(Oa().mark((function e(t,n){var r,i,a,o,u,s;return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=nw(t),i=QS(r.wt)+"/documents",a={documents:n.map((function(e){return WS(r.wt,e)}))},e.next=5,r.ao("BatchGetDocuments",i,a,n.length);case 5:return o=e.sent,u=new Map,o.forEach((function(e){var t=XS(r.wt,e);u.set(t.key.toString(),t)})),s=[],e.abrupt("return",(n.forEach((function(e){var t=u.get(e.toString());tw(!!t),s.push(t)})),s));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new uS(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=Ma(Oa().mark((function e(){var t,n=this;return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=Iw.fromPath(t);n.mutations.push(new sS(r,n.precondition(r)))})),e.next=7,function(){var e=Ma(Oa().mark((function e(t,n){var r,i,a;return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=nw(t),i=QS(r.wt)+"/documents",a={writes:n.map((function(e){return ZS(r.wt,e)}))},e.next=3,r.ro("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw ew();t=kw.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new iw(rw.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?GE.updateTime(t):GE.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(kw.min()))throw new iw(rw.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return GE.updateTime(t)}return GE.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),DA=function(){function e(t,n,r,i,a){Fa(this,e),this.asyncQueue=t,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=a,this.Dc=r.maxAttempts,this.So=new lC(this.asyncQueue,"transaction_retry")}return fe(e,[{key:"run",value:function(){this.Dc-=1,this.Cc()}},{key:"Cc",value:function(){var e=this;this.So.Io(Ma(Oa().mark((function t(){var n,r;return Oa().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new PA(e.datastore),(r=e.xc(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.Nc(t)}))}))})).catch((function(t){e.Nc(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"xc",value:function(e){try{var t=this.updateFunction(e);return!gx(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"Nc",value:function(e){var t=this;this.Dc>0&&this.kc(e)?(this.Dc-=1,this.asyncQueue.enqueueAndForget((function(){return t.Cc(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"kc",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!lS(t)}return!1}}]),e}(),OA=function(){function e(t,n,r,i){var a=this;Fa(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Gk.UNAUTHENTICATED,this.clientId=vw.I(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=Ma(Oa().mark((function e(t){return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Yk("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return Yk("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return fe(e,[{key:"getConfiguration",value:function(){var e=Ma(Oa().mark((function e(){return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new iw(rw.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new aw;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(Ma(Oa().mark((function n(){var r;return Oa().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=aN(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function LA(e,t){return MA.apply(this,arguments)}function MA(){return MA=Ma(Oa().mark((function e(t,n){var r,i;return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),Yk("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=Ma(Oa().mark((function e(t){return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,CT(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),MA.apply(this,arguments)}function FA(e,t){return VA.apply(this,arguments)}function VA(){return VA=Ma(Oa().mark((function e(t,n){var r,i;return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,UA(t);case 3:return r=e.sent,Yk("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return XC(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return XC(n.remoteStore,t)})),t.onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),VA.apply(this,arguments)}function UA(e){return jA.apply(this,arguments)}function jA(){return jA=Ma(Oa().mark((function e(t){return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return Yk("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,LA(t,new IA);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),jA.apply(this,arguments)}function zA(e){return BA.apply(this,arguments)}function BA(){return BA=Ma(Oa().mark((function e(t){return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return Yk("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,FA(t,new CA);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),BA.apply(this,arguments)}function qA(e){return UA(e).then((function(e){return e.persistence}))}function WA(e){return UA(e).then((function(e){return e.localStore}))}function KA(e){return zA(e).then((function(e){return e.remoteStore}))}function GA(e){return zA(e).then((function(e){return e.syncEngine}))}function HA(e){return QA.apply(this,arguments)}function QA(){return QA=Ma(Oa().mark((function e(t){var n,r;return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,zA(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=NN.bind(null,n.syncEngine),r.onUnlisten=DN.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),QA.apply(this,arguments)}function $A(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new aw;return e.asyncQueue.enqueueAndForget(Ma(Oa().mark((function i(){return Oa().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new AA({next:function(a){t.enqueueAndForget((function(){return dN(e,o)}));var u=a.docs.has(n);!u&&a.fromCache?i.reject(new iw(rw.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&a.fromCache&&r&&"server"===r.source?i.reject(new iw(rw.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new gN(vE(n.path),a,{includeMetadataChanges:!0,Du:!0});return fN(e,o)},i.next=3,HA(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function YA(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new aw;return e.asyncQueue.enqueueAndForget(Ma(Oa().mark((function i(){return Oa().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new AA({next:function(n){t.enqueueAndForget((function(){return dN(e,o)})),n.fromCache&&"server"===r.source?i.reject(new iw(rw.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new gN(n,a,{includeMetadataChanges:!0,Du:!0});return fN(e,o)},i.next=3,HA(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var JA=new Map;function XA(e,t,n){if(!n)throw new iw(rw.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function ZA(e,t,n,r){if(!0===t&&!0===r)throw new iw(rw.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function eR(e){if(!Iw.isDocumentKey(e))throw new iw(rw.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function tR(e){if(Iw.isDocumentKey(e))throw new iw(rw.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function nR(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":ew()}function rR(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new iw(rw.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=nR(e);throw new iw(rw.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function iR(e,t){if(t<=0)throw new iw(rw.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var aR=function(){function e(t){var n;if(Fa(this,e),void 0===t.host){if(void 0!==t.ssl)throw new iw(rw.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new iw(rw.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,ZA("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return fe(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),oR=function(){function e(t,n,r){Fa(this,e),this._authCredentials=n,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new aR({}),this._settingsFrozen=!1,t instanceof yx?this._databaseId=t:(this._app=t,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new iw(rw.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new yx(e.options.projectId)}(t))}return fe(e,[{key:"app",get:function(){if(!this._app)throw new iw(rw.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new iw(rw.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new aR(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new uw;switch(e.type){case"gapi":var t=e.client;return tw(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new fw(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new iw(rw.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=JA.get(e);t&&(Yk("ComponentProvider","Removing Datastore"),JA.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function uR(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=rR(e,oR))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&Xk("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,u;if("string"==typeof i.mockUserToken)o=i.mockUserToken,u=Gk.MOCK_USER;else{o=Ha(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var s=i.mockUserToken.sub||i.mockUserToken.user_id;if(!s)throw new iw(rw.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Gk(s)}e._authCredentials=new sw(new ow(o,u))}}var sR=function(){function e(t,n,r){Fa(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return fe(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new lR(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),cR=function(){function e(t,n,r){Fa(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return fe(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),lR=function(e){Na(n,e);var t=Pa(n);function n(e,r,i){var a;return Fa(this,n),(a=t.call(this,e,r,vE(i)))._path=i,a.type="collection",a}return fe(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new sR(this.firestore,null,new Iw(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(cR);function fR(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=vo(e),XA("collection","path",t),e instanceof oR){var a=xw.fromString.apply(xw,[t].concat(r));return tR(a),new lR(e,null,a)}if(!(e instanceof sR||e instanceof lR))throw new iw(rw.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(xw.fromString.apply(xw,[t].concat(r)));return tR(o),new lR(e.firestore,null,o)}function hR(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=vo(e),1===arguments.length&&(t=vw.I()),XA("doc","path",t),e instanceof oR){var a=xw.fromString.apply(xw,[t].concat(r));return eR(a),new sR(e,null,new Iw(a))}if(!(e instanceof sR||e instanceof lR))throw new iw(rw.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(xw.fromString.apply(xw,[t].concat(r)));return eR(o),new sR(e.firestore,e instanceof lR?e.converter:null,new Iw(o))}function dR(e,t){return e=vo(e),t=vo(t),(e instanceof sR||e instanceof lR)&&(t instanceof sR||t instanceof lR)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function pR(e,t){return e=vo(e),t=vo(t),e instanceof cR&&t instanceof cR&&e.firestore===t.firestore&&xE(e._query,t._query)&&e.converter===t.converter}var vR=function(){function e(){var t=this;Fa(this,e),this.Oc=Promise.resolve(),this.Mc=[],this.Fc=!1,this.$c=[],this.Bc=null,this.Lc=!1,this.Uc=!1,this.qc=[],this.So=new lC(this,"async_queue_retry"),this.Kc=function(){var e=sC();e&&Yk("AsyncQueue","Visibility state changed to "+e.visibilityState),t.So.Eo()};var n=sC();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Kc)}return fe(e,[{key:"isShuttingDown",get:function(){return this.Fc}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.Gc(),this.Qc(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.Fc){this.Fc=!0,this.Uc=e||!1;var t=sC();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Kc)}}},{key:"enqueue",value:function(e){var t=this;if(this.Gc(),this.Fc)return new Promise((function(){}));var n=new aw;return this.Qc((function(){return t.Fc&&t.Uc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.Mc.push(e),t.jc()}))}},{key:"jc",value:function(){var e=Ma(Oa().mark((function e(){var t=this;return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.Mc.length){e.next=14;break}return e.prev=1,e.next=4,this.Mc[0]();case 4:this.Mc.shift(),this.So.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),Ww(e.t0)){e.next=12;break}throw e.t0;case 12:Yk("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.Mc.length>0&&this.So.Io((function(){return t.jc()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"Qc",value:function(e){var t=this,n=this.Oc.then((function(){return t.Lc=!0,e().catch((function(e){t.Bc=e,t.Lc=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Jk("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Lc=!1,e}))}));return this.Oc=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.Gc(),this.qc.indexOf(e)>-1&&(t=0);var i=iN.createAndSchedule(this,e,t,n,(function(e){return r.Wc(e)}));return this.$c.push(i),i}},{key:"Gc",value:function(){this.Bc&&ew()}},{key:"verifyOperationInProgress",value:function(){}},{key:"zc",value:function(){var e=Ma(Oa().mark((function e(){var t;return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Oc,e.next=3,t;case 3:if(t!==this.Oc){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Hc",value:function(e){var t,n=Da(this.$c);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"Jc",value:function(e){var t=this;return this.zc().then((function(){t.$c.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=Da(t.$c);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.zc()}))}},{key:"Yc",value:function(e){this.qc.push(e)}},{key:"Wc",value:function(e){var t=this.$c.indexOf(e);this.$c.splice(t,1)}}]),e}();function mR(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=Da(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var yR=function(){function e(){Fa(this,e),this._progressObserver={},this._taskCompletionResolver=new aw,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return fe(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),gR=function(e){Na(n,e);var t=Pa(n);function n(e,r,i){var a;return Fa(this,n),(a=t.call(this,e,r,i)).type="firestore",a._queue=new vR,a._persistenceKey="name"in e?e.name:"[DEFAULT]",a}return fe(n,[{key:"_terminate",value:function(){return this._firestoreClient||kR(this),this._firestoreClient.terminate()}}]),n}(oR);function bR(e){return e._firestoreClient||kR(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function kR(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new mx(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new OA(e._authCredentials,e._appCheckCredentials,e._queue,r)}function wR(e,t,n){var r=new aw;return e.asyncQueue.enqueue(Ma(Oa().mark((function i(){var a;return Oa().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,LA(e,n);case 3:return i.next=5,FA(e,t);case 5:r.resolve(),i.next=14;break;case 8:if(i.prev=8,i.t0=i.catch(0),function(e){return"FirebaseError"===e.name?e.code===rw.FAILED_PRECONDITION||e.code===rw.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(a=i.t0)){i.next=13;break}throw a;case 13:console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+a),r.reject(a);case 14:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function xR(e){return function(e){return e.asyncQueue.enqueue(Ma(Oa().mark((function t(){var n,r;return Oa().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,qA(e);case 2:return n=t.sent,t.next=5,KA(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=nw(e);return t.lu.delete(0),yC(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(bR(e=rR(e,gR)))}function ER(e){return function(e){return e.asyncQueue.enqueue(Ma(Oa().mark((function t(){var n,r;return Oa().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,qA(e);case 2:return n=t.sent,t.next=5,KA(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=Ma(Oa().mark((function e(t){var n;return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=nw(t)).lu.add(0),e.next=4,bC(n);case 4:n._u.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(bR(e=rR(e,gR)))}function SR(e,t){var n=bR(e=rR(e,gR)),r=new yR;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new RA(e,t)}(function(e,t){if(e instanceof Uint8Array)return NA(e,t);if(e instanceof ArrayBuffer)return NA(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,cC(t));e.asyncQueue.enqueueAndForget(Ma(Oa().mark((function t(){return Oa().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=SA,t.next=3,GA(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function IR(e,t){return function(e,t){return e.asyncQueue.enqueue(Ma(Oa().mark((function n(){return Oa().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=nw(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.Ds.getNamedQuery(e,t)}))},n.next=3,WA(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(bR(e=rR(e,gR)),t).then((function(t){return t?new cR(e,null,t.query):null}))}function _R(e){if(e._initialized||e._terminated)throw new iw(rw.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var TR=function(){function e(){Fa(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new iw(rw.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Sw(n)}return fe(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var CR=function(){function e(t){Fa(this,e),this._byteString=t}return fe(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(sx.fromBase64String(t))}catch(t){throw new iw(rw.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(sx.fromUint8Array(t))}}]),e}(),NR=fe((function e(t){Fa(this,e),this._methodName=t})),AR=function(){function e(t,n){if(Fa(this,e),!isFinite(t)||t<-90||t>90)throw new iw(rw.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new iw(rw.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return fe(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return mw(this._lat,e._lat)||mw(this._long,e._long)}}]),e}(),RR=/^__.*__$/,PR=function(){function e(t,n,r){Fa(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return fe(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new tS(e,this.data,this.fieldMask,t,this.fieldTransforms):new eS(e,this.data,t,this.fieldTransforms)}}]),e}(),DR=function(){function e(t,n,r){Fa(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return fe(e,[{key:"toMutation",value:function(e,t){return new tS(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function OR(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ew()}}var LR=function(){function e(t,n,r,i,a,o){Fa(this,e),this.settings=t,this.databaseId=n,this.wt=r,this.ignoreUndefinedProperties=i,void 0===a&&this.Xc(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return fe(e,[{key:"path",get:function(){return this.settings.path}},{key:"Zc",get:function(){return this.settings.Zc}},{key:"ta",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.wt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"ea",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ta({path:n,na:!1});return r.sa(e),r}},{key:"ia",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ta({path:n,na:!1});return r.Xc(),r}},{key:"ra",value:function(e){return this.ta({path:void 0,na:!0})}},{key:"oa",value:function(e){return tP(e,this.settings.methodName,this.settings.ua||!1,this.path,this.settings.ca)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"Xc",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.sa(this.path.get(e))}},{key:"sa",value:function(e){if(0===e.length)throw this.oa("Document fields must not be empty");if(OR(this.Zc)&&RR.test(e))throw this.oa('Document fields cannot begin and end with "__"')}}]),e}(),MR=function(){function e(t,n,r){Fa(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.wt=r||cC(t)}return fe(e,[{key:"aa",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new LR({Zc:e,methodName:t,ca:n,path:Sw.emptyPath(),na:!1,ua:r},this.databaseId,this.wt,this.ignoreUndefinedProperties)}}]),e}();function FR(e){var t=e._freezeSettings(),n=cC(e._databaseId);return new MR(e._databaseId,!!t.ignoreUndefinedProperties,n)}function VR(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.aa(a.merge||a.mergeFields?2:0,t,n,i);JR("Data must be an object, but it was:",o,r);var u,s,c=$R(r,o);if(a.merge)u=new ux(o.fieldMask),s=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=Da(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=l.value,p=XR(t,d,n);if(!o.contains(p))throw new iw(rw.INVALID_ARGUMENT,"Field '".concat(p,"' is specified in your field mask but missing from your input data."));nP(f,p)||f.push(p)}}catch(v){h.e(v)}finally{h.f()}u=new ux(f),s=o.fieldTransforms.filter((function(e){return u.covers(e.field)}))}else u=null,s=o.fieldTransforms;return new PR(new Bx(c),u,s)}var UR=function(e){Na(n,e);var t=Pa(n);function n(){return Fa(this,n),t.apply(this,arguments)}return fe(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.Zc)throw 1===e.Zc?e.oa("".concat(this._methodName,"() can only appear at the top level of your update data")):e.oa("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(NR);function jR(e,t,n){return new LR({Zc:3,ca:t.settings.ca,methodName:e._methodName,na:n},t.databaseId,t.wt,t.ignoreUndefinedProperties)}var zR=function(e){Na(n,e);var t=Pa(n);function n(){return Fa(this,n),t.apply(this,arguments)}return fe(n,[{key:"_toFieldTransform",value:function(e){return new WE(e.path,new ME)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(NR),BR=function(e){Na(n,e);var t=Pa(n);function n(e,r){var i;return Fa(this,n),(i=t.call(this,e)).ha=r,i}return fe(n,[{key:"_toFieldTransform",value:function(e){var t=jR(this,e,!0),n=this.ha.map((function(e){return QR(e,t)})),r=new FE(n);return new WE(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(NR),qR=function(e){Na(n,e);var t=Pa(n);function n(e,r){var i;return Fa(this,n),(i=t.call(this,e)).ha=r,i}return fe(n,[{key:"_toFieldTransform",value:function(e){var t=jR(this,e,!0),n=this.ha.map((function(e){return QR(e,t)})),r=new UE(n);return new WE(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(NR),WR=function(e){Na(n,e);var t=Pa(n);function n(e,r){var i;return Fa(this,n),(i=t.call(this,e)).la=r,i}return fe(n,[{key:"_toFieldTransform",value:function(e){var t=new zE(e.wt,RE(e.wt,this.la));return new WE(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(NR);function KR(e,t,n,r){var i=e.aa(1,t,n);JR("Data must be an object, but it was:",i,r);var a=[],o=Bx.empty();Zw(r,(function(e,r){var u=eP(t,e,n);r=vo(r);var s=i.ia(u);if(r instanceof UR)a.push(u);else{var c=QR(r,s);null!=c&&(a.push(u),o.set(u,c))}}));var u=new ux(a);return new DR(o,u,i.fieldTransforms)}function GR(e,t,n,r,i,a){var o=e.aa(1,t,n),u=[XR(t,r,n)],s=[i];if(a.length%2!=0)throw new iw(rw.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)u.push(XR(t,a[c])),s.push(a[c+1]);for(var l=[],f=Bx.empty(),h=u.length-1;h>=0;--h)if(!nP(l,u[h])){var d=u[h],p=s[h];p=vo(p);var v=o.ia(d);if(p instanceof UR)l.push(d);else{var m=QR(p,v);null!=m&&(l.push(d),f.set(d,m))}}var y=new ux(l);return new DR(f,y,o.fieldTransforms)}function HR(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return QR(n,e.aa(r?4:3,t))}function QR(e,t){if(YR(e=vo(e)))return JR("Unsupported field value:",t,e),$R(e,t);if(e instanceof NR)return function(e,t){if(!OR(t.Zc))throw t.oa("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.oa("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.na&&4!==t.Zc)throw t.oa("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=Da(e);try{for(a.s();!(n=a.n()).done;){var o=QR(n.value,t.ra(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(u){a.e(u)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=vo(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return RE(t.wt,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=bw.fromDate(e);return{timestampValue:VS(t.wt,n)}}if(e instanceof bw){var r=new bw(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:VS(t.wt,r)}}if(e instanceof AR)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof CR)return{bytesValue:US(t.wt,e._byteString)};if(e instanceof sR){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.oa("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:BS(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.oa("Unsupported field value: ".concat(nR(e)))}(e,t)}function $R(e,t){var n={};return ex(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Zw(e,(function(e,r){var i=QR(r,t.ea(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function YR(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof bw||e instanceof AR||e instanceof CR||e instanceof sR||e instanceof NR)}function JR(e,t,n){if(!YR(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=nR(n);throw"an object"===r?t.oa(e+" a custom object"):t.oa(e+" "+r)}}function XR(e,t,n){if((t=vo(t))instanceof TR)return t._internalPath;if("string"==typeof t)return eP(e,t);throw tP("Field path arguments must be of type string or ",e,!1,void 0,n)}var ZR=new RegExp("[~\\*/\\[\\]]");function eP(e,t,n){if(t.search(ZR)>=0)throw tP("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return Va(TR,ln(t.split(".")))._internalPath}catch(r){throw tP("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function tP(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,u="Function ".concat(t,"() called with invalid data");n&&(u+=" (via `toFirestore()`)"),u+=". ";var s="";return(a||o)&&(s+=" (found",a&&(s+=" in field ".concat(r)),o&&(s+=" in document ".concat(i)),s+=")"),new iw(rw.INVALID_ARGUMENT,u+e+s)}function nP(e,t){return e.some((function(e){return e.isEqual(t)}))}var rP=function(){function e(t,n,r,i,a){Fa(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return fe(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new sR(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new iP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(aP("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),iP=function(e){Na(n,e);var t=Pa(n);function n(){return Fa(this,n),t.apply(this,arguments)}return fe(n,[{key:"data",value:function(){return Ca(_a(n.prototype),"data",this).call(this)}}]),n}(rP);function aP(e,t){return"string"==typeof t?eP(e,t):t instanceof TR?t._internalPath:t._delegate._internalPath}var oP=function(){function e(t,n){Fa(this,e),this.hasPendingWrites=t,this.fromCache=n}return fe(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),uP=function(e){Na(n,e);var t=Pa(n);function n(e,r,i,a,o,u){var s;return Fa(this,n),(s=t.call(this,e,r,i,a,u))._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return fe(n,[{key:"exists",value:function(){return Ca(_a(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new sP(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(aP("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(rP),sP=function(e){Na(n,e);var t=Pa(n);function n(){return Fa(this,n),t.apply(this,arguments)}return fe(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Ca(_a(n.prototype),"data",this).call(this,e)}}]),n}(uP),cP=function(){function e(t,n,r,i){Fa(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new oP(i.hasPendingWrites,i.fromCache),this.query=r}return fe(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new sP(n._firestore,n._userDataWriter,r.key,r,new oP(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new iw(rw.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new sP(e._firestore,e._userDataWriter,t.doc.key,t.doc,new oP(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new sP(e._firestore,e._userDataWriter,t.doc.key,t.doc,new oP(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:lP(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function lP(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ew()}}function fP(e,t){return e instanceof uP&&t instanceof uP?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof cP&&t instanceof cP&&e._firestore===t._firestore&&pR(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function hP(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new iw(rw.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var dP=fe((function e(){Fa(this,e)}));function pP(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=o._apply(e)}return e}var vP=function(e){Na(n,e);var t=Pa(n);function n(e,r,i){var a;return Fa(this,n),(a=t.call(this)).fa=e,a.da=r,a._a=i,a.type="where",a}return fe(n,[{key:"_apply",value:function(e){var t=FR(e.firestore),n=function(e,t,n,r,i,a,o){var u;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new iw(rw.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){_P(o,a);var s,c=[],l=Da(o);try{for(l.s();!(s=l.n()).done;){var f=s.value;c.push(IP(r,e,f))}}catch(d){l.e(d)}finally{l.f()}u={arrayValue:{values:c}}}else u=IP(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||_P(o,a),u=HR(n,"where",o,"in"===a||"not-in"===a);var h=Zx.create(i,a,u);return function(e,t){if(t.ht()){var n=yE(e);if(null!==n&&!n.isEqual(t.field))throw new iw(rw.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(t.field.toString(),"'"));var r=mE(e);null!==r&&TP(e,t.field,r)}var i=function(e,t){var n,r=Da(e.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t.indexOf(i.op)>=0)return i.op}}catch(d){r.e(d)}finally{r.f()}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new iw(rw.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new iw(rw.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(i.toString(),"' filters."))}(e,h),h}(e._query,0,t,e.firestore._databaseId,this.fa,this.da,this._a);return new cR(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new dE(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}]),n}(dP);var mP=function(e){Na(n,e);var t=Pa(n);function n(e,r){var i;return Fa(this,n),(i=t.call(this)).fa=e,i.wa=r,i.type="orderBy",i}return fe(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new iw(rw.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new iw(rw.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new cE(t,n);return function(e,t){if(null===mE(e)){var n=yE(e);null!==n&&TP(e,n,t.field)}}(e,r),r}(e._query,this.fa,this.wa);return new cR(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new dE(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}]),n}(dP);var yP=function(e){Na(n,e);var t=Pa(n);function n(e,r,i){var a;return Fa(this,n),(a=t.call(this)).type=e,a.ma=r,a.ga=i,a}return fe(n,[{key:"_apply",value:function(e){return new cR(e.firestore,e.converter,wE(e._query,this.ma,this.ga))}}]),n}(dP);var gP=function(e){Na(n,e);var t=Pa(n);function n(e,r,i){var a;return Fa(this,n),(a=t.call(this)).type=e,a.ya=r,a.pa=i,a}return fe(n,[{key:"_apply",value:function(e){var t=SP(e,this.type,this.ya,this.pa);return new cR(e.firestore,e.converter,function(e,t){return new dE(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}]),n}(dP);function bP(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new gP("startAt",t,!0)}function kP(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new gP("startAfter",t,!1)}var wP=function(e){Na(n,e);var t=Pa(n);function n(e,r,i){var a;return Fa(this,n),(a=t.call(this)).type=e,a.ya=r,a.pa=i,a}return fe(n,[{key:"_apply",value:function(e){var t=SP(e,this.type,this.ya,this.pa);return new cR(e.firestore,e.converter,function(e,t){return new dE(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}]),n}(dP);function xP(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new wP("endBefore",t,!1)}function EP(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new wP("endAt",t,!0)}function SP(e,t,n,r){if(n[0]=vo(n[0]),n[0]instanceof rP)return function(e,t,n,r,i){if(!r)throw new iw(rw.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],u=Da(bE(e));try{for(u.s();!(a=u.n()).done;){var s=a.value;if(s.field.isKeyField())o.push(Ax(t,r.key));else{var c=r.data.field(s.field);if(dx(c))throw new iw(rw.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=s.field.canonicalString();throw new iw(rw.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){u.e(f)}finally{u.f()}return new sE(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=FR(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new iw(rw.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var u=[],s=0;s<i.length;s++){var c=i[s];if(o[s].field.isKeyField()){if("string"!=typeof c)throw new iw(rw.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!gE(e)&&-1!==c.indexOf("/"))throw new iw(rw.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(xw.fromString(c));if(!Iw.isDocumentKey(l))throw new iw(rw.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new Iw(l);u.push(Ax(t,f))}else{var h=HR(n,r,c);u.push(h)}}return new sE(u,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function IP(e,t,n){if("string"==typeof(n=vo(n))){if(""===n)throw new iw(rw.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!gE(t)&&-1!==n.indexOf("/"))throw new iw(rw.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(xw.fromString(n));if(!Iw.isDocumentKey(r))throw new iw(rw.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Ax(e,new Iw(r))}if(n instanceof sR)return Ax(e,n._key);throw new iw(rw.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(nR(n),"."))}function _P(e,t){if(!Array.isArray(e)||0===e.length)throw new iw(rw.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new iw(rw.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function TP(e,t,n){if(!n.isEqual(t))throw new iw(rw.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var CP={maxAttempts:5},NP=function(){function e(){Fa(this,e)}return fe(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Ex(e)){case 0:return null;case 1:return e.booleanValue;case 2:return fx(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(hx(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw ew()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return Zw(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new AR(fx(e.latitude),fx(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=px(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(vx(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=lx(e);return new bw(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=xw.fromString(e);tw(hI(n));var r=new yx(n.get(1),n.get(3)),i=new Iw(n.popFirst(5));return r.isEqual(t)||Jk("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function AP(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var RP=function(e){Na(n,e);var t=Pa(n);function n(e){var r;return Fa(this,n),(r=t.call(this)).firestore=e,r}return fe(n,[{key:"convertBytes",value:function(e){return new CR(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new sR(this.firestore,null,t)}}]),n}(NP),PP=function(){function e(t,n){Fa(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=FR(t)}return fe(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=DP(e,this._firestore),i=AP(r.converter,t,n),a=VR(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,GE.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=DP(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=vo(t))||t instanceof TR?GR(this._dataReader,"WriteBatch.update",i._key,t,n,o):KR(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,GE.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=DP(e,this._firestore);return this._mutations=this._mutations.concat(new uS(t._key,GE.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new iw(rw.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function DP(e,t){if((e=vo(e)).firestore!==t)throw new iw(rw.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var OP=function(e){Na(n,e);var t=Pa(n);function n(e){var r;return Fa(this,n),(r=t.call(this)).firestore=e,r}return fe(n,[{key:"convertBytes",value:function(e){return new CR(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new sR(this.firestore,null,t)}}]),n}(NP);function LP(e){e=rR(e,sR);var t=rR(e.firestore,gR),n=bR(t),r=new OP(t);return function(e,t){var n=new aw;return e.asyncQueue.enqueueAndForget(Ma(Oa().mark((function r(){return Oa().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Ma(Oa().mark((function e(t,n,r){var i,a;return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=nw(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.localDocuments.getDocument(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new iw(rw.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=aN(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,WA(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new uP(t,r,e._key,n,new oP(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function MP(e){e=rR(e,cR);var t=rR(e.firestore,gR),n=bR(t),r=new OP(t);return function(e,t){var n=new aw;return e.asyncQueue.enqueueAndForget(Ma(Oa().mark((function r(){return Oa().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Ma(Oa().mark((function e(t,n,r){var i,a,o,u,s;return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,VT(t,n,!0);case 3:i=e.sent,a=new IN(n,i.ji),o=a.Ku(i.documents),u=a.applyChanges(o,!1),r.resolve(u.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),s=aN(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(s);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,WA(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new cP(t,r,e,n)}))}function FP(e,t,n){e=rR(e,sR);var r=rR(e.firestore,gR),i=AP(e.converter,t,n);return zP(r,[VR(FR(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,GE.none())])}function VP(e,t,n){e=rR(e,sR);for(var r=rR(e.firestore,gR),i=FR(r),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return zP(r,[("string"==typeof(t=vo(t))||t instanceof TR?GR(i,"updateDoc",e._key,t,n,o):KR(i,"updateDoc",e._key,t)).toMutation(e._key,GE.exists(!0))])}function UP(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=vo(e);var u={includeMetadataChanges:!1},s=0;"object"!=typeof n[s]||mR(n[s])||(u=n[s],s++);var c,l,f,h={includeMetadataChanges:u.includeMetadataChanges};if(mR(n[s])){var d=n[s];n[s]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[s+1]=null===(a=d.error)||void 0===a?void 0:a.bind(d),n[s+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(e instanceof sR)l=rR(e.firestore,gR),f=vE(e._key.path),c={next:function(t){n[s]&&n[s](BP(l,e,t))},error:n[s+1],complete:n[s+2]};else{var p=rR(e,cR);l=rR(p.firestore,gR),f=p._query;var v=new OP(l);c={next:function(e){n[s]&&n[s](new cP(l,v,p,e))},error:n[s+1],complete:n[s+2]},hP(e._query)}return function(e,t,n,r){var i=new AA(r),a=new gN(t,i,n);return e.asyncQueue.enqueueAndForget(Ma(Oa().mark((function t(){return Oa().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=fN,t.next=3,HA(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.Tc(),e.asyncQueue.enqueueAndForget(Ma(Oa().mark((function t(){return Oa().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=dN,t.next=3,HA(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(bR(l),f,h,c)}function jP(e,t){return function(e,t){var n=new AA(t);return e.asyncQueue.enqueueAndForget(Ma(Oa().mark((function t(){return Oa().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){nw(e).Tu.add(t),t.next()},t.next=3,HA(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.Tc(),e.asyncQueue.enqueueAndForget(Ma(Oa().mark((function t(){return Oa().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){nw(e).Tu.delete(t)},t.next=3,HA(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(bR(e=rR(e,gR)),mR(t)?t:{next:t})}function zP(e,t){return function(e,t){var n=new aw;return e.asyncQueue.enqueueAndForget(Ma(Oa().mark((function r(){return Oa().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=LN,r.next=3,GA(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(bR(e),t)}function BP(e,t,n){var r=n.docs.get(t._key),i=new OP(e);return new uP(e,i,t._key,r,new oP(n.hasPendingWrites,n.fromCache),t.converter)}var qP=function(e){Na(n,e);var t=Pa(n);function n(e,r){var i;return Fa(this,n),(i=t.call(this,e,r))._firestore=e,i}return fe(n,[{key:"get",value:function(e){var t=this,r=DP(e,this._firestore),i=new OP(this._firestore);return Ca(_a(n.prototype),"get",this).call(this,e).then((function(e){return new uP(t._firestore,i,r._key,e._document,new oP(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){Fa(this,e),this._firestore=t,this._transaction=n,this._dataReader=FR(t)}return fe(e,[{key:"get",value:function(e){var t=this,n=DP(e,this._firestore),r=new RP(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return ew();var i=e[0];if(i.isFoundDocument())return new rP(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new rP(t._firestore,r,n._key,null,n.converter);throw ew()}))}},{key:"set",value:function(e,t,n){var r=DP(e,this._firestore),i=AP(r.converter,t,n),a=VR(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=DP(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=vo(t))||t instanceof TR?GR(this._dataReader,"Transaction.update",i._key,t,n,o):KR(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=DP(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function WP(e,t,n){e=rR(e,gR);var r=Object.assign(Object.assign({},CP),n);return function(e){if(e.maxAttempts<1)throw new iw(rw.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){var r=new aw;return e.asyncQueue.enqueueAndForget(Ma(Oa().mark((function i(){var a;return Oa().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,function(e){return zA(e).then((function(e){return e.datastore}))}(e);case 2:a=i.sent,new DA(e.asyncQueue,a,n,t,r).run();case 4:case"end":return i.stop()}}),i)})))),r.promise}(bR(e),(function(n){return t(new qP(e,n))}),r)}function KP(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new BR("arrayUnion",t)}function GP(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new qR("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Hk=e}(fu),iu(new mo("firestore",(function(e,n){var r=n.options,i=e.getProvider("app").getImmediate(),a=new gR(i,new cw(e.getProvider("auth-internal")),new dw(e.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:t},r),a._setSettings(r),a}),"PUBLIC")),yu(Kk,"3.4.11",e),yu(Kk,"3.4.11","esm2017")}();var HP=function(){return HP=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},HP.apply(this,arguments)},QP=function(e){return{loading:void 0===e||null===e,value:e}},$P=function(e){var t=e?e():void 0,n=(0,i.useReducer)((function(e,t){switch(t.type){case"error":return HP(HP({},e),{error:t.error,loading:!1,value:void 0});case"reset":return QP(t.defaultValue);case"value":return HP(HP({},e),{error:void 0,loading:!1,value:t.value});default:return e}}),QP(t)),r=n[0],a=n[1],o=function(){var t=e?e():void 0;a({type:"reset",defaultValue:t})},u=function(e){a({type:"error",error:e})},s=function(e){a({type:"value",value:e})};return(0,i.useMemo)((function(){return{error:r.error,loading:r.loading,reset:o,setError:u,setValue:s,value:r.value}}),[r.error,r.loading,o,u,s,r.value])},YP=function(e,t,n){var r=(0,i.useRef)(e);return(0,i.useEffect)((function(){t(e,r.current)||(r.current=e,n&&n())})),r},JP=function(e,t){var n=!e&&!t,r=!!e&&!!t&&pR(e,t);return n||r},XP=function(e,t){return YP(e,JP,t)},ZP=function(e,t){var n=null===t||void 0===t?void 0:t.snapshotOptions,r=function(e,t){var n=$P(),r=n.error,a=n.loading,o=n.reset,u=n.setError,s=n.setValue,c=n.value,l=XP(e,o);(0,i.useEffect)((function(){if(l.current){var e=(null===t||void 0===t?void 0:t.snapshotListenOptions)?UP(l.current,t.snapshotListenOptions,s,u):UP(l.current,s,u);return function(){e()}}s(void 0)}),[l.current]);var f=[c,a,r];return(0,i.useMemo)((function(){return f}),f)}(e,t),a=r[0],o=r[1],u=r[2],s=[eD(a,n),o,u,a];return(0,i.useMemo)((function(){return s}),s)},eD=function(e,t){return(0,i.useMemo)((function(){return null===e||void 0===e?void 0:e.docs.map((function(e){return e.data(t)}))}),[e,t])},tD=function(){return(0,Jd.jsx)(ep,{children:(0,Jd.jsx)(zi,{container:!0,className:"grid-container",alignItems:"center",justifyContent:"center",children:(0,Jd.jsx)(zi,{container:!0,alignItems:"center",direction:"column",children:(0,Jd.jsxs)("div",{className:"lds-grid",children:[(0,Jd.jsx)("div",{}),(0,Jd.jsx)("div",{}),(0,Jd.jsx)("div",{}),(0,Jd.jsx)("div",{}),(0,Jd.jsx)("div",{}),(0,Jd.jsx)("div",{}),(0,Jd.jsx)("div",{}),(0,Jd.jsx)("div",{}),(0,Jd.jsx)("div",{})]})})})})},nD={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p"},rD=i.forwardRef((function(e,t){var n=e.align,r=void 0===n?"inherit":n,a=e.classes,o=e.className,u=e.color,s=void 0===u?"initial":u,c=e.component,l=e.display,h=void 0===l?"initial":l,d=e.gutterBottom,p=void 0!==d&&d,v=e.noWrap,m=void 0!==v&&v,y=e.paragraph,g=void 0!==y&&y,b=e.variant,k=void 0===b?"body1":b,w=e.variantMapping,x=void 0===w?nD:w,E=re(e,["align","classes","className","color","component","display","gutterBottom","noWrap","paragraph","variant","variantMapping"]),S=c||(g?"p":x[k]||nD[k])||"span";return i.createElement(S,f({className:ae(a.root,o,"inherit"!==k&&a[k],"initial"!==s&&a["color".concat(Ni(s))],m&&a.noWrap,p&&a.gutterBottom,g&&a.paragraph,"inherit"!==r&&a["align".concat(Ni(r))],"initial"!==h&&a["display".concat(Ni(h))]),ref:t},E))})),iD=Ci((function(e){return{root:{margin:0},body2:e.typography.body2,body1:e.typography.body1,caption:e.typography.caption,button:e.typography.button,h1:e.typography.h1,h2:e.typography.h2,h3:e.typography.h3,h4:e.typography.h4,h5:e.typography.h5,h6:e.typography.h6,subtitle1:e.typography.subtitle1,subtitle2:e.typography.subtitle2,overline:e.typography.overline,srOnly:{position:"absolute",height:1,width:1,overflow:"hidden"},alignLeft:{textAlign:"left"},alignCenter:{textAlign:"center"},alignRight:{textAlign:"right"},alignJustify:{textAlign:"justify"},noWrap:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},gutterBottom:{marginBottom:"0.35em"},paragraph:{marginBottom:16},colorInherit:{color:"inherit"},colorPrimary:{color:e.palette.primary.main},colorSecondary:{color:e.palette.secondary.main},colorTextPrimary:{color:e.palette.text.primary},colorTextSecondary:{color:e.palette.text.secondary},colorError:{color:e.palette.error.main},displayInline:{display:"inline"},displayBlock:{display:"block"}}}),{name:"MuiTypography"})(rD),aD=function(e){var t=e.user,n=e.message;return(0,Jd.jsxs)(Ri,{style:{margin:10,border:t.uid===(null===n||void 0===n?void 0:n.uid)?"2px solid green":"2px solid #4865d9",marginLeft:t.uid===(null===n||void 0===n?void 0:n.uid)?"auto":"10px",maxWidth:"30%",padding:5},children:[(0,Jd.jsxs)(zi,{container:!0,alignItems:"flex-start",wrap:"wrap",spacing:1,zeroMinWidth:!0,children:[(0,Jd.jsx)(zi,{item:!0,children:(0,Jd.jsx)(Ea,{src:null===n||void 0===n?void 0:n.photoURL,variant:"circular"})}),(0,Jd.jsx)(zi,{item:!0,children:null===n||void 0===n?void 0:n.displayName})]}),(0,Jd.jsx)(zi,{item:!0,xs:!0,zeroMinWidth:!0,children:(0,Jd.jsx)(iD,{wrap:"wrap",children:null===n||void 0===n?void 0:n.text})})]})},oD=function(){var e=(0,i.useContext)(BO),t=e.auth,n=e.firestore,r=l($d(t),1)[0],a=l((0,i.useState)(""),2),o=a[0],u=a[1],s=l(ZP(n.collection("messages").orderBy("createdAt")),2),c=s[0],f=s[1],h=function(){var e=Ma(Oa().mark((function e(){return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.collection("messages").add({uid:r.uid,displayName:r.displayName,photoURL:r.photoURL,text:o,createdAt:Fp.firestore.FieldValue.serverTimestamp()}),u("");case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,Jd.jsxs)(zi,{container:!0,style:{height:window.innerHeight-50,marginTop:"20px"},justifyContent:"center",children:[(0,Jd.jsxs)("div",{style:{width:"80%",height:"70vh",border:"2px solid #4865d9",overflowY:"auto",borderRadius:5},children:[f&&(0,Jd.jsx)(tD,{}),null===c||void 0===c?void 0:c.map((function(e,t){return(0,Jd.jsx)(aD,{message:e,user:r},r.uid+t)}))]}),(0,Jd.jsxs)(zi,{container:!0,direction:"column",alignItems:"flex-end",style:{width:"80%"},children:[(0,Jd.jsx)(Pm,{fullWidth:!0,id:"standard-basic",label:"Message",focused:!0,value:o,onChange:function(e){return u(e.target.value)},maxRows:2,variant:"outlined"}),(0,Jd.jsx)(ya,{onClick:h,disabled:!o.trim(),variant:"outlined",color:"primary",children:"Send"})]})]})},uD=[{path:Sa,Component:Vp}],sD=[{path:Ia,Component:oD}],cD=function(){var e=(0,i.useContext)(BO).auth;return l($d(e),1)[0]?(0,Jd.jsxs)(H,{children:[sD.map((function(e){var t=e.path,n=e.Component;return(0,Jd.jsx)(K,{path:t,element:(0,Jd.jsx)(n,{}),exact:!0},t)})),(0,Jd.jsx)(K,{path:"*",element:(0,Jd.jsx)(W,{to:Ia})})]}):(0,Jd.jsxs)(H,{children:[uD.map((function(e){var t=e.path,n=e.Component;return(0,Jd.jsx)(K,{path:t,element:(0,Jd.jsx)(n,{}),exact:!0},t)})),(0,Jd.jsx)(K,{path:"*",element:(0,Jd.jsx)(W,{to:Sa})})]})};var lD=function(){var e=(0,i.useContext)(BO).auth,t=l($d(e),3),n=(t[0],t[1]);return t[2],n?(0,Jd.jsx)(tD,{}):(0,Jd.jsxs)(Z,{children:[(0,Jd.jsx)(Xd,{}),(0,Jd.jsx)(cD,{})]})},fD=function(e){e&&e instanceof Function&&n.e(787).then(n.bind(n,787)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),r(e),i(e),a(e),o(e)}))};function hD(){return window}function dD(e,t,n){return pD.apply(this,arguments)}function pD(){return pD=Ma(Oa().mark((function e(t,n,r){var i,a,o,u,s;return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=hD(),o=a.BuildInfo,os(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,kD(n.sessionId);case 4:return u=e.sent,s={},lc()?s.ibi=o.packageName:uc()?s.apn=o.packageName:Zu(t,"operation-not-supported-in-this-environment"),o.displayName&&(s.appDisplayName=o.displayName),s.sessionId=u,e.abrupt("return",Dd(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,s));case 10:case"end":return e.stop()}}),e)}))),pD.apply(this,arguments)}function vD(){return vD=Ma(Oa().mark((function e(t){var n,r,i;return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=hD(),r=n.BuildInfo,i={},lc()?i.iosBundleId=r.packageName:uc()?i.androidPackageName=r.packageName:Zu(t,"operation-not-supported-in-this-environment"),e.next=5,cd(t,i);case 5:case"end":return e.stop()}}),e)}))),vD.apply(this,arguments)}function mD(e){var t=hD().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qa();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function yD(e,t,n){return gD.apply(this,arguments)}function gD(){return gD=Ma(Oa().mark((function e(t,n,r){var i,a,o;return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=hD(),a=i.cordova,o=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var u=null;function s(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){u||(u=window.setTimeout((function(){i(es(t,"redirect-cancelled-by-user"))}),2e3))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(s),document.addEventListener("resume",c,!1),uc()&&document.addEventListener("visibilitychange",l,!1),o=function(){n.removePassiveListener(s),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),u&&window.clearTimeout(u)}}));case 5:return e.prev=5,o(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])}))),gD.apply(this,arguments)}function bD(e){var t,n,r,i,a,o,u,s,c,l,f=hD();is("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),is("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),is("function"===typeof(null===(a=null===(i=null===(r=null===f||void 0===f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),is("function"===typeof(null===(s=null===(u=null===(o=null===f||void 0===f?void 0:f.cordova)||void 0===o?void 0:o.plugins)||void 0===u?void 0:u.browsertab)||void 0===s?void 0:s.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),is("function"===typeof(null===(l=null===(c=null===f||void 0===f?void 0:f.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function kD(e){return wD.apply(this,arguments)}function wD(){return(wD=Ma(Oa().mark((function e(t){var n,r,i;return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=xD(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xD(e){if(os(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var ED=function(e){Na(n,e);var t=Pa(n);function n(){var e;return Fa(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return fe(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),Ca(_a(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=Ma(Oa().mark((function e(){return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(od);function SD(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:t,eventId:n,urlResponse:null,sessionId:ND(),postBody:null,tenantId:e.tenantId,error:es(e,"no-auth-event")}}function ID(e,t){return AD()._set(RD(e),t)}function _D(e){return TD.apply(this,arguments)}function TD(){return TD=Ma(Oa().mark((function e(t){var n;return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,AD()._get(RD(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,AD()._remove(RD(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)}))),TD.apply(this,arguments)}function CD(e,t){var n,r,i=function(e){var t=PD(e),n=t.link?decodeURIComponent(t.link):void 0,r=PD(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return PD(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=PD(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(a.firebaseError)):null,u=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],s=u?es(u):null;return s?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:s,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function ND(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<20;n++){var r=Math.floor(Math.random()*t.length);e.push(t.charAt(r))}return e.join("")}function AD(){return ss(_f)}function RD(e){return ec("authEvent",e.config.apiKey,e.name)}function PD(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t,n=e.split("?"),r=o(t=n)||cn(t)||s(t)||c();r[0];return co(r.slice(1).join("?"))}var DD=function(){function e(){Fa(this,e),this._redirectPersistence=Cf,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=nd,this._overrideRedirectResult=Kh}return fe(e,[{key:"_initialize",value:function(){var e=Ma(Oa().mark((function e(t){var n,r;return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new ED(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){Zu(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=Ma(Oa().mark((function e(t,n,r,i){var a,o,u,s;return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return bD(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),Uh.clear(),e.next=10,this._originValidation(t);case 10:return o=SD(t,r,i),e.next=13,ID(t,o);case 13:return e.next=15,dD(t,o,n);case 15:return u=e.sent,e.next=18,mD(u);case 18:return s=e.sent,e.abrupt("return",yD(t,a,s));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return vD.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=hD(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,o=setTimeout(Ma(Oa().mark((function n(){return Oa().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,_D(e);case 2:t.onEvent(LD());case 3:case"end":return n.stop()}}),n)}))),500),u=function(){var n=Ma(Oa().mark((function n(r){var i,a;return Oa().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(o),n.next=3,_D(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=CD(i,r.url)),t.onEvent(a||LD());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,u);var s=i,c="".concat(a.packageName.toLowerCase(),"://");hD().handleOpenURL=function(){var e=Ma(Oa().mark((function e(t){return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(c)&&u({url:t}),"function"===typeof s)try{s(t)}catch(n){console.error(n)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),OD=DD;function LD(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:es("no-auth-event")}}function MD(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function FD(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qa();return!("file:"!==MD()&&"ionic:"!==MD()&&"capacitor:"!==MD()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function VD(){return Za()&&11===(null===document||void 0===document?void 0:document.documentMode)}function UD(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qa();return/Edge\/\d+/.test(e)}function jD(){try{var e=self.localStorage,t=Rf();if(e)return e.setItem(t,"1"),e.removeItem(t),!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qa();return VD()||UD(e)}()||eo()}catch(n){return zD()&&eo()}return!1}function zD(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function BD(){return("http:"===MD()||"https:"===MD()||Ja()||FD())&&!(Xa()||Ya())&&jD()&&!zD()}function qD(){return FD()&&"undefined"!==typeof document}function WD(){return KD.apply(this,arguments)}function KD(){return(KD=Ma(Oa().mark((function e(){return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(qD()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),1e3);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var GD={LOCAL:"local",NONE:"none",SESSION:"session"},HD=is,QD="persistence";function $D(e,t){HD(Object.values(GD).includes(t),e,"invalid-persistence-type"),Xa()?HD(t!==GD.SESSION,e,"unsupported-persistence-type"):Ya()?HD(t===GD.NONE,e,"unsupported-persistence-type"):zD()?HD(t===GD.NONE||t===GD.LOCAL&&eo(),e,"unsupported-persistence-type"):HD(t===GD.NONE||jD(),e,"unsupported-persistence-type")}function YD(e){return JD.apply(this,arguments)}function JD(){return JD=Ma(Oa().mark((function e(t){var n,r;return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=XD(),r=ec(QD,t.config.apiKey,t.name),n&&n.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)}))),JD.apply(this,arguments)}function XD(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}var ZD=is,eO=function(){function e(){Fa(this,e),this.browserResolver=ss(Md),this.cordovaResolver=ss(OD),this.underlyingResolver=null,this._redirectPersistence=Cf,this._completeRedirectFn=nd,this._overrideRedirectResult=Kh}return fe(e,[{key:"_initialize",value:function(){var e=Ma(Oa().mark((function e(t){return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=Ma(Oa().mark((function e(t,n,r,i){return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Ma(Oa().mark((function e(t,n,r,i){return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return qD()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return ZD(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=Ma(Oa().mark((function e(){var t;return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,WD();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function tO(e){return e.unwrap()}function nO(e,t){var n,r,i=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===(null===(r=t)||void 0===r?void 0:r.code))t.resolver=new uO(e,function(e,t){var n,r=vo(e),i=t;return is(t.customData.operationType,r,"argument-error"),is(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),gf._fromError(r,i)}(e,t));else if(i){var a=rO(t),o=t;a&&(o.credential=a,o.tenantId=i.tenantId||void 0,o.email=i.email||void 0,o.phoneNumber=i.phoneNumber||void 0)}}function rO(e){var t=(e instanceof to?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof to)&&"temporaryProof"in t&&"phoneNumber"in t)return Sh.credentialFromResult(e);var n,r=t.providerId;if(!r||r===Uu)return null;switch(r){case Vu:n=sl;break;case Mu:n=ul;break;case Fu:n=cl;break;case ju:n=hl;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,u=t.pendingToken,s=t.nonce;return a||o||i||u?u?r.startsWith("saml.")?ll._create(r,u):Qc._fromParams({providerId:r,signInMethod:r,pendingToken:u,idToken:i,accessToken:a}):new ol(r).credential({idToken:i,accessToken:a,rawNonce:s}):null}return e instanceof to?n.credentialFromError(e):n.credentialFromResult(e)}function iO(e,t){return t.catch((function(t){throw t instanceof to&&nO(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,rO(t)),additionalUserInfo:mf(e),user:sO.getOrCreate(r)}}))}function aO(e,t){return oO.apply(this,arguments)}function oO(){return oO=Ma(Oa().mark((function e(t,n){var r;return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return iO(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)}))),oO.apply(this,arguments)}var uO=function(){function e(t,n){Fa(this,e),this.resolver=n,this.auth=t.wrapped()}return fe(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return iO(tO(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),sO=function(){function e(t){Fa(this,e),this._delegate=t,this.multiFactor=function(e){var t=vo(e);return xf.has(t)||xf.set(t,wf._fromUser(t)),xf.get(t)}(t)}return fe(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=Ma(Oa().mark((function e(t){return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",iO(this.auth,Dl(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=Ma(Oa().mark((function e(t,n){return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",aO(this.auth,gh(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=Ma(Oa().mark((function e(t){return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",iO(this.auth,Mh(this._delegate,t,eO)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=Ma(Oa().mark((function e(t){return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,YD(yc(this.auth));case 2:return e.abrupt("return",Xh(this._delegate,t,eO));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=Ma(Oa().mark((function e(t){return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",iO(this.auth,Ll(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return aO(this.auth,function(e,t,n){return kh.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return iO(this.auth,function(e,t,n){return Lh.apply(this,arguments)}(this._delegate,e,eO))}},{key:"reauthenticateWithRedirect",value:function(){var e=Ma(Oa().mark((function e(t){return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,YD(yc(this.auth));case 2:return e.abrupt("return",Yh(this._delegate,t,eO));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return function(e,t){return nf.apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(){var e=Ma(Oa().mark((function e(t){return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,wl(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return function(e,t){return sf(vo(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return sf(vo(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return Eh.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(e,t){return uf.apply(this,arguments)}(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return rf.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();sO.USER_MAP=new WeakMap;var cO=is,lO=function(){function e(t,n){if(Fa(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;cO(r,"invalid-api-key",{appName:t.name}),cO(r,"invalid-api-key",{appName:t.name});var i="undefined"!==typeof window?eO:void 0;this._delegate=n.initialize({options:{persistence:hO(r,t.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(Qu),this.linkUnderlyingAuth()}return fe(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?sO.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){bc(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return Kl.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return Gl(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return Wl.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=Ma(Oa().mark((function e(t,n){return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",iO(this._delegate,$l(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return tf.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=nl.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=Ma(Oa().mark((function e(){var t;return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return cO(BD(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,ed(this._delegate,eO);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",iO(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){!function(e,t){yc(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=fO(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=fO(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return Jl.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return function(e,t,n){return ql.apply(this,arguments)}(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=Ma(Oa().mark((function e(t){var n,r;return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:$D(this._delegate,t),e.t0=t,e.next=e.t0===GD.SESSION?4:e.t0===GD.LOCAL?6:e.t0===GD.NONE?11:13;break;case 4:return n=Cf,e.abrupt("break",14);case 6:return e.next=8,ss(Jf)._isAvailable();case 8:return r=e.sent,n=r?Jf:_f,e.abrupt("break",14);case 11:return n=Zs,e.abrupt("break",14);case 13:return e.abrupt("return",Zu("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return iO(this._delegate,function(e){return yl.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return iO(this._delegate,Rl(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return iO(this._delegate,function(e,t){return Ul.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return iO(this._delegate,function(e,t,n){return Rl(vo(e),rl.credential(t,n))}(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return iO(this._delegate,function(e,t,n){return Xl.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return aO(this._delegate,function(e,t,n){return yh.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=Ma(Oa().mark((function e(t){return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return cO(BD(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",iO(this._delegate,Dh(this._delegate,t,eO)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=Ma(Oa().mark((function e(t){return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return cO(BD(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,YD(this._delegate);case 3:return e.abrupt("return",Qh(this._delegate,t,eO));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return Ql.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function fO(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&sO.getOrCreate(e))},error:t,complete:n}}function hO(e,t){var n=function(e,t){var n=XD();if(!n)return[];var r=ec(QD,e,t);switch(n.getItem(r)){case GD.NONE:return[Zs];case GD.LOCAL:return[Jf,Cf];case GD.SESSION:return[Cf];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(Jf)||n.push(Jf),"undefined"!==typeof window)for(var r=0,i=[_f,Cf];r<i.length;r++){var a=i[r];n.includes(a)||n.push(a)}return n.includes(Zs)||n.push(Zs),n}lO.Persistence=GD;var dO=function(){function e(){Fa(this,e),this.providerId="phone",this._delegate=new Sh(tO(Fp.auth()))}return fe(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return Sh.credential(e,t)}}]),e}();dO.PHONE_SIGN_IN_METHOD=Sh.PHONE_SIGN_IN_METHOD,dO.PROVIDER_ID=Sh.PROVIDER_ID;var pO,vO=is,mO=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Fp.app();Fa(this,e),vO(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new ph(t,n,i.auth()),this.type=this._delegate.type}return fe(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}();(pO=Fp).INTERNAL.registerComponent(new mo("auth-compat",(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new lO(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:zu,PASSWORD_RESET:Bu,RECOVER_EMAIL:qu,REVERT_SECOND_FACTOR_ADDITION:Wu,VERIFY_AND_CHANGE_EMAIL:Ku,VERIFY_EMAIL:Gu}},EmailAuthProvider:rl,FacebookAuthProvider:ul,GithubAuthProvider:cl,GoogleAuthProvider:sl,OAuthProvider:ol,SAMLAuthProvider:fl,PhoneAuthProvider:dO,PhoneMultiFactorGenerator:Ud,RecaptchaVerifier:mO,TwitterAuthProvider:hl,Auth:lO,AuthCredential:xc,Error:to}).setInstantiationMode("LAZY").setMultipleInstances(!1)),pO.registerVersion("@firebase/auth-compat","0.2.17");function yO(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new iw("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function gO(){if("undefined"===typeof Uint8Array)throw new iw("unimplemented","Uint8Arrays are not available in this environment.")}function bO(){if("undefined"==typeof atob)throw new iw("unimplemented","Blobs are unavailable in Firestore in this environment.")}var kO=function(){function e(t){Fa(this,e),this._delegate=t}return fe(e,[{key:"toBase64",value:function(){return bO(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return gO(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return bO(),new e(CR.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return gO(),new e(CR.fromUint8Array(t))}}]),e}();function wO(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=Da(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var xO=function(){function e(){Fa(this,e)}return fe(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){_R(e=rR(e,gR));var n=bR(e),r=e._freezeSettings(),i=new CA;return wR(n,i,new _A(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){_R(e=rR(e,gR));var t=bR(e),n=e._freezeSettings(),r=new CA;return wR(t,r,new TA(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new iw(rw.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new aw;return e._queue.enqueueAndForgetEvenWhileRestricted(Ma(Oa().mark((function n(){return Oa().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=Ma(Oa().mark((function e(t){var n;return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(zw.V()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,zw.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(ET(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),EO=function(){function e(t,n,r){var i=this;Fa(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof yx||(this._appCompat=t)}return fe(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||Xk("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};uR(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return xR(this._delegate)}},{key:"disableNetwork",value:function(){return ER(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&ZA("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){return function(e){var t=new aw;return e.asyncQueue.enqueueAndForget(Ma(Oa().mark((function n(){return Oa().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=GN,n.next=3,GA(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(bR(e=rR(e,gR)))}(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return jP(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new iw("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new FO(this,fR(this._delegate,e))}catch(t){throw NO(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new CO(this,hR(this._delegate,e))}catch(t){throw NO(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new OO(this,function(e,t){if(e=rR(e,oR),XA("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new iw(rw.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new cR(e,null,function(e){return new dE(xw.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw NO(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return WP(this._delegate,(function(n){return e(new IO(t,n))}))}},{key:"batch",value:function(){var e=this;return bR(this._delegate),new _O(new PP(this._delegate,(function(t){return zP(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return SR(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return IR(this._delegate,e).then((function(e){return e?new OO(t,e):null}))}}]),e}(),SO=function(e){Na(n,e);var t=Pa(n);function n(e){var r;return Fa(this,n),(r=t.call(this)).firestore=e,r}return fe(n,[{key:"convertBytes",value:function(e){return new kO(new CR(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return CO.forKey(t,this.firestore,null)}}]),n}(NP);var IO=function(){function e(t,n){Fa(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new SO(t)}return fe(e,[{key:"get",value:function(e){var t=this,n=VO(e);return this._delegate.get(n).then((function(e){return new PO(t._firestore,new uP(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=VO(e);return n?(yO("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=VO(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=VO(e);return this._delegate.delete(t),this}}]),e}(),_O=function(){function e(t){Fa(this,e),this._delegate=t}return fe(e,[{key:"set",value:function(e,t,n){var r=VO(e);return n?(yO("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=VO(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=VO(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),TO=function(){function e(t,n,r){Fa(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return fe(e,[{key:"fromFirestore",value:function(e,t){var n=new sP(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new DO(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new SO(t),n),i.set(n,a)),a}}]),e}();TO.INSTANCES=new WeakMap;var CO=function(){function e(t,n){Fa(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new SO(t)}return fe(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new FO(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new FO(this.firestore,fR(this._delegate,e))}catch(t){throw NO(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=vo(e))instanceof sR&&dR(this._delegate,e)}},{key:"set",value:function(e,t){t=yO("DocumentReference.set",t);try{return t?FP(this._delegate,e,t):FP(this._delegate,e)}catch(n){throw NO(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?VP(this._delegate,e):VP.apply(void 0,[this._delegate,e,t].concat(r))}catch(a){throw NO(a,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return function(e){return zP(rR(e.firestore,gR),[new uS(e._key,GE.none())])}(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=AO(n),a=RO(n,(function(t){return new PO(e.firestore,new uP(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return UP(this._delegate,i,a)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?LP(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=rR(e,sR);var t=rR(e.firestore,gR);return $A(bR(t),e._key,{source:"server"}).then((function(n){return BP(t,e,n)}))}(this._delegate):function(e){e=rR(e,sR);var t=rR(e.firestore,gR);return $A(bR(t),e._key).then((function(n){return BP(t,e,n)}))}(this._delegate),t.then((function(e){return new PO(n.firestore,new uP(n.firestore._delegate,n._userDataWriter,e._key,e._document,e.metadata,n._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(TO.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new iw("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new sR(n._delegate,r,new Iw(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new sR(n._delegate,r,t))}}]),e}();function NO(e,t,n){return e.message=e.message.replace(t,n),e}function AO(e){var t,n=Da(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!wO(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function RO(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=wO(e[0])?e[0]:wO(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var PO=function(){function e(t,n){Fa(this,e),this._firestore=t,this._delegate=n}return fe(e,[{key:"ref",get:function(){return new CO(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return fP(this._delegate,e._delegate)}}]),e}(),DO=function(e){Na(n,e);var t=Pa(n);function n(){return Fa(this,n),t.apply(this,arguments)}return fe(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return function(e,t){e||ew()}(void 0!==t),t}}]),n}(PO),OO=function(){function e(t,n){Fa(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new SO(t)}return fe(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,pP(this._delegate,function(e,t,n){var r=t,i=aP("where",e);return new vP(i,r,n)}(t,n,r)))}catch(i){throw NO(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,pP(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=aP("orderBy",e);return new mP(n,t)}(t,n)))}catch(r){throw NO(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,pP(this._delegate,function(e){return iR("limit",e),new yP("limit",e,"F")}(t)))}catch(n){throw NO(n,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,pP(this._delegate,function(e){return iR("limitToLast",e),new yP("limitToLast",e,"L")}(t)))}catch(n){throw NO(n,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,pP(this._delegate,bP.apply(void 0,arguments)))}catch(t){throw NO(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,pP(this._delegate,kP.apply(void 0,arguments)))}catch(t){throw NO(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,pP(this._delegate,xP.apply(void 0,arguments)))}catch(t){throw NO(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,pP(this._delegate,EP.apply(void 0,arguments)))}catch(t){throw NO(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return pR(this._delegate,e._delegate)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?MP(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=rR(e,cR);var t=rR(e.firestore,gR),n=bR(t),r=new OP(t);return YA(n,e._query,{source:"server"}).then((function(n){return new cP(t,r,e,n)}))}(this._delegate):function(e){e=rR(e,cR);var t=rR(e.firestore,gR),n=bR(t),r=new OP(t);return hP(e._query),YA(n,e._query).then((function(n){return new cP(t,r,e,n)}))}(this._delegate),t.then((function(e){return new MO(n.firestore,new cP(n.firestore._delegate,n._userDataWriter,n._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=AO(n),a=RO(n,(function(t){return new MO(e.firestore,new cP(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return UP(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(TO.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),LO=function(){function e(t,n){Fa(this,e),this._firestore=t,this._delegate=n}return fe(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new DO(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),MO=function(){function e(t,n){Fa(this,e),this._firestore=t,this._delegate=n}return fe(e,[{key:"query",get:function(){return new OO(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new DO(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new LO(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new DO(n._firestore,r))}))}},{key:"isEqual",value:function(e){return fP(this._delegate,e._delegate)}}]),e}(),FO=function(e){Na(n,e);var t=Pa(n);function n(e,r){var i;return Fa(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return fe(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new CO(this.firestore,e):null}},{key:"doc",value:function(e){try{return new CO(this.firestore,void 0===e?hR(this._delegate):hR(this._delegate,e))}catch(t){throw NO(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=rR(e.firestore,gR),r=hR(e),i=AP(e.converter,t);return zP(n,[VR(FR(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,GE.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new CO(t.firestore,e)}))}},{key:"isEqual",value:function(e){return dR(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(TO.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(OO);function VO(e){return rR(e,sR)}var UO=function(){function e(){Fa(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=Va(TR,n)}return fe(e,[{key:"isEqual",value:function(e){return(e=vo(e))instanceof TR&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(Sw.keyField().canonicalString())}}]),e}(),jO=function(){function e(t){Fa(this,e),this._delegate=t}return fe(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new zR("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new UR("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=KP.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=GP.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=function(e){return new WR("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),zO={Firestore:EO,GeoPoint:AR,Timestamp:bw,Blob:kO,Transaction:IO,WriteBatch:_O,DocumentReference:CO,DocumentSnapshot:PO,Query:OO,QueryDocumentSnapshot:DO,QuerySnapshot:MO,CollectionReference:FO,FieldPath:UO,FieldValue:jO,setLogLevel:function(e){!function(e){Qk.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new mo("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},zO)))}(e,(function(e,t){return new EO(e,t,new xO)})),e.registerVersion("@firebase/firestore-compat","0.1.20")}(Fp),Fp.initializeApp({apiKey:"AIzaSyAWVLzqbeIcdWSmE1NW3AtMvdxrB5-gjkQ",authDomain:"chat-react-eabc0.firebaseapp.com",projectId:"chat-react-eabc0",storageBucket:"chat-react-eabc0.appspot.com",messagingSenderId:"767047061034",appId:"1:767047061034:web:f0f82bff7a8dc5748bfd53",measurementId:"G-D2SCEHYR3K"});var BO=(0,i.createContext)(null),qO=Fp.auth(),WO=Fp.firestore();a.createRoot(document.getElementById("root")).render((0,Jd.jsx)(BO.Provider,{value:{firebase:Fp,auth:qO,firestore:WO},children:(0,Jd.jsx)(lD,{})})),fD()}()}();
//# sourceMappingURL=main.838923ba.js.map